var H9 = Object.defineProperty;
var Z9 = (e, f, n) => f in e ? H9(e, f, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[f] = n;
var yo = (e, f, n) => (Z9(e, typeof f != "symbol" ? f + "" : f, n), n);
var ya = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Rc(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var U0 = { exports: {} }, lc = { exports: {} };
/**
 * @license
 * KLineChart v1.0.6
 * Copyright (c) 2019 lihu.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */
var Mh;
function U9() {
  return Mh || (Mh = 1, function(e, f) {
    (function(n, y) {
      y(f);
    })(ya, function(n) {
      function y(p, o) {
        if (M(p) || M(o)) {
          for (var s in o)
            if (Object.prototype.hasOwnProperty.call(o, s)) {
              var d = p[s], h = o[s];
              M(h) && M(d) && !S(h) && !S(d) ? y(d, h) : H(o[s]) && (p[s] = o[s]);
            }
        }
      }
      function b(p) {
        if (!M(p) || !S(p))
          return p;
        var o;
        for (var s in o = S(p) ? [] : {}, p)
          if (Object.prototype.hasOwnProperty.call(p, s)) {
            var d = p[s];
            o[s] = M(d) ? b(d) : d;
          }
        return o;
      }
      function S(p) {
        return Object.prototype.toString.call(p) === "[object Array]";
      }
      function T(p) {
        return typeof p == "function";
      }
      function M(p) {
        return typeof p == "object";
      }
      function z(p) {
        return typeof p == "number" && !isNaN(p);
      }
      function H(p) {
        return p != null;
      }
      function ee(p) {
        return typeof p == "boolean";
      }
      function oe(p) {
        return typeof p == "string";
      }
      var _e, ue, ve, le, re, Ce, ke, Ee, De, Qe, et = /\\(\\)?/g, xt = RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`, "g");
      function at(p, o, s) {
        if (H(p)) {
          var d = [];
          o.replace(xt, function(C) {
            for (var L = [], A = 1; arguments.length > A; A++)
              L[A - 1] = arguments[A];
            var F = C;
            return H(L[1]) ? F = L[2].replace(et, "$1") : H(L[0]) && (F = L[0].trim()), d.push(F), "";
          });
          for (var h = p, m = 0, x = d.length; H(h) && x > m; )
            h = h == null ? void 0 : h[d[m++]];
          return H(h) ? h : s ?? "--";
        }
        return s ?? "--";
      }
      function We(p, o, s) {
        var d = p.format(new Date(o)).split(", "), h = d[0].split("/"), m = d[1].split(":"), x = { YYYY: h[2], MM: h[0], DD: h[1], HH: m[0] === "24" ? "00" : m[0], mm: m[1], ss: m[2] };
        return s.replace(/YYYY|MM|DD|HH|mm|ss/g, function(C) {
          return x[C];
        });
      }
      function $e(p, o) {
        var s = +p;
        return z(s) ? s.toFixed(o ?? 2) : "".concat(p);
      }
      function gt(p) {
        var o = +p;
        if (z(o)) {
          if (o > 1e9)
            return "".concat(+(o / 1e9).toFixed(3), "B");
          if (o > 1e6)
            return "".concat(+(o / 1e6).toFixed(3), "M");
          if (o > 1e3)
            return "".concat(+(o / 1e3).toFixed(3), "K");
        }
        return "".concat(p);
      }
      function Ue(p, o) {
        var s = "".concat(p);
        if (o.length === 0)
          return s;
        if (s.includes(".")) {
          var d = s.split(".");
          return "".concat(d[0].replace(/(\d)(?=(\d{3})+$)/g, function(h) {
            return "".concat(h).concat(o);
          }), ".").concat(d[1]);
        }
        return s.replace(/(\d)(?=(\d{3})+$)/g, function(h) {
          return "".concat(h).concat(o);
        });
      }
      n.LineType = void 0, (_e = n.LineType || (n.LineType = {})).Dashed = "dashed", _e.Solid = "solid", n.PolygonType = void 0, (ue = n.PolygonType || (n.PolygonType = {})).Stroke = "stroke", ue.Fill = "fill", ue.StrokeFill = "stroke_fill", n.TooltipShowRule = void 0, (ve = n.TooltipShowRule || (n.TooltipShowRule = {})).Always = "always", ve.FollowCross = "follow_cross", ve.None = "none", n.TooltipShowType = void 0, (le = n.TooltipShowType || (n.TooltipShowType = {})).Standard = "standard", le.Rect = "rect", n.TooltipIconPosition = void 0, (re = n.TooltipIconPosition || (n.TooltipIconPosition = {})).Left = "left", re.Middle = "middle", re.Right = "right", function(p) {
        p.Fixed = "fixed", p.Pointer = "pointer";
      }(Ce || (Ce = {})), n.CandleType = void 0, (ke = n.CandleType || (n.CandleType = {})).CandleSolid = "candle_solid", ke.CandleStroke = "candle_stroke", ke.CandleUpStroke = "candle_up_stroke", ke.CandleDownStroke = "candle_down_stroke", ke.Ohlc = "ohlc", ke.Area = "area", n.YAxisPosition = void 0, (Ee = n.YAxisPosition || (n.YAxisPosition = {})).Left = "left", Ee.Right = "right", n.YAxisType = void 0, (De = n.YAxisType || (n.YAxisType = {})).Normal = "normal", De.Percentage = "percentage", De.Log = "log", n.FormatDateType = void 0, (Qe = n.FormatDateType || (n.FormatDateType = {}))[Qe.Tooltip = 0] = "Tooltip", Qe[Qe.Crosshair = 1] = "Crosshair", Qe[Qe.XAxis = 2] = "XAxis";
      var dt = function(p, o) {
        return dt = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(s, d) {
          s.__proto__ = d;
        } || function(s, d) {
          for (var h in d)
            Object.prototype.hasOwnProperty.call(d, h) && (s[h] = d[h]);
        }, dt(p, o);
      };
      function ft(p, o) {
        if (typeof o != "function" && o !== null)
          throw new TypeError("Class extends value " + o + " is not a constructor or null");
        function s() {
          this.constructor = p;
        }
        dt(p, o), p.prototype = o === null ? Object.create(o) : (s.prototype = o.prototype, new s());
      }
      var $t, Le = function() {
        return Le = Object.assign || function(p) {
          for (var o, s = 1, d = arguments.length; d > s; s++)
            for (var h in o = arguments[s])
              Object.prototype.hasOwnProperty.call(o, h) && (p[h] = o[h]);
          return p;
        }, Le.apply(this, arguments);
      };
      function nt(p, o, s, d) {
        return new (s || (s = Promise))(function(h, m) {
          function x(A) {
            try {
              L(d.next(A));
            } catch (F) {
              m(F);
            }
          }
          function C(A) {
            try {
              L(d.throw(A));
            } catch (F) {
              m(F);
            }
          }
          function L(A) {
            var F;
            A.done ? h(A.value) : (F = A.value, F instanceof s ? F : new s(function(B) {
              B(F);
            })).then(x, C);
          }
          L((d = d.apply(p, o || [])).next());
        });
      }
      function _n(p, o) {
        var s, d, h, m, x = { label: 0, sent: function() {
          if (1 & h[0])
            throw h[1];
          return h[1];
        }, trys: [], ops: [] };
        return m = { next: C(0), throw: C(1), return: C(2) }, typeof Symbol == "function" && (m[Symbol.iterator] = function() {
          return this;
        }), m;
        function C(L) {
          return function(A) {
            return function(F) {
              if (s)
                throw new TypeError("Generator is already executing.");
              for (; m && (m = 0, F[0] && (x = 0)), x; )
                try {
                  if (s = 1, d && (h = 2 & F[0] ? d.return : F[0] ? d.throw || ((h = d.return) && h.call(d), 0) : d.next) && !(h = h.call(d, F[1])).done)
                    return h;
                  switch (d = 0, h && (F = [2 & F[0], h.value]), F[0]) {
                    case 0:
                    case 1:
                      h = F;
                      break;
                    case 4:
                      return x.label++, { value: F[1], done: !1 };
                    case 5:
                      x.label++, d = F[1], F = [0];
                      continue;
                    case 7:
                      F = x.ops.pop(), x.trys.pop();
                      continue;
                    default:
                      if (h = x.trys, !((h = h.length > 0 && h[h.length - 1]) || F[0] !== 6 && F[0] !== 2)) {
                        x = 0;
                        continue;
                      }
                      if (F[0] === 3 && (!h || F[1] > h[0] && h[3] > F[1])) {
                        x.label = F[1];
                        break;
                      }
                      if (F[0] === 6 && h[1] > x.label) {
                        x.label = h[1], h = F;
                        break;
                      }
                      if (h && h[2] > x.label) {
                        x.label = h[2], x.ops.push(F);
                        break;
                      }
                      h[2] && x.ops.pop(), x.trys.pop();
                      continue;
                  }
                  F = o.call(p, x);
                } catch (B) {
                  F = [6, B], d = 0;
                } finally {
                  s = h = 0;
                }
              if (5 & F[0])
                throw F[1];
              return { value: F[0] ? F[1] : void 0, done: !0 };
            }([L, A]);
          };
        }
      }
      function Et(p) {
        var o = typeof Symbol == "function" && Symbol.iterator, s = o && p[o], d = 0;
        if (s)
          return s.call(p);
        if (p && typeof p.length == "number")
          return { next: function() {
            return p && d >= p.length && (p = void 0), { value: p && p[d++], done: !p };
          } };
        throw new TypeError(o ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }
      function ct(p, o) {
        var s = typeof Symbol == "function" && p[Symbol.iterator];
        if (!s)
          return p;
        var d, h, m = s.call(p), x = [];
        try {
          for (; (o === void 0 || o-- > 0) && !(d = m.next()).done; )
            x.push(d.value);
        } catch (C) {
          h = { error: C };
        } finally {
          try {
            d && !d.done && (s = m.return) && s.call(m);
          } finally {
            if (h)
              throw h.error;
          }
        }
        return x;
      }
      function Tt(p, o, s) {
        if (s || arguments.length === 2)
          for (var d, h = 0, m = o.length; m > h; h++)
            !d && h in o || (d || (d = Array.prototype.slice.call(o, 0, h)), d[h] = o[h]);
        return p.concat(d || Array.prototype.slice.call(o));
      }
      typeof SuppressedError == "function" && SuppressedError, n.ActionType = void 0, ($t = n.ActionType || (n.ActionType = {})).OnZoom = "onZoom", $t.OnScroll = "onScroll", $t.OnVisibleRangeChange = "onVisibleRangeChange", $t.OnTooltipIconClick = "onTooltipIconClick", $t.OnCrosshairChange = "onCrosshairChange", $t.OnCandleBarClick = "onCandleBarClick", $t.OnPaneDrag = "onPaneDrag";
      var Nn, Vr = function() {
        function p() {
          this._callbacks = [];
        }
        return p.prototype.subscribe = function(o) {
          var s;
          0 > ((s = this._callbacks.indexOf(o)) !== null && s !== void 0 ? s : -1) && this._callbacks.push(o);
        }, p.prototype.unsubscribe = function(o) {
          var s;
          if (o !== void 0) {
            var d = (s = this._callbacks.indexOf(o)) !== null && s !== void 0 ? s : -1;
            d > -1 && this._callbacks.splice(d, 1);
          } else
            this._callbacks = [];
        }, p.prototype.execute = function(o) {
          this._callbacks.forEach(function(s) {
            s(o);
          });
        }, p.prototype.isEmpty = function() {
          return this._callbacks.length === 0;
        }, p;
      }(), si = 1, Gr = (/* @__PURE__ */ new Date()).getTime();
      function Wr(p) {
        var o = (/* @__PURE__ */ new Date()).getTime();
        return o === Gr ? ++si : si = 1, Gr = o, "".concat(p ?? "").concat(o, "_").concat(si);
      }
      function wn(p, o) {
        var s, d = document.createElement(p), h = o ?? {};
        for (var m in h)
          d.style[m] = (s = h[m]) !== null && s !== void 0 ? s : "";
        return d;
      }
      function Kn(p) {
        var o, s, d;
        return Math.ceil((d = (s = (o = p.ownerDocument) === null || o === void 0 ? void 0 : o.defaultView) === null || s === void 0 ? void 0 : s.devicePixelRatio) !== null && d !== void 0 ? d : 2);
      }
      function Gn(p, o, s) {
        return "".concat(o ?? "normal", " ").concat(p ?? 12, "px ").concat(s ?? "Helvetica Neue");
      }
      function Yr(p, o, s, d) {
        if (Nn === void 0) {
          var h = document.createElement("canvas"), m = Kn(h);
          (Nn = h.getContext("2d")).scale(m, m);
        }
        return Nn.font = Gn(o, s, d), Math.round(Nn.measureText(p).width);
      }
      function jr(p, o, s) {
        var d = 0, h = 0;
        for (h = p.length - 1; d !== h; ) {
          var m = Math.floor((h + d) / 2), x = h - d, C = p[m][o];
          if (s === p[d][o])
            return d;
          if (s === p[h][o])
            return h;
          if (s === C)
            return m;
          if (s > C ? d = m : h = m, 2 >= x)
            break;
        }
        return d;
      }
      function Mi(p, o) {
        return o == null && (o = 10), +(+p).toFixed(o = Math.min(Math.max(0, o), 20));
      }
      function Di(p, o, s) {
        var d = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER];
        return p.forEach(function(h) {
          var m, x;
          d[0] = Math.max((m = h[o]) !== null && m !== void 0 ? m : h, d[0]), d[1] = Math.min((x = h[s]) !== null && x !== void 0 ? x : h, d[1]);
        }), d;
      }
      function qn(p) {
        return Math.log(p) / Math.log(10);
      }
      function Xr(p) {
        return Math.pow(10, p);
      }
      var ma, li = 1, _a = 50, Zs = function() {
        function p(o) {
          this._dateTimeFormat = this._buildDateTimeFormat(), this._zoomEnabled = !0, this._scrollEnabled = !0, this._loading = !0, this._loadMoreCallback = null, this._more = !0, this._totalBarSpace = 0, this._barSpace = 6, this._offsetRightDistance = 50, this._startScrollOffsetRightBarCount = 0, this._minVisibleBarCount = { left: 2, right: 2 }, this._visibleRange = { from: 0, to: 0, realFrom: 0, realTo: 0 }, this._chartStore = o, this._gapBarSpace = this._calcGapBarSpace(), this._offsetRightBarCount = this._offsetRightDistance / this._barSpace;
        }
        return p.prototype._calcGapBarSpace = function() {
          return Math.max(1, Math.min(Math.floor(0.82 * this._barSpace), Math.floor(this._barSpace) - 1));
        }, p.prototype.adjustVisibleRange = function() {
          var o, s = this._chartStore.getDataList(), d = s.length, h = this._totalBarSpace / this._barSpace, m = h - Math.min(this._minVisibleBarCount.left, d);
          this._offsetRightBarCount > m && (this._offsetRightBarCount = m);
          var x = -d + Math.min(this._minVisibleBarCount.right, d);
          x > this._offsetRightBarCount && (this._offsetRightBarCount = x);
          var C = Math.round(this._offsetRightBarCount + d + 0.5);
          C > d && (C = d);
          var L = Math.round(C - h) - 1;
          if (0 > L && (L = 0), this._visibleRange = { from: L, to: C, realFrom: this._offsetRightBarCount > 0 ? Math.round(d + this._offsetRightBarCount - h) - 1 : L, realTo: C }, this._chartStore.getActionStore().execute(n.ActionType.OnVisibleRangeChange, this._visibleRange), this._chartStore.adjustVisibleDataList(), L === 0 && this._more && !this._loading && this._loadMoreCallback !== null) {
            this._loading = !0;
            var A = s[0];
            this._loadMoreCallback((o = A == null ? void 0 : A.timestamp) !== null && o !== void 0 ? o : null);
          }
        }, p.prototype.setMore = function(o) {
          return this._more = o, this;
        }, p.prototype.setLoading = function(o) {
          return this._loading = o, this;
        }, p.prototype.getDateTimeFormat = function() {
          return this._dateTimeFormat;
        }, p.prototype._buildDateTimeFormat = function(o) {
          var s = { hour12: !1, year: "numeric", month: "2-digit", day: "2-digit", hour: "2-digit", minute: "2-digit", second: "2-digit" };
          o !== void 0 && (s.timeZone = o);
          var d = null;
          try {
            d = new Intl.DateTimeFormat("en", s);
          } catch {
          }
          return d;
        }, p.prototype.setTimezone = function(o) {
          var s = this._buildDateTimeFormat(o);
          s !== null && (this._dateTimeFormat = s);
        }, p.prototype.getTimezone = function() {
          return this._dateTimeFormat.resolvedOptions().timeZone;
        }, p.prototype.getBarSpace = function() {
          return { bar: this._barSpace, halfBar: this._barSpace / 2, gapBar: this._gapBarSpace, halfGapBar: this._gapBarSpace / 2 };
        }, p.prototype.setBarSpace = function(o, s) {
          li > o || o > _a || this._barSpace === o || (this._barSpace = o, this._gapBarSpace = this._calcGapBarSpace(), s == null || s(), this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0));
        }, p.prototype.setTotalBarSpace = function(o) {
          return this._totalBarSpace !== o && (this._totalBarSpace = o, this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0)), this;
        }, p.prototype.setOffsetRightDistance = function(o, s) {
          return this._offsetRightDistance = o, this._offsetRightBarCount = o / this._barSpace, s != null && s && (this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0)), this;
        }, p.prototype.resetOffsetRightDistance = function() {
          this.setOffsetRightDistance(this._offsetRightDistance);
        }, p.prototype.getInitialOffsetRightDistance = function() {
          return this._offsetRightDistance;
        }, p.prototype.getOffsetRightDistance = function() {
          return Math.max(0, this._offsetRightBarCount * this._barSpace);
        }, p.prototype.getOffsetRightBarCount = function() {
          return this._offsetRightBarCount;
        }, p.prototype.setOffsetRightBarCount = function(o) {
          return this._offsetRightBarCount = o, this;
        }, p.prototype.setLeftMinVisibleBarCount = function(o) {
          return this._minVisibleBarCount.left = o, this;
        }, p.prototype.setRightMinVisibleBarCount = function(o) {
          return this._minVisibleBarCount.right = o, this;
        }, p.prototype.getVisibleRange = function() {
          return this._visibleRange;
        }, p.prototype.startScroll = function() {
          this._startScrollOffsetRightBarCount = this._offsetRightBarCount;
        }, p.prototype.scroll = function(o) {
          if (this._scrollEnabled) {
            var s = o / this._barSpace;
            this._chartStore.getActionStore().execute(n.ActionType.OnScroll), this._offsetRightBarCount = this._startScrollOffsetRightBarCount - s, this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0);
          }
        }, p.prototype.getDataByDataIndex = function(o) {
          var s;
          return (s = this._chartStore.getDataList()[o]) !== null && s !== void 0 ? s : null;
        }, p.prototype.coordinateToFloatIndex = function(o) {
          var s = this._chartStore.getDataList().length;
          return Math.round(1e6 * (s + this._offsetRightBarCount - (this._totalBarSpace - o) / this._barSpace)) / 1e6;
        }, p.prototype.dataIndexToTimestamp = function(o) {
          var s, d = this.getDataByDataIndex(o);
          return (s = d == null ? void 0 : d.timestamp) !== null && s !== void 0 ? s : null;
        }, p.prototype.timestampToDataIndex = function(o) {
          var s = this._chartStore.getDataList();
          return s.length === 0 ? 0 : jr(s, "timestamp", o);
        }, p.prototype.dataIndexToCoordinate = function(o) {
          var s = this._chartStore.getDataList().length;
          return this._totalBarSpace - (s + this._offsetRightBarCount - o - 0.5) * this._barSpace;
        }, p.prototype.coordinateToDataIndex = function(o) {
          return Math.ceil(this.coordinateToFloatIndex(o)) - 1;
        }, p.prototype.zoom = function(o, s) {
          var d, h = this;
          if (this._zoomEnabled) {
            if ((s == null ? void 0 : s.x) === void 0) {
              var m = this._chartStore.getTooltipStore().getCrosshair();
              s = { x: (d = m == null ? void 0 : m.x) !== null && d !== void 0 ? d : this._totalBarSpace / 2 };
            }
            this._chartStore.getActionStore().execute(n.ActionType.OnZoom);
            var x = this.coordinateToFloatIndex(s.x);
            this.setBarSpace(this._barSpace + o * (this._barSpace / 10), function() {
              h._offsetRightBarCount += x - h.coordinateToFloatIndex(s == null ? void 0 : s.x);
            });
          }
        }, p.prototype.setZoomEnabled = function(o) {
          return this._zoomEnabled = o, this;
        }, p.prototype.getZoomEnabled = function() {
          return this._zoomEnabled;
        }, p.prototype.setScrollEnabled = function(o) {
          return this._scrollEnabled = o, this;
        }, p.prototype.getScrollEnabled = function() {
          return this._scrollEnabled;
        }, p.prototype.setLoadMoreCallback = function(o) {
          return this._loadMoreCallback = o, this;
        }, p.prototype.clear = function() {
          this._more = !0, this._loading = !0, this._visibleRange = { from: 0, to: 0, realFrom: 0, realTo: 0 };
        }, p;
      }();
      function ui(p, o, s, d, h) {
        var m, x = o.result, C = o.figures, L = o.styles, A = at(L, "circles", d.circles), F = A.length, B = at(L, "bars", d.bars), V = B.length, Z = at(L, "lines", d.lines), J = Z.length, Q = 0, ne = 0, de = 0;
        C.forEach(function(be) {
          var me;
          switch (be.type) {
            case "circle":
              var Me = A[Q % F];
              m = Le(Le({}, Me), { color: Me.noChangeColor }), Q++;
              break;
            case "bar":
              var Re = B[ne % V];
              m = Le(Le({}, Re), { color: Re.noChangeColor }), ne++;
              break;
            case "line":
              m = Z[de % J], de++;
          }
          if (H(m)) {
            var He = (me = be.styles) === null || me === void 0 ? void 0 : me.call(be, { prev: { kLineData: p[s - 1], indicatorData: x[s - 1] }, current: { kLineData: p[s], indicatorData: x[s] }, next: { kLineData: p[s + 1], indicatorData: x[s + 1] } }, o, d);
            h(be, Le(Le({}, m), He));
          }
        });
      }
      n.IndicatorSeries = void 0, (ma = n.IndicatorSeries || (n.IndicatorSeries = {})).Normal = "normal", ma.Price = "price", ma.Volume = "volume";
      var Qn = function() {
        function p(o) {
          this.result = [], this._precisionFlag = !1;
          var s = o.name, d = o.shortName, h = o.series, m = o.calcParams, x = o.figures, C = o.precision, L = o.shouldOhlc, A = o.shouldFormatBigNumber, F = o.visible, B = o.minValue, V = o.maxValue, Z = o.styles, J = o.extendData, Q = o.regenerateFigures, ne = o.createTooltipDataSource, de = o.draw;
          this.name = s, this.shortName = d ?? s, this.series = h ?? n.IndicatorSeries.Normal, this.precision = C ?? 4, this.calcParams = m ?? [], this.figures = x ?? [], this.shouldOhlc = L != null && L, this.shouldFormatBigNumber = A != null && A, this.visible = F == null || F, this.minValue = B ?? null, this.maxValue = V ?? null, this.styles = Z ?? {}, this.extendData = J, this.regenerateFigures = Q ?? null, this.createTooltipDataSource = ne ?? null, this.draw = de ?? null;
        }
        return p.prototype.setShortName = function(o) {
          return this.shortName !== o && (this.shortName = o, !0);
        }, p.prototype.setSeries = function(o) {
          return this.series !== o && (this.series = o, !0);
        }, p.prototype.setPrecision = function(o, s) {
          var d = s != null && s, h = Math.floor(o);
          return !(h === this.precision || 0 > o || d && (!d || this._precisionFlag)) && (this.precision = h, d || (this._precisionFlag = !0), !0);
        }, p.prototype.setCalcParams = function(o) {
          var s, d;
          return this.calcParams = o, this.figures = (d = (s = this.regenerateFigures) === null || s === void 0 ? void 0 : s.call(this, o)) !== null && d !== void 0 ? d : this.figures, !0;
        }, p.prototype.setShouldOhlc = function(o) {
          return this.shouldOhlc !== o && (this.shouldOhlc = o, !0);
        }, p.prototype.setShouldFormatBigNumber = function(o) {
          return this.shouldFormatBigNumber !== o && (this.shouldFormatBigNumber = o, !0);
        }, p.prototype.setVisible = function(o) {
          return this.visible !== o && (this.visible = o, !0);
        }, p.prototype.setStyles = function(o) {
          return o !== null && (y(this.styles, o), !0);
        }, p.prototype.setExtendData = function(o) {
          return this.extendData !== o && (this.extendData = o, !0);
        }, p.prototype.setFigures = function(o) {
          return this.figures !== o && (this.figures = o, !0);
        }, p.prototype.setMinValue = function(o) {
          return this.minValue !== o && (this.minValue = o, !0);
        }, p.prototype.setMaxValue = function(o) {
          return this.maxValue !== o && (this.maxValue = o, !0);
        }, p.prototype.setRegenerateFigures = function(o) {
          return this.regenerateFigures !== o && (this.regenerateFigures = o, !0);
        }, p.prototype.setCreateTooltipDataSource = function(o) {
          return this.createTooltipDataSource !== o && (this.createTooltipDataSource = o, !0);
        }, p.prototype.setDraw = function(o) {
          return this.draw !== o && (this.draw = o, !0);
        }, p.prototype.calcIndicator = function(o) {
          return nt(this, void 0, void 0, function() {
            var s;
            return _n(this, function(d) {
              switch (d.label) {
                case 0:
                  return d.trys.push([0, 2, , 3]), [4, this.calc(o, this)];
                case 1:
                  return s = d.sent(), this.result = s, [2, !0];
                case 2:
                  return d.sent(), [2, !1];
                case 3:
                  return [2];
              }
            });
          });
        }, p.extend = function(o) {
          return function(s) {
            function d() {
              return s.call(this, o) || this;
            }
            return ft(d, s), d.prototype.calc = function(h, m) {
              return o.calc(h, m);
            }, d;
          }(p);
        }, p;
      }(), Er = { name: "AVP", shortName: "AVP", series: n.IndicatorSeries.Price, precision: 2, figures: [{ key: "avp", title: "AVP: ", type: "line" }], calc: function(p) {
        var o = 0, s = 0;
        return p.map(function(d) {
          var h, m, x = {}, C = (h = d == null ? void 0 : d.turnover) !== null && h !== void 0 ? h : 0, L = (m = d == null ? void 0 : d.volume) !== null && m !== void 0 ? m : 0;
          return o += C, (s += L) !== 0 && (x.avp = o / s), x;
        });
      } }, Qi = { name: "EMA", shortName: "EMA", series: n.IndicatorSeries.Price, calcParams: [6, 12, 20], precision: 2, shouldOhlc: !0, figures: [{ key: "ema1", title: "EMA6: ", type: "line" }, { key: "ema2", title: "EMA12: ", type: "line" }, { key: "ema3", title: "EMA20: ", type: "line" }], regenerateFigures: function(p) {
        return p.map(function(o, s) {
          return { key: "ema".concat(s + 1), title: "EMA".concat(o, ": "), type: "line" };
        });
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures, h = 0, m = [];
        return p.map(function(x, C) {
          var L = {}, A = x.close;
          return h += A, s.forEach(function(F, B) {
            F - 1 > C || (m[B] = C > F - 1 ? (2 * A + (F - 1) * m[B]) / (F + 1) : h / F, L[d[B].key] = m[B]);
          }), L;
        });
      } }, So = { name: "MA", shortName: "MA", series: n.IndicatorSeries.Price, calcParams: [5, 10, 30, 60], precision: 2, shouldOhlc: !0, figures: [{ key: "ma5", title: "MA5: ", type: "line" }, { key: "ma10", title: "MA10: ", type: "line" }, { key: "ma30", title: "MA30: ", type: "line" }, { key: "ma60", title: "MA60: ", type: "line" }], regenerateFigures: function(p) {
        return p.map(function(o, s) {
          return { key: "ma".concat(s + 1), title: "MA".concat(o, ": "), type: "line" };
        });
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures, h = [];
        return p.map(function(m, x) {
          var C = {}, L = m.close;
          return s.forEach(function(A, F) {
            var B;
            h[F] = ((B = h[F]) !== null && B !== void 0 ? B : 0) + L, A - 1 > x || (C[d[F].key] = h[F] / A, h[F] -= p[x - (A - 1)].close);
          }), C;
        });
      } }, Ji = { name: "RSI", shortName: "RSI", calcParams: [6, 12, 24], figures: [{ key: "rsi1", title: "RSI1: ", type: "line" }, { key: "rsi2", title: "RSI2: ", type: "line" }, { key: "rsi3", title: "RSI3: ", type: "line" }], regenerateFigures: function(p) {
        return p.map(function(o, s) {
          var d = s + 1;
          return { key: "rsi".concat(d), title: "RSI".concat(d, ": "), type: "line" };
        });
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures, h = [], m = [];
        return p.map(function(x, C) {
          var L, A = {}, F = ((L = p[C - 1]) !== null && L !== void 0 ? L : x).close, B = x.close - F;
          return s.forEach(function(V, Z) {
            var J, Q, ne;
            if (B > 0 ? h[Z] = ((J = h[Z]) !== null && J !== void 0 ? J : 0) + B : m[Z] = ((Q = m[Z]) !== null && Q !== void 0 ? Q : 0) + Math.abs(B), C >= V - 1) {
              A[d[Z].key] = m[Z] !== 0 ? 100 - 100 / (1 + h[Z] / m[Z]) : 0;
              var de = p[C - (V - 1)], be = (ne = p[C - V]) !== null && ne !== void 0 ? ne : de, me = de.close - be.close;
              me > 0 ? h[Z] -= me : m[Z] -= Math.abs(me);
            }
          }), A;
        });
      } }, cs = { name: "VOL", shortName: "VOL", series: n.IndicatorSeries.Volume, calcParams: [5, 10, 20], shouldFormatBigNumber: !0, precision: 0, minValue: 0, figures: [{ key: "ma1", title: "MA5: ", type: "line" }, { key: "ma2", title: "MA10: ", type: "line" }, { key: "ma3", title: "MA20: ", type: "line" }, { key: "volume", title: "VOLUME: ", type: "bar", baseValue: 0, styles: function(p, o, s) {
        var d = p.current.kLineData;
        return { color: d.close > d.open ? at(o.styles, "bars[0].upColor", s.bars[0].upColor) : d.open > d.close ? at(o.styles, "bars[0].downColor", s.bars[0].downColor) : at(o.styles, "bars[0].noChangeColor", s.bars[0].noChangeColor) };
      } }], regenerateFigures: function(p) {
        var o = p.map(function(s, d) {
          return { key: "ma".concat(d + 1), title: "MA".concat(s, ": "), type: "line" };
        });
        return o.push({ key: "volume", title: "VOLUME: ", type: "bar", baseValue: 0, styles: function(s, d, h) {
          var m = s.current.kLineData;
          return { color: m.close > m.open ? at(d.styles, "bars[0].upColor", h.bars[0].upColor) : m.open > m.close ? at(d.styles, "bars[0].downColor", h.bars[0].downColor) : at(d.styles, "bars[0].noChangeColor", h.bars[0].noChangeColor) };
        } }), o;
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures, h = [];
        return p.map(function(m, x) {
          var C, L = (C = m.volume) !== null && C !== void 0 ? C : 0, A = { volume: L };
          return s.forEach(function(F, B) {
            var V, Z;
            h[B] = ((V = h[B]) !== null && V !== void 0 ? V : 0) + L, F - 1 > x || (A[d[B].key] = h[B] / F, h[B] -= (Z = p[x - (F - 1)].volume) !== null && Z !== void 0 ? Z : 0);
          }), A;
        });
      } }, ea = { name: "WR", shortName: "WR", calcParams: [6, 10, 14], figures: [{ key: "wr1", title: "WR1: ", type: "line" }, { key: "wr2", title: "WR2: ", type: "line" }, { key: "wr3", title: "WR3: ", type: "line" }], regenerateFigures: function(p) {
        return p.map(function(o, s) {
          return { key: "wr".concat(s + 1), title: "WR".concat(s + 1, ": "), type: "line" };
        });
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures;
        return p.map(function(h, m) {
          var x = {}, C = h.close;
          return s.forEach(function(L, A) {
            var F = L - 1;
            if (m >= F) {
              var B = Di(p.slice(m - F, m + 1), "high", "low"), V = B[0], Z = V - B[1];
              x[d[A].key] = Z === 0 ? 0 : (C - V) / Z * 100;
            }
          }), x;
        });
      } }, Lr = {}, xa = [Er, { name: "AO", shortName: "AO", calcParams: [5, 34], figures: [{ key: "ao", title: "AO: ", type: "bar", baseValue: 0, styles: function(p, o, s) {
        var d, h, m, x, C, L = (h = (d = p.prev.indicatorData) === null || d === void 0 ? void 0 : d.ao) !== null && h !== void 0 ? h : Number.MIN_SAFE_INTEGER, A = (x = (m = p.current.indicatorData) === null || m === void 0 ? void 0 : m.ao) !== null && x !== void 0 ? x : Number.MIN_SAFE_INTEGER;
        return { color: C = A > L ? at(o.styles, "bars[0].upColor", s.bars[0].upColor) : at(o.styles, "bars[0].downColor", s.bars[0].downColor), style: A > L ? n.PolygonType.Stroke : n.PolygonType.Fill, borderColor: C };
      } }], calc: function(p, o) {
        var s = o.calcParams, d = Math.max(s[0], s[1]), h = 0, m = 0, x = 0, C = 0;
        return p.map(function(L, A) {
          var F, B = {}, V = (L.low + L.high) / 2;
          return h += V, m += V, A < s[0] - 1 || (x = h / s[0], h -= ((F = p[A - (s[0] - 1)]).low + F.high) / 2), A < s[1] - 1 || (C = m / s[1], m -= ((F = p[A - (s[1] - 1)]).low + F.high) / 2), d - 1 > A || (B.ao = x - C), B;
        });
      } }, { name: "BIAS", shortName: "BIAS", calcParams: [6, 12, 24], figures: [{ key: "bias1", title: "BIAS6: ", type: "line" }, { key: "bias2", title: "BIAS12: ", type: "line" }, { key: "bias3", title: "BIAS24: ", type: "line" }], regenerateFigures: function(p) {
        return p.map(function(o, s) {
          return { key: "bias".concat(s + 1), title: "BIAS".concat(o, ": "), type: "line" };
        });
      }, calc: function(p, o) {
        var s = o.calcParams, d = o.figures, h = [];
        return p.map(function(m, x) {
          var C = {}, L = m.close;
          return s.forEach(function(A, F) {
            var B;
            if (h[F] = ((B = h[F]) !== null && B !== void 0 ? B : 0) + L, x >= A - 1) {
              var V = h[F] / s[F];
              C[d[F].key] = (L - V) / V * 100, h[F] -= p[x - (A - 1)].close;
            }
          }), C;
        });
      } }, { name: "BOLL", shortName: "BOLL", series: n.IndicatorSeries.Price, calcParams: [20, 2], precision: 2, shouldOhlc: !0, figures: [{ key: "up", title: "UP: ", type: "line" }, { key: "mid", title: "MID: ", type: "line" }, { key: "dn", title: "DN: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = s[0] - 1, h = 0;
        return p.map(function(m, x) {
          var C = {};
          if (h += m.close, x >= d) {
            C.mid = h / s[0];
            var L = function(A, F) {
              var B = A.length, V = 0;
              return A.forEach(function(Z) {
                var J = Z.close - F;
                V += J * J;
              }), Math.sqrt((V = Math.abs(V)) / B);
            }(p.slice(x - d, x + 1), C.mid);
            C.up = C.mid + s[1] * L, C.dn = C.mid - s[1] * L, h -= p[x - d].close;
          }
          return C;
        });
      } }, { name: "BRAR", shortName: "BRAR", calcParams: [26], figures: [{ key: "br", title: "BR: ", type: "line" }, { key: "ar", title: "AR: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0, m = 0, x = 0;
        return p.map(function(C, L) {
          var A, F, B = {}, V = C.high, Z = C.low, J = C.open, Q = ((A = p[L - 1]) !== null && A !== void 0 ? A : C).close;
          if (m += V - J, x += J - Z, d += V - Q, h += Q - Z, L >= s[0] - 1) {
            B.ar = x !== 0 ? m / x * 100 : 0, B.br = h !== 0 ? d / h * 100 : 0;
            var ne = p[L - (s[0] - 1)], de = ne.high, be = ne.low, me = ne.open, Me = ((F = p[L - s[0]]) !== null && F !== void 0 ? F : p[L - (s[0] - 1)]).close;
            d -= de - Me, h -= Me - be, m -= de - me, x -= me - be;
          }
          return B;
        });
      } }, { name: "BBI", shortName: "BBI", series: n.IndicatorSeries.Price, precision: 2, calcParams: [3, 6, 12, 24], shouldOhlc: !0, figures: [{ key: "bbi", title: "BBI: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = Math.max.apply(Math, Tt([], ct(s), !1)), h = [], m = [];
        return p.map(function(x, C) {
          var L = {}, A = x.close;
          if (s.forEach(function(B, V) {
            var Z;
            h[V] = ((Z = h[V]) !== null && Z !== void 0 ? Z : 0) + A, B - 1 > C || (m[V] = h[V] / B, h[V] -= p[C - (B - 1)].close);
          }), C >= d - 1) {
            var F = 0;
            m.forEach(function(B) {
              F += B;
            }), L.bbi = F / 4;
          }
          return L;
        });
      } }, { name: "CCI", shortName: "CCI", calcParams: [20], figures: [{ key: "cci", title: "CCI: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = s[0] - 1, h = 0, m = [];
        return p.map(function(x, C) {
          var L = {}, A = (x.high + x.low + x.close) / 3;
          if (h += A, m.push(A), C >= d) {
            var F = h / s[0], B = m.slice(C - d, C + 1), V = 0;
            B.forEach(function(J) {
              V += Math.abs(J - F);
            });
            var Z = V / s[0];
            L.cci = Z !== 0 ? (A - F) / Z / 0.015 : 0, h -= (p[C - d].high + p[C - d].low + p[C - d].close) / 3;
          }
          return L;
        });
      } }, { name: "CR", shortName: "CR", calcParams: [26, 10, 20, 40, 60], figures: [{ key: "cr", title: "CR: ", type: "line" }, { key: "ma1", title: "MA1: ", type: "line" }, { key: "ma2", title: "MA2: ", type: "line" }, { key: "ma3", title: "MA3: ", type: "line" }, { key: "ma4", title: "MA4: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = Math.ceil(s[1] / 2.5 + 1), h = Math.ceil(s[2] / 2.5 + 1), m = Math.ceil(s[3] / 2.5 + 1), x = Math.ceil(s[4] / 2.5 + 1), C = 0, L = [], A = 0, F = [], B = 0, V = [], Z = 0, J = [], Q = [];
        return p.forEach(function(ne, de) {
          var be, me, Me, Re, He, Ke = {}, rt = (be = p[de - 1]) !== null && be !== void 0 ? be : ne, ot = (rt.high + rt.close + rt.low + rt.open) / 4, _t = Math.max(0, ne.high - ot), lt = Math.max(0, ot - ne.low);
          s[0] - 1 > de || (Ke.cr = lt !== 0 ? _t / lt * 100 : 0, C += Ke.cr, A += Ke.cr, B += Ke.cr, Z += Ke.cr, s[0] + s[1] - 2 > de || (L.push(C / s[1]), s[0] + s[1] + d - 3 > de || (Ke.ma1 = L[L.length - 1 - d]), C -= (me = Q[de - (s[1] - 1)].cr) !== null && me !== void 0 ? me : 0), s[0] + s[2] - 2 > de || (F.push(A / s[2]), s[0] + s[2] + h - 3 > de || (Ke.ma2 = F[F.length - 1 - h]), A -= (Me = Q[de - (s[2] - 1)].cr) !== null && Me !== void 0 ? Me : 0), s[0] + s[3] - 2 > de || (V.push(B / s[3]), s[0] + s[3] + m - 3 > de || (Ke.ma3 = V[V.length - 1 - m]), B -= (Re = Q[de - (s[3] - 1)].cr) !== null && Re !== void 0 ? Re : 0), s[0] + s[4] - 2 > de || (J.push(Z / s[4]), s[0] + s[4] + x - 3 > de || (Ke.ma4 = J[J.length - 1 - x]), Z -= (He = Q[de - (s[4] - 1)].cr) !== null && He !== void 0 ? He : 0)), Q.push(Ke);
        }), Q;
      } }, { name: "DMA", shortName: "DMA", calcParams: [10, 50, 10], figures: [{ key: "dma", title: "DMA: ", type: "line" }, { key: "ama", title: "AMA: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = Math.max(s[0], s[1]), h = 0, m = 0, x = 0, C = [];
        return p.forEach(function(L, A) {
          var F, B = {}, V = L.close;
          h += V, m += V;
          var Z = 0, J = 0;
          if (s[0] - 1 > A || (Z = h / s[0], h -= p[A - (s[0] - 1)].close), s[1] - 1 > A || (J = m / s[1], m -= p[A - (s[1] - 1)].close), A >= d - 1) {
            var Q = Z - J;
            B.dma = Q, x += Q, d + s[2] - 2 > A || (B.ama = x / s[2], x -= (F = C[A - (s[2] - 1)].dma) !== null && F !== void 0 ? F : 0);
          }
          C.push(B);
        }), C;
      } }, { name: "DMI", shortName: "DMI", calcParams: [14, 6], figures: [{ key: "pdi", title: "PDI: ", type: "line" }, { key: "mdi", title: "MDI: ", type: "line" }, { key: "adx", title: "ADX: ", type: "line" }, { key: "adxr", title: "ADXR: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0, m = 0, x = 0, C = 0, L = 0, A = 0, F = 0, B = [];
        return p.forEach(function(V, Z) {
          var J, Q, ne = {}, de = (J = p[Z - 1]) !== null && J !== void 0 ? J : V, be = de.close, me = V.high, Me = V.low, Re = me - Me, He = Math.abs(me - be), Ke = Math.abs(be - Me), rt = me - de.high, ot = de.low - Me, _t = Math.max(Math.max(Re, He), Ke), lt = rt > 0 && rt > ot ? rt : 0, St = ot > 0 && ot > rt ? ot : 0;
          if (d += _t, h += lt, m += St, Z >= s[0] - 1) {
            Z > s[0] - 1 ? (x = x - x / s[0] + _t, C = C - C / s[0] + lt, L = L - L / s[0] + St) : (x = d, C = h, L = m);
            var Pt = 0, Lt = 0;
            x !== 0 && (Pt = 100 * C / x, Lt = 100 * L / x), ne.pdi = Pt, ne.mdi = Lt;
            var Yt = 0;
            Lt + Pt !== 0 && (Yt = Math.abs(Lt - Pt) / (Lt + Pt) * 100), A += Yt, 2 * s[0] - 2 > Z || (ne.adx = F = Z > 2 * s[0] - 2 ? (F * (s[0] - 1) + Yt) / s[0] : A / s[0], 2 * s[0] + s[1] - 3 > Z || (ne.adxr = (((Q = B[Z - (s[1] - 1)].adx) !== null && Q !== void 0 ? Q : 0) + F) / 2));
          }
          B.push(ne);
        }), B;
      } }, { name: "EMV", shortName: "EMV", calcParams: [14, 9], figures: [{ key: "emv", title: "EMV: ", type: "line" }, { key: "maEmv", title: "MAEMV: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = [];
        return p.map(function(m, x) {
          var C, L = {};
          if (x > 0) {
            var A = p[x - 1], F = m.high, B = m.low, V = (C = m.volume) !== null && C !== void 0 ? C : 0, Z = (F + B) / 2 - (A.high + A.low) / 2;
            V === 0 || F - B == 0 ? L.emv = 0 : L.emv = Z / (V / 1e8 / (F - B)), d += L.emv, h.push(L.emv), s[0] > x || (L.maEmv = d / s[0], d -= h[x - s[0]]);
          }
          return L;
        });
      } }, Qi, { name: "MTM", shortName: "MTM", calcParams: [12, 6], figures: [{ key: "mtm", title: "MTM: ", type: "line" }, { key: "maMtm", title: "MAMTM: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = [];
        return p.forEach(function(m, x) {
          var C, L = {};
          x < s[0] || (L.mtm = m.close - p[x - s[0]].close, d += L.mtm, s[0] + s[1] - 1 > x || (L.maMtm = d / s[1], d -= (C = h[x - (s[1] - 1)].mtm) !== null && C !== void 0 ? C : 0)), h.push(L);
        }), h;
      } }, So, { name: "MACD", shortName: "MACD", calcParams: [12, 26, 9], figures: [{ key: "dif", title: "DIF: ", type: "line" }, { key: "dea", title: "DEA: ", type: "line" }, { key: "macd", title: "MACD: ", type: "bar", baseValue: 0, styles: function(p, o, s) {
        var d, h, m, x, C, L = (h = (d = p.prev.indicatorData) === null || d === void 0 ? void 0 : d.macd) !== null && h !== void 0 ? h : Number.MIN_SAFE_INTEGER, A = (x = (m = p.current.indicatorData) === null || m === void 0 ? void 0 : m.macd) !== null && x !== void 0 ? x : Number.MIN_SAFE_INTEGER;
        return C = A > 0 ? at(o.styles, "bars[0].upColor", s.bars[0].upColor) : 0 > A ? at(o.styles, "bars[0].downColor", s.bars[0].downColor) : at(o.styles, "bars[0].noChangeColor", s.bars[0].noChangeColor), { style: A > L ? n.PolygonType.Stroke : n.PolygonType.Fill, color: C, borderColor: C };
      } }], calc: function(p, o) {
        var s, d, h = o.calcParams, m = 0, x = 0, C = 0, L = 0, A = Math.max(h[0], h[1]);
        return p.map(function(F, B) {
          var V = {}, Z = F.close;
          return m += Z, h[0] - 1 > B || (s = B > h[0] - 1 ? (2 * Z + (h[0] - 1) * s) / (h[0] + 1) : m / h[0]), h[1] - 1 > B || (d = B > h[1] - 1 ? (2 * Z + (h[1] - 1) * d) / (h[1] + 1) : m / h[1]), A - 1 > B || (V.dif = x = s - d, C += x, A + h[2] - 2 > B || (V.macd = 2 * (x - (L = B > A + h[2] - 2 ? (2 * x + L * (h[2] - 1)) / (h[2] + 1) : C / h[2])), V.dea = L)), V;
        });
      } }, { name: "OBV", shortName: "OBV", calcParams: [30], figures: [{ key: "obv", title: "OBV: ", type: "line" }, { key: "maObv", title: "MAOBV: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0, m = [];
        return p.forEach(function(x, C) {
          var L, A, F, B, V = (L = p[C - 1]) !== null && L !== void 0 ? L : x;
          V.close > x.close ? h -= (A = x.volume) !== null && A !== void 0 ? A : 0 : x.close > V.close && (h += (F = x.volume) !== null && F !== void 0 ? F : 0);
          var Z = { obv: h };
          d += h, s[0] - 1 > C || (Z.maObv = d / s[0], d -= (B = m[C - (s[0] - 1)].obv) !== null && B !== void 0 ? B : 0), m.push(Z);
        }), m;
      } }, { name: "PVT", shortName: "PVT", figures: [{ key: "pvt", title: "PVT: ", type: "line" }], calc: function(p) {
        var o = 0;
        return p.map(function(s, d) {
          var h, m, x = {}, C = (h = s.volume) !== null && h !== void 0 ? h : 1, L = ((m = p[d - 1]) !== null && m !== void 0 ? m : s).close, A = 0, F = L * C;
          return F !== 0 && (A = (s.close - L) / F), x.pvt = o += A, x;
        });
      } }, { name: "PSY", shortName: "PSY", calcParams: [12, 6], figures: [{ key: "psy", title: "PSY: ", type: "line" }, { key: "maPsy", title: "MAPSY: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0, m = [], x = [];
        return p.forEach(function(C, L) {
          var A, F, B = {}, V = ((A = p[L - 1]) !== null && A !== void 0 ? A : C).close, Z = C.close - V > 0 ? 1 : 0;
          m.push(Z), d += Z, s[0] - 1 > L || (B.psy = d / s[0] * 100, h += B.psy, s[0] + s[1] - 2 > L || (B.maPsy = h / s[1], h -= (F = x[L - (s[1] - 1)].psy) !== null && F !== void 0 ? F : 0), d -= m[L - (s[0] - 1)]), x.push(B);
        }), x;
      } }, { name: "ROC", shortName: "ROC", calcParams: [12, 6], figures: [{ key: "roc", title: "ROC: ", type: "line" }, { key: "maRoc", title: "MAROC: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = [], h = 0;
        return p.forEach(function(m, x) {
          var C, L, A = {};
          if (x >= s[0] - 1) {
            var F = ((C = p[x - s[0]]) !== null && C !== void 0 ? C : p[x - (s[0] - 1)]).close;
            A.roc = F !== 0 ? (m.close - F) / F * 100 : 0, h += A.roc, s[0] - 1 + s[1] - 1 > x || (A.maRoc = h / s[1], h -= (L = d[x - (s[1] - 1)].roc) !== null && L !== void 0 ? L : 0);
          }
          d.push(A);
        }), d;
      } }, Ji, { name: "SMA", shortName: "SMA", series: n.IndicatorSeries.Price, calcParams: [12, 2], precision: 2, figures: [{ key: "sma", title: "SMA: ", type: "line" }], shouldOhlc: !0, calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0;
        return p.map(function(m, x) {
          var C = {}, L = m.close;
          return d += L, s[0] - 1 > x || (C.sma = h = x > s[0] - 1 ? (L * s[1] + h * (s[0] - s[1] + 1)) / (s[0] + 1) : d / s[0]), C;
        });
      } }, { name: "KDJ", shortName: "KDJ", calcParams: [9, 3, 3], figures: [{ key: "k", title: "K: ", type: "line" }, { key: "d", title: "D: ", type: "line" }, { key: "j", title: "J: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = [];
        return p.forEach(function(h, m) {
          var x, C, L, A, F = {}, B = h.close;
          if (m >= s[0] - 1) {
            var V = Di(p.slice(m - (s[0] - 1), m + 1), "high", "low"), Z = V[1], J = V[0] - Z;
            F.k = ((s[1] - 1) * ((C = (x = d[m - 1]) === null || x === void 0 ? void 0 : x.k) !== null && C !== void 0 ? C : 50) + (B - Z) / (J === 0 ? 1 : J) * 100) / s[1], F.d = ((s[2] - 1) * ((A = (L = d[m - 1]) === null || L === void 0 ? void 0 : L.d) !== null && A !== void 0 ? A : 50) + F.k) / s[2], F.j = 3 * F.k - 2 * F.d;
          }
          d.push(F);
        }), d;
      } }, { name: "SAR", shortName: "SAR", series: n.IndicatorSeries.Price, calcParams: [2, 2, 20], precision: 2, shouldOhlc: !0, figures: [{ key: "sar", title: "SAR: ", type: "circle", styles: function(p, o, s) {
        var d, h, m = p.current, x = (h = (d = m.indicatorData) === null || d === void 0 ? void 0 : d.sar) !== null && h !== void 0 ? h : Number.MIN_SAFE_INTEGER, C = m.kLineData;
        return { color: ((C == null ? void 0 : C.high) + (C == null ? void 0 : C.low)) / 2 > x ? at(o.styles, "circles[0].upColor", s.circles[0].upColor) : at(o.styles, "circles[0].downColor", s.circles[0].downColor) };
      } }], calc: function(p, o) {
        var s = o.calcParams, d = s[0] / 100, h = s[1] / 100, m = s[2] / 100, x = d, C = -100, L = !1, A = 0;
        return p.map(function(F, B) {
          var V = A, Z = F.high, J = F.low;
          if (L) {
            (C === -100 || Z > C) && (C = Z, x = Math.min(x + h, m)), A = V + x * (C - V);
            var Q = Math.min(p[Math.max(1, B) - 1].low, J);
            A > F.low ? (A = C, x = d, C = -100, L = !L) : A > Q && (A = Q);
          } else {
            (C === -100 || C > J) && (C = J, x = Math.min(x + h, m)), A = V + x * (C - V);
            var ne = Math.max(p[Math.max(1, B) - 1].high, Z);
            F.high > A ? (A = C, x = 0, C = -100, L = !L) : ne > A && (A = ne);
          }
          return { sar: A };
        });
      } }, { name: "TRIX", shortName: "TRIX", calcParams: [12, 9], figures: [{ key: "trix", title: "TRIX: ", type: "line" }, { key: "maTrix", title: "MATRIX: ", type: "line" }], calc: function(p, o) {
        var s, d, h, m = o.calcParams, x = 0, C = 0, L = 0, A = 0, F = [];
        return p.forEach(function(B, V) {
          var Z, J = {}, Q = B.close;
          if (x += Q, V >= m[0] - 1 && (C += s = V > m[0] - 1 ? (2 * Q + (m[0] - 1) * s) / (m[0] + 1) : x / m[0], V >= 2 * m[0] - 2 && (L += d = V > 2 * m[0] - 2 ? (2 * s + (m[0] - 1) * d) / (m[0] + 1) : C / m[0], V >= 3 * m[0] - 3))) {
            var ne = void 0, de = 0;
            V > 3 * m[0] - 3 ? de = ((ne = (2 * d + (m[0] - 1) * h) / (m[0] + 1)) - h) / h * 100 : ne = L / m[0], h = ne, J.trix = de, A += de, 3 * m[0] + m[1] - 4 > V || (J.maTrix = A / m[1], A -= (Z = F[V - (m[1] - 1)].trix) !== null && Z !== void 0 ? Z : 0);
          }
          F.push(J);
        }), F;
      } }, cs, { name: "VR", shortName: "VR", calcParams: [26, 6], figures: [{ key: "vr", title: "VR: ", type: "line" }, { key: "maVr", title: "MAVR: ", type: "line" }], calc: function(p, o) {
        var s = o.calcParams, d = 0, h = 0, m = 0, x = 0, C = [];
        return p.forEach(function(L, A) {
          var F, B, V, Z, J, Q = {}, ne = L.close, de = ((F = p[A - 1]) !== null && F !== void 0 ? F : L).close, be = (B = L.volume) !== null && B !== void 0 ? B : 0;
          if (ne > de ? d += be : de > ne ? h += be : m += be, A >= s[0] - 1) {
            var me = m / 2;
            Q.vr = h + me === 0 ? 0 : (d + me) / (h + me) * 100, x += Q.vr, s[0] + s[1] - 2 > A || (Q.maVr = x / s[1], x -= (V = C[A - (s[1] - 1)].vr) !== null && V !== void 0 ? V : 0);
            var Me = p[A - (s[0] - 1)], Re = (Z = p[A - s[0]]) !== null && Z !== void 0 ? Z : Me, He = Me.close, Ke = (J = Me.volume) !== null && J !== void 0 ? J : 0;
            He > Re.close ? d -= Ke : Re.close > He ? h -= Ke : m -= Ke;
          }
          C.push(Q);
        }), C;
      } }, ea];
      function ba(p) {
        var o;
        return (o = Lr[p]) !== null && o !== void 0 ? o : null;
      }
      xa.forEach(function(p) {
        Lr[p.name] = Qn.extend(p);
      });
      var Ca, wo = function() {
        function p(o) {
          this._instances = /* @__PURE__ */ new Map(), this._chartStore = o;
        }
        return p.prototype._overrideInstance = function(o, s) {
          var d = s.shortName, h = s.series, m = s.calcParams, x = s.precision, C = s.figures, L = s.minValue, A = s.maxValue, F = s.shouldOhlc, B = s.shouldFormatBigNumber, V = s.visible, Z = s.styles, J = s.extendData, Q = s.regenerateFigures, ne = s.createTooltipDataSource, de = s.draw, be = s.calc, me = !1;
          d !== void 0 && o.setShortName(d) && (me = !0), h !== void 0 && o.setSeries(h) && (me = !0);
          var Me = !1;
          return m !== void 0 && o.setCalcParams(m) && (me = !0, Me = !0), C !== void 0 && o.setFigures(C) && (me = !0, Me = !0), L !== void 0 && o.setMinValue(L) && (me = !0), A !== void 0 && o.setMinValue(A) && (me = !0), x !== void 0 && o.setPrecision(x) && (me = !0), F !== void 0 && o.setShouldOhlc(F) && (me = !0), B !== void 0 && o.setShouldFormatBigNumber(B) && (me = !0), V !== void 0 && o.setVisible(V) && (me = !0), Z !== void 0 && o.setStyles(Z) && (me = !0), J !== void 0 && o.setExtendData(J) && (me = !0, Me = !0), Q !== void 0 && o.setRegenerateFigures(Q) && (me = !0), ne !== void 0 && o.setCreateTooltipDataSource(ne) && (me = !0), de !== void 0 && o.setDraw(de) && (me = !0), be !== void 0 && (o.calc = be, Me = !0), [me, Me];
        }, p.prototype.addInstance = function(o, s, d) {
          var h;
          return nt(this, void 0, void 0, function() {
            var m, x, C, L;
            return _n(this, function(A) {
              switch (A.label) {
                case 0:
                  return m = o.name, x = this._instances.get(s), (h = x == null ? void 0 : x.has(m)) !== null && h !== void 0 && h ? [4, Promise.reject(Error("Duplicate indicators."))] : [3, 2];
                case 1:
                case 3:
                  return [2, A.sent()];
                case 2:
                  return x === void 0 && (x = /* @__PURE__ */ new Map(), this._instances.set(s, x)), C = ba(m), L = new C(), this._overrideInstance(L, o), d || x.clear(), x.set(m, L), [4, L.calcIndicator(this._chartStore.getDataList())];
              }
            });
          });
        }, p.prototype.getInstances = function(o) {
          var s;
          return (s = this._instances.get(o)) !== null && s !== void 0 ? s : /* @__PURE__ */ new Map();
        }, p.prototype.removeInstance = function(o, s) {
          var d = !1, h = this._instances.get(o);
          return h !== void 0 && (s !== void 0 ? h.has(s) && (h.delete(s), d = !0) : (h.clear(), d = !0), h.size === 0 && this._instances.delete(o)), d;
        }, p.prototype.hasInstances = function(o) {
          return this._instances.has(o);
        }, p.prototype.calcInstance = function(o, s) {
          var d;
          return nt(this, void 0, void 0, function() {
            var h, m, x, C = this;
            return _n(this, function(L) {
              switch (L.label) {
                case 0:
                  return h = [], o !== void 0 ? s !== void 0 ? (m = this._instances.get(s), (d = m == null ? void 0 : m.has(o)) !== null && d !== void 0 && d && (x = m == null ? void 0 : m.get(o), h.push(x.calcIndicator(this._chartStore.getDataList())))) : this._instances.forEach(function(A) {
                    if (A.has(o)) {
                      var F = A == null ? void 0 : A.get(o);
                      h.push(F.calcIndicator(C._chartStore.getDataList()));
                    }
                  }) : this._instances.forEach(function(A) {
                    A.forEach(function(F) {
                      h.push(F.calcIndicator(C._chartStore.getDataList()));
                    });
                  }), [4, Promise.all(h)];
                case 1:
                  return [2, L.sent().includes(!0)];
              }
            });
          });
        }, p.prototype.getInstanceByPaneId = function(o, s) {
          var d;
          if (o !== void 0) {
            var h = this._instances.get(o);
            return s !== void 0 ? (d = h == null ? void 0 : h.get(s)) !== null && d !== void 0 ? d : null : h ?? null;
          }
          return this._instances;
        }, p.prototype.setSeriesPrecision = function(o) {
          this._instances.forEach(function(s) {
            s.forEach(function(d) {
              d.series === n.IndicatorSeries.Price && d.setPrecision(o.price, !0), d.series === n.IndicatorSeries.Volume && d.setPrecision(o.volume, !0);
            });
          });
        }, p.prototype.override = function(o, s) {
          return nt(this, void 0, void 0, function() {
            var d, h, m, x, C, L, A = this;
            return _n(this, function(F) {
              switch (F.label) {
                case 0:
                  return d = o.name, h = /* @__PURE__ */ new Map(), s !== null ? (m = this._instances.get(s)) !== void 0 && h.set(s, m) : h = this._instances, x = !1, C = [], h.forEach(function(B) {
                    var V = B.get(d);
                    if (V !== void 0) {
                      var Z = A._overrideInstance(V, o);
                      Z[1] ? C.push(V.calcIndicator(A._chartStore.getDataList())) : Z[0] && (x = !0);
                    }
                  }), [4, Promise.all(C)];
                case 1:
                  return L = F.sent(), [2, [x, L.includes(!0)]];
              }
            });
          });
        }, p;
      }(), Ja = function() {
        function p(o) {
          this._crosshair = {}, this._activeIcon = null, this._chartStore = o;
        }
        return p.prototype.setCrosshair = function(o, s) {
          var d, h, m = this._chartStore.getDataList(), x = o ?? {}, C = m[h = x.x !== void 0 ? 0 > (d = this._chartStore.getTimeScaleStore().coordinateToDataIndex(x.x)) ? 0 : d > m.length - 1 ? m.length - 1 : d : d = m.length - 1], L = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(d), A = this._crosshair.x, F = this._crosshair.y, B = this._crosshair.paneId;
          this._crosshair = Le(Le({}, x), { realX: L, kLineData: C, realDataIndex: d, dataIndex: h }), A === x.x && F === x.y && B === x.paneId || (C !== null && this._chartStore.getChart().crosshairChange(this._crosshair), s != null && s || this._chartStore.getChart().updatePane(1));
        }, p.prototype.recalculateCrosshair = function(o) {
          this.setCrosshair(this._crosshair, o);
        }, p.prototype.getCrosshair = function() {
          return this._crosshair;
        }, p.prototype.setActiveIcon = function(o) {
          this._activeIcon = o ?? null;
        }, p.prototype.getActiveIcon = function() {
          return this._activeIcon;
        }, p.prototype.clear = function() {
          this.setCrosshair({}, !0), this.setActiveIcon();
        }, p;
      }();
      n.OverlayMode = void 0, (Ca = n.OverlayMode || (n.OverlayMode = {})).Normal = "normal", Ca.WeakMagnet = "weak_magnet", Ca.StrongMagnet = "strong_magnet";
      var ci = "overlay_figure_", To = Number.MAX_SAFE_INTEGER, eo = function() {
        function p(o) {
          this.currentStep = 1, this.points = [], this._prevPressedPoint = null, this._prevPressedPoints = [];
          var s = o.mode, d = o.modeSensitivity, h = o.extendData, m = o.styles, x = o.totalStep, C = o.lock, L = o.visible, A = o.zLevel, F = o.needDefaultPointFigure, B = o.needDefaultXAxisFigure, V = o.needDefaultYAxisFigure, Z = o.createPointFigures, J = o.createXAxisFigures, Q = o.createYAxisFigures, ne = o.performEventPressedMove, de = o.performEventMoveForDrawing, be = o.onDrawStart, me = o.onDrawing, Me = o.onDrawEnd, Re = o.onClick, He = o.onDoubleClick, Ke = o.onRightClick, rt = o.onPressedMoveStart, ot = o.onPressedMoving, _t = o.onPressedMoveEnd, lt = o.onMouseEnter, St = o.onMouseLeave, Pt = o.onRemoved, Lt = o.onSelected, Yt = o.onDeselected;
          this.name = o.name, this.totalStep = x === void 0 || 2 > x ? 1 : x, this.lock = C != null && C, this.visible = L == null || L, this.zLevel = A ?? 0, this.needDefaultPointFigure = F != null && F, this.needDefaultXAxisFigure = B != null && B, this.needDefaultYAxisFigure = V != null && V, this.mode = s ?? n.OverlayMode.Normal, this.modeSensitivity = d ?? 8, this.extendData = h, this.styles = m ?? {}, this.createPointFigures = Z ?? null, this.createXAxisFigures = J ?? null, this.createYAxisFigures = Q ?? null, this.performEventPressedMove = ne ?? null, this.performEventMoveForDrawing = de ?? null, this.onDrawStart = be ?? null, this.onDrawing = me ?? null, this.onDrawEnd = Me ?? null, this.onClick = Re ?? null, this.onDoubleClick = He ?? null, this.onRightClick = Ke ?? null, this.onPressedMoveStart = rt ?? null, this.onPressedMoving = ot ?? null, this.onPressedMoveEnd = _t ?? null, this.onMouseEnter = lt ?? null, this.onMouseLeave = St ?? null, this.onRemoved = Pt ?? null, this.onSelected = Lt ?? null, this.onDeselected = Yt ?? null;
        }
        return p.prototype.setId = function(o) {
          return this.id === void 0 && (this.id = o, !0);
        }, p.prototype.setGroupId = function(o) {
          return this.groupId === void 0 && (this.groupId = o, !0);
        }, p.prototype.setDefaultZLevel = function(o) {
          return this.defaultZLevel === void 0 && (this.defaultZLevel = o, !0);
        }, p.prototype.setPaneId = function(o) {
          this.paneId = o;
        }, p.prototype.setExtendData = function(o) {
          return o !== this.extendData && (this.extendData = o, !0);
        }, p.prototype.setStyles = function(o) {
          return o !== null && (y(this.styles, o), !0);
        }, p.prototype.setPoints = function(o) {
          if (o.length > 0) {
            var s = void 0;
            if (this.points = Tt([], ct(o), !1), this.totalStep - 1 > o.length ? (this.currentStep = o.length + 1, s = o.length) : (this.currentStep = -1, s = this.totalStep - 1), this.performEventMoveForDrawing !== null)
              for (var d = 0; s > d; d++)
                this.performEventMoveForDrawing({ currentStep: d + 2, mode: this.mode, points: this.points, performPointIndex: d, performPoint: this.points[d] });
            return this.currentStep === -1 && this.performEventPressedMove !== null && this.performEventPressedMove({ currentStep: this.currentStep, mode: this.mode, points: this.points, performPointIndex: this.points.length - 1, performPoint: this.points[this.points.length - 1] }), !0;
          }
          return !1;
        }, p.prototype.setLock = function(o) {
          return this.lock !== o && (this.lock = o, !0);
        }, p.prototype.setVisible = function(o) {
          return this.visible !== o && (this.visible = o, !0);
        }, p.prototype.resetZLevel = function() {
          this.zLevel = this.defaultZLevel;
        }, p.prototype.setZLevel = function(o) {
          return this.zLevel !== o && (this.zLevel = o, !0);
        }, p.prototype.setMode = function(o) {
          return this.mode !== o && (this.mode = o, !0);
        }, p.prototype.setModeSensitivity = function(o) {
          return this.modeSensitivity !== o && (this.modeSensitivity = o, !0);
        }, p.prototype.setOnDrawStartCallback = function(o) {
          return this.onDrawStart !== o && (this.onDrawStart = o, !0);
        }, p.prototype.setOnDrawingCallback = function(o) {
          return this.onDrawing !== o && (this.onDrawing = o, !0);
        }, p.prototype.setOnDrawEndCallback = function(o) {
          return this.onDrawEnd !== o && (this.onDrawEnd = o, !0);
        }, p.prototype.setOnClickCallback = function(o) {
          return this.onClick !== o && (this.onClick = o, !0);
        }, p.prototype.setOnDoubleClickCallback = function(o) {
          return this.onDoubleClick !== o && (this.onDoubleClick = o, !0);
        }, p.prototype.setOnRightClickCallback = function(o) {
          return this.onRightClick !== o && (this.onRightClick = o, !0);
        }, p.prototype.setOnPressedMoveStartCallback = function(o) {
          return this.onPressedMoveStart !== o && (this.onPressedMoveStart = o, !0);
        }, p.prototype.setOnPressedMovingCallback = function(o) {
          return this.onPressedMoving !== o && (this.onPressedMoving = o, !0);
        }, p.prototype.setOnPressedMoveEndCallback = function(o) {
          return this.onPressedMoveEnd !== o && (this.onPressedMoveEnd = o, !0);
        }, p.prototype.setOnMouseEnterCallback = function(o) {
          return this.onMouseEnter !== o && (this.onMouseEnter = o, !0);
        }, p.prototype.setOnMouseLeaveCallback = function(o) {
          return this.onMouseLeave !== o && (this.onMouseLeave = o, !0);
        }, p.prototype.setOnRemovedCallback = function(o) {
          return this.onRemoved !== o && (this.onRemoved = o, !0);
        }, p.prototype.setOnSelectedCallback = function(o) {
          return this.onSelected !== o && (this.onSelected = o, !0);
        }, p.prototype.setOnDeselectedCallback = function(o) {
          return this.onDeselected !== o && (this.onDeselected = o, !0);
        }, p.prototype.nextStep = function() {
          this.currentStep === this.totalStep - 1 ? this.currentStep = -1 : this.currentStep++;
        }, p.prototype.forceComplete = function() {
          this.currentStep = -1;
        }, p.prototype.isDrawing = function() {
          return this.currentStep !== -1;
        }, p.prototype.isStart = function() {
          return this.currentStep === 1;
        }, p.prototype.eventMoveForDrawing = function(o) {
          var s, d = this.currentStep - 1, h = {};
          o.timestamp !== void 0 && (h.timestamp = o.timestamp), o.dataIndex !== void 0 && (h.dataIndex = o.dataIndex), o.value !== void 0 && (h.value = o.value), this.points[d] = h, (s = this.performEventMoveForDrawing) === null || s === void 0 || s.call(this, { currentStep: this.currentStep, mode: this.mode, points: this.points, performPointIndex: d, performPoint: h });
        }, p.prototype.eventPressedPointMove = function(o, s) {
          var d;
          o.dataIndex !== void 0 && (this.points[s].dataIndex = o.dataIndex, this.points[s].timestamp = o.timestamp), o.value !== void 0 && (this.points[s].value = o.value), (d = this.performEventPressedMove) === null || d === void 0 || d.call(this, { currentStep: this.currentStep, points: this.points, mode: this.mode, performPointIndex: s, performPoint: this.points[s] });
        }, p.prototype.startPressedMove = function(o) {
          this._prevPressedPoint = Le({}, o), this._prevPressedPoints = b(this.points);
        }, p.prototype.eventPressedOtherMove = function(o, s, d) {
          if (this._prevPressedPoint !== null) {
            var h, m;
            if (o.dataIndex !== void 0 && this._prevPressedPoint.dataIndex !== void 0 && (h = o.dataIndex - this._prevPressedPoint.dataIndex), o.value !== void 0 && this._prevPressedPoint.value !== void 0 && (m = o.value - this._prevPressedPoint.value), d !== void 0 && this._prevPressedPoints.find(function(x) {
              var C, L = Le({}, x);
              return m !== void 0 && x.value !== void 0 && (L.value = x.value + m), x.dataIndex === void 0 && x.timestamp !== void 0 && (x.dataIndex = s.timestampToDataIndex(x.timestamp)), h !== void 0 && x.dataIndex !== void 0 && (L.dataIndex = x.dataIndex + h, L.timestamp = (C = s.dataIndexToTimestamp(L.dataIndex)) !== null && C !== void 0 ? C : void 0), L.timestamp === void 0 || L.timestamp !== void 0 && L.timestamp > d[d.length - 1].timestamp;
            }) !== void 0)
              return;
            this.points = this._prevPressedPoints.map(function(x) {
              var C, L = Le({}, x);
              return m !== void 0 && x.value !== void 0 && (L.value = x.value + m), x.dataIndex === void 0 && x.timestamp !== void 0 && (x.dataIndex = s.timestampToDataIndex(x.timestamp)), h !== void 0 && x.dataIndex !== void 0 && (L.dataIndex = x.dataIndex + h, L.timestamp = (C = s.dataIndexToTimestamp(L.dataIndex)) !== null && C !== void 0 ? C : void 0), L;
            });
          }
        }, p.extend = function(o) {
          return function(s) {
            function d() {
              return s.call(this, o) || this;
            }
            return ft(d, s), d;
          }(p);
        }, p;
      }(), to = { name: "fibonacciLine", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates, s = p.precision, d = p.thousandsSeparator, h = p.overlay.points;
        if (o.length > 0) {
          var m = [], x = [], C = p.bounding.width;
          if (o.length > 1 && h[0].value !== void 0 && h[1].value !== void 0) {
            var L = o[0].y - o[1].y, A = h[0].value - h[1].value;
            [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0].forEach(function(F) {
              var B, V = o[1].y + L * F, Z = Ue((((B = h[1].value) !== null && B !== void 0 ? B : 0) + A * F).toFixed(s.price), d);
              m.push({ coordinates: [{ x: 0, y: V }, { x: C, y: V }] }), x.push({ x: 0, y: V, text: "".concat(Z, " (").concat((100 * F).toFixed(1), "%)"), baseline: "bottom" });
            });
          }
          return [{ type: "line", attrs: m }, { type: "text", isCheckEvent: !1, attrs: x }];
        }
        return [];
      } }, hs = { name: "horizontalRayLine", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates, s = { x: 0, y: o[0].y };
        return o[1] !== void 0 && o[1].x > o[0].x && (s.x = p.bounding.width), [{ type: "line", attrs: { coordinates: [o[0], s] } }];
      }, performEventPressedMove: function(p) {
        var o = p.points, s = p.performPoint;
        o[0].value = s.value, o[1].value = s.value;
      }, performEventMoveForDrawing: function(p) {
        p.currentStep === 2 && (p.points[0].value = p.performPoint.value);
      } }, ko = function() {
        function p() {
          this._children = [], this._callbacks = /* @__PURE__ */ new Map();
        }
        return p.prototype.registerEvent = function(o, s) {
          return this._callbacks.set(o, s), this;
        }, p.prototype.onEvent = function(o, s, d) {
          var h = this._callbacks.get(o);
          return !(h === void 0 || !this.checkEventOn(s)) && h(s, d);
        }, p.prototype.checkEventOn = function(o) {
          var s, d;
          try {
            for (var h = Et(this._children), m = h.next(); !m.done; m = h.next())
              if (m.value.checkEventOn(o))
                return !0;
          } catch (x) {
            s = { error: x };
          } finally {
            try {
              m && !m.done && (d = h.return) && d.call(h);
            } finally {
              if (s)
                throw s.error;
            }
          }
          return !1;
        }, p.prototype.dispatchEvent = function(o, s, d) {
          var h = this._children.length - 1;
          if (h > -1) {
            for (var m = h; m > -1; m--)
              if (this._children[m].dispatchEvent(o, s, d))
                return !0;
          }
          return this.onEvent(o, s, d);
        }, p.prototype.addChild = function(o) {
          return this._children.push(o), this;
        }, p.prototype.clear = function() {
          this._children = [];
        }, p;
      }(), ds = function(p) {
        function o(s) {
          var d = p.call(this) || this;
          return d.attrs = s.attrs, d.styles = s.styles, d;
        }
        return ft(o, p), o.prototype.checkEventOn = function(s) {
          return this.checkEventOnImp(s, this.attrs, this.styles);
        }, o.prototype.draw = function(s) {
          this.drawImp(s, this.attrs, this.styles);
        }, o.extend = function(s) {
          var d = function(h) {
            function m() {
              return h !== null && h.apply(this, arguments) || this;
            }
            return ft(m, h), m.prototype.checkEventOnImp = function(x, C, L) {
              return s.checkEventOn(x, C, L);
            }, m.prototype.drawImp = function(x, C, L) {
              s.draw(x, C, L);
            }, m;
          }(o);
          return d;
        }, o;
      }(ko);
      function Po(p, o) {
        return Math.sqrt(Math.pow(p.x + o.x, 2) + Math.pow(p.y + o.y, 2));
      }
      function fs(p) {
        var o = Po(p[0], p[1]), s = o + Po(p[1], p[2]), d = [p[2].x - p[0].x, p[2].y - p[0].y];
        return [{ x: p[1].x - 0.5 * d[0] * o / s, y: p[1].y - 0.5 * d[1] * o / s }, { x: p[1].x + 0.5 * d[0] * o / s, y: p[1].y + 0.5 * d[1] * o / s }];
      }
      function ps(p, o) {
        var s = o.coordinates;
        if (s.length > 1)
          for (var d = 1; s.length > d; d++) {
            var h = s[d - 1], m = s[d];
            if (h.x === m.x) {
              if (4 > Math.abs(h.y - p.y) + Math.abs(m.y - p.y) - Math.abs(h.y - m.y) && 2 > Math.abs(p.x - h.x))
                return !0;
            } else {
              var x = no(h, m), C = Io(x, p), L = Math.abs(C - p.y);
              if (4 > Math.abs(h.x - p.x) + Math.abs(m.x - p.x) - Math.abs(h.x - m.x) && 4 > L * L / (x[0] * x[0] + 1))
                return !0;
            }
          }
        return !1;
      }
      function Io(p, o) {
        return p != null ? o.x * p[0] + p[1] : o.y;
      }
      function Sa(p, o, s) {
        return Io(no(p, o), s);
      }
      function no(p, o) {
        var s = p.x - o.x;
        if (s !== 0) {
          var d = (p.y - o.y) / s;
          return [d, p.y - d * p.x];
        }
        return null;
      }
      function Eo(p, o, s) {
        var d = o.coordinates, h = d.length;
        if (h > 1) {
          var m = s.style, x = m === void 0 ? n.LineType.Solid : m, C = s.smooth, L = s.size, A = s.color, F = A === void 0 ? "currentColor" : A, B = s.dashedValue, V = B === void 0 ? [2, 2] : B;
          if (p.lineWidth = L === void 0 ? 1 : L, p.strokeStyle = F, p.setLineDash(x === n.LineType.Dashed ? V : []), p.beginPath(), p.moveTo(d[0].x, d[0].y), C != null && C) {
            for (var Z = [], J = 1; h - 1 > J; J++)
              Z = Z.concat(fs([d[J - 1], d[J], d[J + 1]]));
            p.quadraticCurveTo(Z[0].x, Z[0].y, d[1].x, d[1].y);
            for (var Q = 2; h - 1 > Q; Q++)
              p.bezierCurveTo(Z[2 * (Q - 2) + 1].x, Z[2 * (Q - 2) + 1].y, Z[2 * (Q - 1)].x, Z[2 * (Q - 1)].y, d[Q].x, d[Q].y);
            p.quadraticCurveTo(Z[2 * (Q - 2) + 1].x, Z[2 * (Q - 2) + 1].y, d[Q].x, d[Q].y);
          } else
            for (Q = 1; d.length > Q; Q++)
              p.lineTo(d[Q].x, d[Q].y);
          p.stroke(), p.closePath();
        }
      }
      var Us = { name: "line", checkEventOn: ps, draw: function(p, o, s) {
        Eo(p, o, s);
      } };
      function vs(p, o, s) {
        var d = s ?? 0, h = [];
        if (p.length > 1)
          if (p[0].x === p[1].x) {
            var m = o.height;
            if (h.push({ coordinates: [{ x: p[0].x, y: 0 }, { x: p[0].x, y: m }] }), p.length > 2) {
              h.push({ coordinates: [{ x: p[2].x, y: 0 }, { x: p[2].x, y: m }] });
              for (var x = p[0].x - p[2].x, C = 0; d > C; C++) {
                var L = x * (C + 1);
                h.push({ coordinates: [{ x: p[0].x + L, y: 0 }, { x: p[0].x + L, y: m }] });
              }
            }
          } else {
            var A = o.width, F = no(p[0], p[1]), B = F[0], V = F[1];
            if (h.push({ coordinates: [{ x: 0, y: 0 * B + V }, { x: A, y: A * B + V }] }), p.length > 2) {
              var Z = p[2].y - B * p[2].x;
              for (h.push({ coordinates: [{ x: 0, y: 0 * B + Z }, { x: A, y: A * B + Z }] }), x = V - Z, C = 0; d > C; C++) {
                var J = V + x * (C + 1);
                h.push({ coordinates: [{ x: 0, y: 0 * B + J }, { x: A, y: A * B + J }] });
              }
            }
          }
        return h;
      }
      function Ks(p, o) {
        if (p.length > 1) {
          var s = void 0;
          return s = p[0].x === p[1].x && p[0].y !== p[1].y ? p[1].y > p[0].y ? { x: p[0].x, y: o.height } : { x: p[0].x, y: 0 } : p[0].x > p[1].x ? { x: 0, y: Sa(p[0], p[1], { x: 0, y: p[0].y }) } : { x: o.width, y: Sa(p[0], p[1], { x: o.width, y: p[0].y }) }, { coordinates: [p[0], s] };
        }
        return [];
      }
      var Lo = { name: "simpleAnnotation", totalStep: 2, styles: { text: { borderSize: 1, borderRadius: 2, borderColor: "#1677FF", paddingLeft: 4, paddingRight: 4, paddingTop: 4, paddingBottom: 4, backgroundColor: "#1677FF" }, line: { style: n.LineType.Dashed } }, createPointFigures: function(p) {
        var o, s, d = p.overlay, h = p.coordinates;
        H(d.extendData) && (s = T(d.extendData) ? d.extendData(d) : (o = d.extendData) !== null && o !== void 0 ? o : "");
        var m = h[0].x, x = h[0].y - 6, C = x - 50, L = C - 5;
        return [{ type: "line", attrs: { coordinates: [{ x: m, y: x }, { x: m, y: C }] }, ignoreEvent: !0 }, { type: "polygon", attrs: { coordinates: [{ x: m, y: C }, { x: m - 4, y: L }, { x: m + 4, y: L }] }, ignoreEvent: !0 }, { type: "text", attrs: { x: m, y: L, text: s ?? "", align: "center", baseline: "bottom" }, ignoreEvent: !0 }];
      } }, gs = { name: "simpleTag", totalStep: 2, styles: { text: { borderSize: 1, borderRadius: 2, borderColor: "#1677FF", paddingLeft: 4, paddingRight: 4, paddingTop: 4, paddingBottom: 4, backgroundColor: "#1677FF" } }, createPointFigures: function(p) {
        var o = p.coordinates;
        return { type: "line", attrs: { coordinates: [{ x: 0, y: o[0].y }, { x: p.bounding.width, y: o[0].y }] }, ignoreEvent: !0 };
      }, createYAxisFigures: function(p) {
        var o, s, d, h, m, x = p.overlay, C = p.coordinates, L = p.bounding, A = p.yAxis, F = p.precision;
        return (o = A == null ? void 0 : A.isFromZero()) !== null && o !== void 0 && o ? (d = "left", h = 0) : (d = "right", h = L.width), H(x.extendData) && (m = T(x.extendData) ? x.extendData(x) : (s = x.extendData) !== null && s !== void 0 ? s : ""), H(m) || x.points[0].value === void 0 || (m = $e(x.points[0].value, F.price)), { type: "text", attrs: { x: h, y: C[0].y, text: m ?? "", align: d, baseline: "middle" } };
      } }, mi = {};
      function Gs(p) {
        var o;
        return (o = mi[p]) !== null && o !== void 0 ? o : null;
      }
      function ys(p) {
        var o = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0 };
        return p !== void 0 && y(o, p), o;
      }
      [to, hs, { name: "horizontalSegment", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates, s = [];
        return o.length === 2 && s.push({ coordinates: o }), [{ type: "line", attrs: s }];
      }, performEventPressedMove: function(p) {
        var o = p.points, s = p.performPoint;
        o[0].value = s.value, o[1].value = s.value;
      }, performEventMoveForDrawing: function(p) {
        p.currentStep === 2 && (p.points[0].value = p.performPoint.value);
      } }, { name: "horizontalStraightLine", totalStep: 2, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates;
        return [{ type: "line", attrs: { coordinates: [{ x: 0, y: o[0].y }, { x: p.bounding.width, y: o[0].y }] } }];
      } }, { name: "parallelStraightLine", totalStep: 4, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        return [{ type: "line", attrs: vs(p.coordinates, p.bounding) }];
      } }, { name: "priceChannelLine", totalStep: 4, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        return [{ type: "line", attrs: vs(p.coordinates, p.bounding, 1) }];
      } }, { name: "priceLine", totalStep: 2, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates, s = p.thousandsSeparator, d = p.overlay.points[0].value;
        return [{ type: "line", attrs: { coordinates: [o[0], { x: p.bounding.width, y: o[0].y }] } }, { type: "text", ignoreEvent: !0, attrs: { x: o[0].x, y: o[0].y, text: Ue((d === void 0 ? 0 : d).toFixed(p.precision.price), s), baseline: "bottom" } }];
      } }, { name: "rayLine", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        return [{ type: "line", attrs: Ks(p.coordinates, p.bounding) }];
      } }, { name: "segment", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates;
        return o.length === 2 ? [{ type: "line", attrs: { coordinates: o } }] : [];
      } }, { name: "straightLine", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates, s = p.bounding;
        return o.length === 2 ? o[0].x === o[1].x ? [{ type: "line", attrs: { coordinates: [{ x: o[0].x, y: 0 }, { x: o[0].x, y: s.height }] } }] : [{ type: "line", attrs: { coordinates: [{ x: 0, y: Sa(o[0], o[1], { x: 0, y: o[0].y }) }, { x: s.width, y: Sa(o[0], o[1], { x: s.width, y: o[0].y }) }] } }] : [];
      } }, { name: "verticalRayLine", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates;
        if (o.length === 2) {
          var s = { x: o[0].x, y: 0 };
          return o[1].y > o[0].y && (s.y = p.bounding.height), [{ type: "line", attrs: { coordinates: [o[0], s] } }];
        }
        return [];
      }, performEventPressedMove: function(p) {
        var o = p.points, s = p.performPoint;
        o[0].timestamp = s.timestamp, o[0].dataIndex = s.dataIndex, o[1].timestamp = s.timestamp, o[1].dataIndex = s.dataIndex;
      }, performEventMoveForDrawing: function(p) {
        var o = p.points, s = p.performPoint;
        p.currentStep === 2 && (o[0].timestamp = s.timestamp, o[0].dataIndex = s.dataIndex);
      } }, { name: "verticalSegment", totalStep: 3, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates;
        return o.length === 2 ? [{ type: "line", attrs: { coordinates: o } }] : [];
      }, performEventPressedMove: function(p) {
        var o = p.points, s = p.performPoint;
        o[0].timestamp = s.timestamp, o[0].dataIndex = s.dataIndex, o[1].timestamp = s.timestamp, o[1].dataIndex = s.dataIndex;
      }, performEventMoveForDrawing: function(p) {
        var o = p.points, s = p.performPoint;
        p.currentStep === 2 && (o[0].timestamp = s.timestamp, o[0].dataIndex = s.dataIndex);
      } }, { name: "verticalStraightLine", totalStep: 2, needDefaultPointFigure: !0, needDefaultXAxisFigure: !0, needDefaultYAxisFigure: !0, createPointFigures: function(p) {
        var o = p.coordinates;
        return [{ type: "line", attrs: { coordinates: [{ x: o[0].x, y: 0 }, { x: o[0].x, y: p.bounding.height }] } }];
      } }, Lo, gs].forEach(function(p) {
        mi[p.name] = eo.extend(p);
      });
      var fr = "main", wr = "xAxis", Tr = "yAxis", ta = "separator", ms = function(p) {
        function o(s, d) {
          var h = p.call(this) || this;
          return h._bounding = ys(), h._pane = d, h._init(s), h;
        }
        return ft(o, p), o.prototype._init = function(s) {
          if (this._container = wn("div", this.getContainerStyle()), this.insertBefore()) {
            var d = s.lastChild;
            d !== null ? s.insertBefore(this._container, d) : s.appendChild(this._container);
          } else
            s.appendChild(this._container);
          this.initDom(this._container);
        }, o.prototype.setBounding = function(s) {
          return y(this._bounding, s), this;
        }, o.prototype.getContainer = function() {
          return this._container;
        }, o.prototype.getBounding = function() {
          return this._bounding;
        }, o.prototype.getPane = function() {
          return this._pane;
        }, o.prototype.update = function(s) {
          this.updateImp(this._container, this._bounding, s ?? 3);
        }, o.prototype.insertBefore = function() {
          return !1;
        }, o;
      }(ko), _s = function(p) {
        function o(s, d) {
          var h, m, x, C = p.call(this, s, d) || this;
          return C._dragFlag = !1, C._dragStartY = 0, C._topPaneHeight = 0, C._currentPaneHeight = 0, C._pressedMouseMoveEvent = (h = C._pressedTouchMouseMoveEvent, m = 20, x = 0, function() {
            var L = Date.now();
            L - x > (m ?? 20) && (h.apply(this, arguments), x = L);
          }), C.registerEvent("touchStartEvent", C._mouseDownEvent.bind(C)).registerEvent("touchMoveEvent", C._pressedMouseMoveEvent.bind(C)).registerEvent("touchEndEvent", C._mouseUpEvent.bind(C)).registerEvent("mouseDownEvent", C._mouseDownEvent.bind(C)).registerEvent("mouseUpEvent", C._mouseUpEvent.bind(C)).registerEvent("pressedMouseMoveEvent", C._pressedMouseMoveEvent.bind(C)).registerEvent("mouseEnterEvent", C._mouseEnterEvent.bind(C)).registerEvent("mouseLeaveEvent", C._mouseLeaveEvent.bind(C)), C;
        }
        return ft(o, p), o.prototype.getName = function() {
          return ta;
        }, o.prototype.checkEventOn = function() {
          return !0;
        }, o.prototype._mouseDownEvent = function(s) {
          var d, h;
          this._dragFlag = !0, this._dragStartY = s.pageY;
          var m = this.getPane();
          return this._topPaneHeight = (h = (d = m.getTopPane()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, this._currentPaneHeight = m.getBounding().height, !0;
        }, o.prototype._mouseUpEvent = function() {
          return this._dragFlag = !1, this._mouseLeaveEvent();
        }, o.prototype._pressedTouchMouseMoveEvent = function(s) {
          var d = s.pageY - this._dragStartY, h = this.getPane(), m = h.getTopPane(), x = 0 > d;
          if (m !== null && h.getOptions().dragEnabled) {
            var C = void 0, L = void 0, A = void 0, F = void 0;
            x ? (C = m, L = h, A = this._topPaneHeight, F = this._currentPaneHeight) : (C = h, L = m, A = this._currentPaneHeight, F = this._topPaneHeight);
            var B = C.getOptions().minHeight;
            if (A > B) {
              var V = Math.max(A - Math.abs(d), B), Z = A - V;
              C.setBounding({ height: V }), L.setBounding({ height: F + Z });
              var J = h.getChart();
              J.getChartStore().getActionStore().execute(n.ActionType.OnPaneDrag, { paneId: h.getId }), J.adjustPaneViewport(!0, !0, !0, !0, !0);
            }
          }
          return !0;
        }, o.prototype._mouseEnterEvent = function() {
          var s = this.getPane();
          if (s.getOptions().dragEnabled) {
            var d = s.getChart().getStyles().separator;
            return this._moveDom.style.background = d.activeBackgroundColor, !0;
          }
          return !1;
        }, o.prototype._mouseLeaveEvent = function() {
          return !this._dragFlag && (this._moveDom.style.background = "", !0);
        }, o.prototype.getContainerStyle = function() {
          return { margin: "0", padding: "0", position: "relative", boxSizing: "border-box" };
        }, o.prototype.insertBefore = function() {
          return !0;
        }, o.prototype.initDom = function(s) {
          this._moveDom = wn("div", { width: "100%", height: "".concat(7, "px"), margin: "0", padding: "0", position: "absolute", top: "-3px", zIndex: "20", boxSizing: "border-box", cursor: "ns-resize" }), s.appendChild(this._moveDom);
        }, o.prototype.updateImp = function(s, d, h) {
          if (h === 4 || h === 2) {
            var m = this.getPane().getChart().getStyles().separator;
            this._moveDom.style.top = "".concat(-Math.floor((7 - m.size) / 2), "px"), this._moveDom.style.height = "".concat(7, "px");
            var x = m.fill;
            s.style.backgroundColor = m.color, s.style.height = "".concat(m.size, "px"), s.style.marginLeft = "".concat(x ? 0 : d.left, "px"), s.style.width = x ? "100%" : "".concat(d.width, "px");
          }
        }, o.prototype.getImage = function() {
          var s = this.getPane().getChart().getStyles().separator, d = this.getContainer().offsetWidth, h = s.size, m = wn("canvas", { width: "".concat(d, "px"), height: "".concat(h, "px"), boxSizing: "border-box" }), x = m.getContext("2d"), C = Kn(m);
          return m.width = d * C, m.height = h * C, x.scale(C, C), x.fillStyle = s.color, x.fillRect(this.getBounding().left, 0, d, h), m;
        }, o;
      }(ms), rr = "candle_pane", xs = "indicator_pane_", pr = "xaxis_pane", Ao = function() {
        function p(o, s, d, h, m) {
          this._yAxisWidget = null, this._separatorWidget = null, this._axis = this.createAxisComponent(), this._bounding = ys(), this._options = { minHeight: 30, dragEnabled: !0, gap: { top: 0.2, bottom: 0.1 }, axisOptions: { scrollZoomEnabled: !0 } }, this._chart = s, this._id = d, this._topPane = h ?? null, this._bottomPane = m ?? null, this._init(o);
        }
        return p.prototype._init = function(o) {
          this._container = o, this._seriesContainer = wn("div", { width: "100%", margin: "0", padding: "0", position: "relative", overflow: "hidden", boxSizing: "border-box" }), this._separatorWidget = this.createSeparatorWidget(o);
          var s = o.lastChild;
          s !== null ? o.insertBefore(this._seriesContainer, s) : o.appendChild(this._seriesContainer), this._mainWidget = this.createMainWidget(this._seriesContainer), this._yAxisWidget = this.createYAxisWidget(this._seriesContainer);
        }, p.prototype.getContainer = function() {
          return this._seriesContainer;
        }, p.prototype.getId = function() {
          return this._id;
        }, p.prototype.setOptions = function(o) {
          var s, d, h, m, x;
          return y(this._options, o), this.getId() === pr ? (m = this.getMainWidget().getContainer(), x = "ew-resize") : (m = (s = this.getYAxisWidget()) === null || s === void 0 ? void 0 : s.getContainer(), x = "ns-resize"), m.style.cursor = (h = (d = o.axisOptions) === null || d === void 0 ? void 0 : d.scrollZoomEnabled) === null || h === void 0 || h ? x : "default", this;
        }, p.prototype.getOptions = function() {
          return this._options;
        }, p.prototype.getChart = function() {
          return this._chart;
        }, p.prototype.getAxisComponent = function() {
          return this._axis;
        }, p.prototype.setBounding = function(o, s, d) {
          var h, m, x;
          y(this._bounding, o);
          var C = 0;
          if (this._separatorWidget !== null) {
            C = this._chart.getStyles().separator.size;
            var L = Le(Le({}, o), { height: 7 });
            o.top !== void 0 && (L.top = o.top - Math.floor((7 - C) / 2)), this._separatorWidget.setBounding(L);
          }
          var A = {};
          return o.height !== void 0 && (A.height = o.height - C), o.top !== void 0 && (A.top = o.top + C), this._mainWidget.setBounding(A), (h = this._yAxisWidget) === null || h === void 0 || h.setBounding(A), s !== void 0 && (this._mainWidget.setBounding(s), (m = this._separatorWidget) === null || m === void 0 || m.setBounding(s)), d !== void 0 && ((x = this._yAxisWidget) === null || x === void 0 || x.setBounding(d)), this;
        }, p.prototype.getTopPane = function() {
          return this._topPane;
        }, p.prototype.setTopPane = function(o) {
          return this._topPane = o, this;
        }, p.prototype.getBottomPane = function() {
          return this._bottomPane;
        }, p.prototype.setBottomPane = function(o) {
          return this._bottomPane = o, this;
        }, p.prototype.getBounding = function() {
          return this._bounding;
        }, p.prototype.getMainWidget = function() {
          return this._mainWidget;
        }, p.prototype.getYAxisWidget = function() {
          return this._yAxisWidget;
        }, p.prototype.getSeparatorWidget = function() {
          return this._separatorWidget;
        }, p.prototype.update = function(o) {
          var s, d;
          this._bounding.width !== this._seriesContainer.offsetWidth && (this._seriesContainer.style.width = "".concat(this._bounding.width, "px"));
          var h = this._mainWidget.getBounding().height;
          h !== this._seriesContainer.offsetHeight && (this._seriesContainer.style.height = "".concat(h, "px"));
          var m = o ?? 3;
          this._mainWidget.update(m), (s = this._yAxisWidget) === null || s === void 0 || s.update(m), (d = this._separatorWidget) === null || d === void 0 || d.update(m);
        }, p.prototype.getImage = function(o) {
          var s = this._bounding, d = s.width, h = s.height, m = wn("canvas", { width: "".concat(d, "px"), height: "".concat(h, "px"), boxSizing: "border-box" }), x = m.getContext("2d"), C = Kn(m);
          m.width = d * C, m.height = h * C, x.scale(C, C);
          var L = 0;
          if (this._separatorWidget != null) {
            var A = this.getChart().getStyles().separator.size;
            L = A, x.drawImage(this._separatorWidget.getImage(), 0, 0, d, A);
          }
          var F = this._mainWidget.getBounding();
          if (x.drawImage(this._mainWidget.getImage(o), F.left, L, F.width, F.height), this._yAxisWidget !== null) {
            var B = this._yAxisWidget.getBounding();
            x.drawImage(this._yAxisWidget.getImage(o), B.left, L, B.width, B.height);
          }
          return m;
        }, p.prototype.destroy = function() {
          this._container.removeChild(this._seriesContainer), this._separatorWidget !== null && this._container.removeChild(this._separatorWidget.getContainer());
        }, p.prototype.createSeparatorWidget = function(o) {
          return null;
        }, p.prototype.createYAxisWidget = function(o) {
          return null;
        }, p;
      }(), bs = function() {
        function p(o) {
          this._instances = /* @__PURE__ */ new Map(), this._counter = /* @__PURE__ */ new Map(), this._progressInstanceInfo = null, this._pressedInstanceInfo = { paneId: "", instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }, this._hoverInstanceInfo = { paneId: "", instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }, this._clickInstanceInfo = { paneId: "", instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }, this._chartStore = o;
        }
        return p.prototype._overrideInstance = function(o, s) {
          var d = s.id, h = s.groupId, m = s.points, x = s.styles, C = s.lock, L = s.visible, A = s.zLevel, F = s.mode, B = s.modeSensitivity, V = s.extendData, Z = s.onDrawStart, J = s.onDrawing, Q = s.onDrawEnd, ne = s.onClick, de = s.onDoubleClick, be = s.onRightClick, me = s.onPressedMoveStart, Me = s.onPressedMoving, Re = s.onPressedMoveEnd, He = s.onMouseEnter, Ke = s.onMouseLeave, rt = s.onRemoved, ot = s.onSelected, _t = s.onDeselected, lt = !1, St = !1;
          return d !== void 0 && o.setId(d), h !== void 0 && o.setGroupId(h), m !== void 0 && o.setPoints(m) && (lt = !0), x !== void 0 && o.setStyles(x) && (lt = !0), C !== void 0 && o.setLock(C), L !== void 0 && o.setVisible(L) && (lt = !0), A !== void 0 && o.setZLevel(A) && (lt = !0, St = !0), F !== void 0 && o.setMode(F), B !== void 0 && o.setModeSensitivity(B), V !== void 0 && o.setExtendData(V) && (lt = !0), Z !== void 0 && o.setOnDrawStartCallback(Z), J !== void 0 && o.setOnDrawingCallback(J), Q !== void 0 && o.setOnDrawEndCallback(Q), ne !== void 0 && o.setOnClickCallback(ne), de !== void 0 && o.setOnDoubleClickCallback(de), be !== void 0 && o.setOnRightClickCallback(be), me !== void 0 && o.setOnPressedMoveStartCallback(me), Me !== void 0 && o.setOnPressedMovingCallback(Me), Re !== void 0 && o.setOnPressedMoveEndCallback(Re), He !== void 0 && o.setOnMouseEnterCallback(He), Ke !== void 0 && o.setOnMouseLeaveCallback(Ke), rt !== void 0 && o.setOnRemovedCallback(rt), ot !== void 0 && o.setOnSelectedCallback(ot), _t !== void 0 && o.setOnDeselectedCallback(_t), [lt, St];
        }, p.prototype.getInstanceById = function(o) {
          var s, d;
          try {
            for (var h = Et(this._instances), m = h.next(); !m.done; m = h.next()) {
              var x = m.value[1].find(function(C) {
                return C.id === o;
              });
              if (x !== void 0)
                return x;
            }
          } catch (C) {
            s = { error: C };
          } finally {
            try {
              m && !m.done && (d = h.return) && d.call(h);
            } finally {
              if (s)
                throw s.error;
            }
          }
          return this._progressInstanceInfo !== null && this._progressInstanceInfo.instance.id === o ? this._progressInstanceInfo.instance : null;
        }, p.prototype._sort = function(o) {
          var s;
          o !== void 0 ? (s = this._instances.get(o)) === null || s === void 0 || s.sort(function(d, h) {
            return d.defaultZLevel - h.defaultZLevel;
          }).sort(function(d, h) {
            return d.zLevel - h.zLevel;
          }) : this._instances.forEach(function(d) {
            d.sort(function(h, m) {
              return h.defaultZLevel - m.defaultZLevel;
            }).sort(function(h, m) {
              return h.zLevel - m.zLevel;
            });
          });
        }, p.prototype.addInstances = function(o, s, d) {
          var h = this, m = o.map(function(x) {
            var C, L, A, F, B, V = (C = x.id) !== null && C !== void 0 ? C : Wr("overlay_");
            if (h.getInstanceById(V) === null) {
              var Z = Gs(x.name);
              if (Z !== null) {
                var J = new Z(), Q = ((L = h._counter.get(s)) !== null && L !== void 0 ? L : 0) + 1;
                h._counter.set(s, Q), J.setDefaultZLevel(Q), J.setPaneId(s);
                var ne = (A = x.groupId) !== null && A !== void 0 ? A : V;
                return x.id = V, x.groupId = ne, h._overrideInstance(J, x), J.isDrawing() ? h._progressInstanceInfo = { paneId: s, instance: J, appointPaneFlag: d } : (h._instances.has(s) || h._instances.set(s, []), (F = h._instances.get(s)) === null || F === void 0 || F.push(J)), J.isStart() && ((B = J.onDrawStart) === null || B === void 0 || B.call(J, { overlay: J })), V;
              }
            }
            return null;
          });
          return m.some(function(x) {
            return x !== null;
          }) && (this._sort(), this._chartStore.getChart().updatePane(1, s)), m;
        }, p.prototype.getProgressInstanceInfo = function() {
          return this._progressInstanceInfo;
        }, p.prototype.progressInstanceComplete = function() {
          var o;
          if (this._progressInstanceInfo !== null) {
            var s = this._progressInstanceInfo, d = s.instance, h = s.paneId;
            d.isDrawing() || (this._instances.has(h) || this._instances.set(h, []), (o = this._instances.get(h)) === null || o === void 0 || o.push(d), this._sort(h), this._progressInstanceInfo = null);
          }
        }, p.prototype.updateProgressInstanceInfo = function(o, s) {
          this._progressInstanceInfo !== null && (s !== void 0 && s && (this._progressInstanceInfo.appointPaneFlag = s), this._progressInstanceInfo.paneId = o, this._progressInstanceInfo.instance.setPaneId(o));
        }, p.prototype.getInstances = function(o) {
          var s;
          if (o === void 0) {
            var d = [];
            return this._instances.forEach(function(h) {
              d = d.concat(h);
            }), d;
          }
          return (s = this._instances.get(o)) !== null && s !== void 0 ? s : [];
        }, p.prototype.override = function(o) {
          var s = this, d = o.id, h = o.groupId, m = o.name, x = !1, C = !1, L = function(B) {
            var V = s._overrideInstance(B, o);
            V[0] && (x = !0), V[1] && (C = !0);
          };
          if (d !== void 0) {
            var A = this.getInstanceById(d);
            A !== null && L(A);
          } else if (this._instances.forEach(function(B) {
            B.forEach(function(V) {
              (m !== void 0 && V.name === m || h !== void 0 && V.groupId === h || m === void 0 && h === void 0) && L(V);
            });
          }), this._progressInstanceInfo !== null) {
            var F = this._progressInstanceInfo.instance;
            (m !== void 0 && F.name === m || h !== void 0 && F.groupId === h || m === void 0 && h === void 0) && L(F);
          }
          C && this._sort(), x && this._chartStore.getChart().updatePane(1);
        }, p.prototype.removeInstance = function(o) {
          var s, d, h, m = function(Z, J) {
            if (Z.id !== void 0) {
              if (J.id !== Z.id)
                return !1;
            } else if (Z.groupId !== void 0) {
              if (J.groupId !== Z.groupId)
                return !1;
            } else if (Z.name !== void 0 && J.name !== Z.name)
              return !1;
            return !0;
          }, x = [];
          if (this._progressInstanceInfo !== null) {
            var C = this._progressInstanceInfo.instance;
            (o === void 0 || o !== void 0 && m(o, C)) && (x.push(this._progressInstanceInfo.paneId), (h = C.onRemoved) === null || h === void 0 || h.call(C, { overlay: C }), this._progressInstanceInfo = null);
          }
          if (o !== void 0) {
            var L = /* @__PURE__ */ new Map(), A = function(Z) {
              var J = Z[1].filter(function(Q) {
                var ne;
                return !m(o, Q) || (x.includes(Z[0]) || x.push(Z[0]), (ne = Q.onRemoved) === null || ne === void 0 || ne.call(Q, { overlay: Q }), !1);
              });
              J.length > 0 && L.set(Z[0], J);
            };
            try {
              for (var F = Et(this._instances), B = F.next(); !B.done; B = F.next())
                A(B.value);
            } catch (Z) {
              s = { error: Z };
            } finally {
              try {
                B && !B.done && (d = F.return) && d.call(F);
              } finally {
                if (s)
                  throw s.error;
              }
            }
            this._instances = L;
          } else
            this._instances.forEach(function(Z, J) {
              x.push(J), Z.forEach(function(Q) {
                var ne;
                (ne = Q.onRemoved) === null || ne === void 0 || ne.call(Q, { overlay: Q });
              });
            }), this._instances.clear();
          if (x.length > 0) {
            var V = this._chartStore.getChart();
            x.forEach(function(Z) {
              V.updatePane(1, Z);
            }), V.updatePane(1, pr);
          }
        }, p.prototype.setPressedInstanceInfo = function(o) {
          this._pressedInstanceInfo = o;
        }, p.prototype.getPressedInstanceInfo = function() {
          return this._pressedInstanceInfo;
        }, p.prototype.setHoverInstanceInfo = function(o, s) {
          var d, h, m = this._hoverInstanceInfo, x = m.instance, C = m.figureKey, L = m.figureIndex;
          if (((x == null ? void 0 : x.id) !== ((d = o.instance) === null || d === void 0 ? void 0 : d.id) || m.figureType !== o.figureType || L !== o.figureIndex) && (this._hoverInstanceInfo = o, (x == null ? void 0 : x.id) !== ((h = o.instance) === null || h === void 0 ? void 0 : h.id))) {
            var A = !1, F = !1;
            x !== null && (F = !0, x.resetZLevel(), T(x.onMouseLeave) && (x.onMouseLeave(Le({ overlay: x, figureKey: C, figureIndex: L }, s)), A = !0)), o.instance !== null && (F = !0, o.instance.setZLevel(To), T(o.instance.onMouseEnter) && (o.instance.onMouseEnter(Le({ overlay: o.instance, figureKey: o.figureKey, figureIndex: o.figureIndex }, s)), A = !0)), F && this._sort(), A || this._chartStore.getChart().updatePane(1);
          }
        }, p.prototype.getHoverInstanceInfo = function() {
          return this._hoverInstanceInfo;
        }, p.prototype.setClickInstanceInfo = function(o, s) {
          var d, h, m, x, C, L, A, F, B, V = this._clickInstanceInfo, Z = V.paneId, J = V.instance, Q = V.figureType, ne = V.figureKey, de = V.figureIndex;
          if ((h = (d = o.instance) === null || d === void 0 ? void 0 : d.isDrawing()) !== null && h !== void 0 && h || (x = (m = o.instance) === null || m === void 0 ? void 0 : m.onClick) === null || x === void 0 || x.call(m, Le({ overlay: o.instance, figureKey: o.figureKey, figureIndex: o.figureIndex }, s)), ((J == null ? void 0 : J.id) !== ((C = o.instance) === null || C === void 0 ? void 0 : C.id) || Q !== o.figureType || de !== o.figureIndex) && (this._clickInstanceInfo = o, (J == null ? void 0 : J.id) !== ((L = o.instance) === null || L === void 0 ? void 0 : L.id))) {
            (A = J == null ? void 0 : J.onDeselected) === null || A === void 0 || A.call(J, Le({ overlay: J, figureKey: ne, figureIndex: de }, s)), (B = (F = o.instance) === null || F === void 0 ? void 0 : F.onSelected) === null || B === void 0 || B.call(F, Le({ overlay: o.instance, figureKey: o.figureKey, figureIndex: o.figureIndex }, s));
            var be = this._chartStore.getChart();
            be.updatePane(1, o.paneId), Z !== o.paneId && be.updatePane(1, Z), be.updatePane(1, pr);
          }
        }, p.prototype.getClickInstanceInfo = function() {
          return this._clickInstanceInfo;
        }, p.prototype.isEmpty = function() {
          return this._instances.size === 0 && this._progressInstanceInfo === null;
        }, p.prototype.isDrawing = function() {
          var o, s;
          return this._progressInstanceInfo !== null && (s = (o = this._progressInstanceInfo) === null || o === void 0 ? void 0 : o.instance.isDrawing()) !== null && s !== void 0 && s;
        }, p;
      }(), na = function() {
        function p() {
          this._actions = /* @__PURE__ */ new Map();
        }
        return p.prototype.execute = function(o, s) {
          var d;
          (d = this._actions.get(o)) === null || d === void 0 || d.execute(s);
        }, p.prototype.subscribe = function(o, s) {
          var d;
          this._actions.has(o) || this._actions.set(o, new Vr()), (d = this._actions.get(o)) === null || d === void 0 || d.subscribe(s);
        }, p.prototype.unsubscribe = function(o, s) {
          var d = this._actions.get(o);
          d !== void 0 && (d.unsubscribe(s), d.isEmpty() && this._actions.delete(o));
        }, p.prototype.has = function(o) {
          var s = this._actions.get(o);
          return s !== void 0 && !s.isEmpty();
        }, p;
      }(), Cs = { light: { grid: { horizontal: { color: "#EDEDED" }, vertical: { color: "#EDEDED" } }, candle: { priceMark: { high: { color: "#76808F" }, low: { color: "#76808F" } }, tooltip: { rect: { color: "#FEFEFE", borderColor: "#F2F3F5" }, text: { color: "#76808F" } } }, indicator: { tooltip: { text: { color: "#76808F" } } }, xAxis: { axisLine: { color: "#DDDDDD" }, tickText: { color: "#76808F" }, tickLine: { color: "#DDDDDD" } }, yAxis: { axisLine: { color: "#DDDDDD" }, tickText: { color: "#76808F" }, tickLine: { color: "#DDDDDD" } }, separator: { color: "#DDDDDD" }, crosshair: { horizontal: { line: { color: "#76808F" }, text: { borderColor: "#686D76", backgroundColor: "#686D76" } }, vertical: { line: { color: "#76808F" }, text: { borderColor: "#686D76", backgroundColor: "#686D76" } } } }, dark: { grid: { horizontal: { color: "#292929" }, vertical: { color: "#292929" } }, candle: { priceMark: { high: { color: "#929AA5" }, low: { color: "#929AA5" } }, tooltip: { rect: { color: "rgba(10, 10, 10, .6)", borderColor: "rgba(10, 10, 10, .6)" }, text: { color: "#929AA5" } } }, indicator: { tooltip: { text: { color: "#929AA5" } } }, xAxis: { axisLine: { color: "#333333" }, tickText: { color: "#929AA5" }, tickLine: { color: "#333333" } }, yAxis: { axisLine: { color: "#333333" }, tickText: { color: "#929AA5" }, tickLine: { color: "#333333" } }, separator: { color: "#333333" }, crosshair: { horizontal: { line: { color: "#929AA5" }, text: { borderColor: "#373a40", backgroundColor: "#373a40" } }, vertical: { line: { color: "#929AA5" }, text: { borderColor: "#373a40", backgroundColor: "#373a40" } } } } };
      function qr(p) {
        var o;
        return (o = Cs[p]) !== null && o !== void 0 ? o : null;
      }
      var Ss = function() {
        function p(o, s) {
          this._styles = { grid: { show: !0, horizontal: { show: !0, size: 1, color: "#EDEDED", style: n.LineType.Dashed, dashedValue: [2, 2] }, vertical: { show: !0, size: 1, color: "#EDEDED", style: n.LineType.Dashed, dashedValue: [2, 2] } }, candle: { type: n.CandleType.CandleSolid, bar: { upColor: "#2DC08E", downColor: "#F92855", noChangeColor: "#888888", upBorderColor: "#2DC08E", downBorderColor: "#F92855", noChangeBorderColor: "#888888", upWickColor: "#2DC08E", downWickColor: "#F92855", noChangeWickColor: "#888888" }, area: { lineSize: 2, lineColor: "#1677FF", value: "close", backgroundColor: [{ offset: 0, color: "rgba(22, 119, 255, 0.01)" }, { offset: 1, color: "rgba(22, 119, 255, 0.2)" }] }, priceMark: { show: !0, high: { show: !0, color: "#76808F", textOffset: 5, textSize: 10, textFamily: "Helvetica Neue", textWeight: "normal" }, low: { show: !0, color: "#76808F", textOffset: 5, textSize: 10, textFamily: "Helvetica Neue", textWeight: "normal" }, last: { show: !0, upColor: "#2DC08E", downColor: "#F92855", noChangeColor: "#888888", line: { show: !0, style: n.LineType.Dashed, dashedValue: [4, 4], size: 1 }, text: { show: !0, style: n.PolygonType.Fill, size: 12, paddingLeft: 4, paddingTop: 4, paddingRight: 4, paddingBottom: 4, borderColor: "transparent", borderStyle: n.LineType.Solid, borderSize: 0, borderDashedValue: [2, 2], color: "#FFFFFF", family: "Helvetica Neue", weight: "normal", borderRadius: 2 } } }, tooltip: { showRule: n.TooltipShowRule.Always, showType: n.TooltipShowType.Standard, custom: null, defaultValue: "n/a", rect: { position: Ce.Fixed, paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 8, offsetLeft: 10, offsetTop: 8, offsetRight: 10, offsetBottom: 8, borderRadius: 4, borderSize: 1, borderColor: "#F2F3F5", color: "#FEFEFE" }, text: { size: 12, family: "Helvetica Neue", weight: "normal", color: "#76808F", marginLeft: 10, marginTop: 8, marginRight: 6, marginBottom: 0 }, icons: [] } }, indicator: { ohlc: { upColor: "rgba(45, 192, 142, .7)", downColor: "rgba(249, 40, 85, .7)", noChangeColor: "#888888" }, bars: [{ style: n.PolygonType.Fill, borderStyle: n.LineType.Solid, borderSize: 1, borderDashedValue: [2, 2], upColor: "rgba(45, 192, 142, .7)", downColor: "rgba(249, 40, 85, .7)", noChangeColor: "#888888" }], lines: [{ style: n.LineType.Solid, smooth: !1, size: 1, dashedValue: [2, 2], color: "#FF9600" }, { style: n.LineType.Solid, smooth: !1, size: 1, dashedValue: [2, 2], color: "#935EBD" }, { style: n.LineType.Solid, smooth: !1, size: 1, dashedValue: [2, 2], color: "#1677FF" }, { style: n.LineType.Solid, smooth: !1, size: 1, dashedValue: [2, 2], color: "#E11D74" }, { style: n.LineType.Solid, smooth: !1, size: 1, dashedValue: [2, 2], color: "#01C5C4" }], circles: [{ style: n.PolygonType.Fill, borderStyle: n.LineType.Solid, borderSize: 1, borderDashedValue: [2, 2], upColor: "rgba(45, 192, 142, .7)", downColor: "rgba(249, 40, 85, .7)", noChangeColor: "#888888" }], lastValueMark: { show: !1, text: { show: !1, style: n.PolygonType.Fill, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", borderStyle: n.LineType.Solid, borderColor: "transparent", borderSize: 1, borderDashedValue: [2, 2], paddingLeft: 4, paddingTop: 4, paddingRight: 4, paddingBottom: 4, borderRadius: 2 } }, tooltip: { showRule: n.TooltipShowRule.Always, showType: n.TooltipShowType.Standard, showName: !0, showParams: !0, defaultValue: "n/a", text: { size: 12, family: "Helvetica Neue", weight: "normal", color: "#76808F", marginLeft: 10, marginTop: 8, marginRight: 6, marginBottom: 0 }, icons: [] } }, xAxis: { show: !0, size: "auto", axisLine: { show: !0, color: "#DDDDDD", size: 1 }, tickText: { show: !0, color: "#76808F", size: 12, family: "Helvetica Neue", weight: "normal", marginStart: 4, marginEnd: 4 }, tickLine: { show: !0, size: 1, length: 3, color: "#DDDDDD" } }, yAxis: { show: !0, size: "auto", type: n.YAxisType.Normal, position: n.YAxisPosition.Right, inside: !1, reverse: !1, axisLine: { show: !0, color: "#DDDDDD", size: 1 }, tickText: { show: !0, color: "#76808F", size: 12, family: "Helvetica Neue", weight: "normal", marginStart: 4, marginEnd: 4 }, tickLine: { show: !0, size: 1, length: 3, color: "#DDDDDD" } }, separator: { size: 1, color: "#DDDDDD", fill: !0, activeBackgroundColor: "rgba(33, 150, 243, 0.08)" }, crosshair: { show: !0, horizontal: { show: !0, line: { show: !0, style: n.LineType.Dashed, dashedValue: [4, 2], size: 1, color: "#76808F" }, text: { show: !0, style: n.PolygonType.Fill, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", borderStyle: n.LineType.Solid, borderDashedValue: [2, 2], borderSize: 1, borderColor: "#686D76", borderRadius: 2, paddingLeft: 4, paddingRight: 4, paddingTop: 4, paddingBottom: 4, backgroundColor: "#686D76" } }, vertical: { show: !0, line: { show: !0, style: n.LineType.Dashed, dashedValue: [4, 2], size: 1, color: "#76808F" }, text: { show: !0, style: n.PolygonType.Fill, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", borderStyle: n.LineType.Solid, borderDashedValue: [2, 2], borderSize: 1, borderRadius: 2, borderColor: "#686D76", paddingLeft: 4, paddingRight: 4, paddingTop: 4, paddingBottom: 4, backgroundColor: "#686D76" } } }, overlay: { point: { color: "#1677FF", borderColor: "rgba(22, 119, 255, 0.35)", borderSize: 1, radius: 5, activeColor: "#1677FF", activeBorderColor: "rgba(22, 119, 255, 0.35)", activeBorderSize: 3, activeRadius: 5 }, line: { style: n.LineType.Solid, smooth: !1, color: "#1677FF", size: 1, dashedValue: [2, 2] }, rect: { style: n.PolygonType.Fill, color: "rgba(22, 119, 255, 0.25)", borderColor: "#1677FF", borderSize: 1, borderRadius: 0, borderStyle: n.LineType.Solid, borderDashedValue: [2, 2] }, polygon: { style: n.PolygonType.Fill, color: "#1677FF", borderColor: "#1677FF", borderSize: 1, borderStyle: n.LineType.Solid, borderDashedValue: [2, 2] }, circle: { style: n.PolygonType.Fill, color: "rgba(22, 119, 255, 0.25)", borderColor: "#1677FF", borderSize: 1, borderStyle: n.LineType.Solid, borderDashedValue: [2, 2] }, arc: { style: n.LineType.Solid, color: "#1677FF", size: 1, dashedValue: [2, 2] }, text: { style: n.PolygonType.Fill, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", borderStyle: n.LineType.Solid, borderDashedValue: [2, 2], borderSize: 0, borderRadius: 2, borderColor: "#1677FF", paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 0, backgroundColor: "transparent" }, rectText: { style: n.PolygonType.Fill, color: "#FFFFFF", size: 12, family: "Helvetica Neue", weight: "normal", borderStyle: n.LineType.Solid, borderDashedValue: [2, 2], borderSize: 1, borderRadius: 2, borderColor: "#1677FF", paddingLeft: 4, paddingRight: 4, paddingTop: 4, paddingBottom: 4, backgroundColor: "#1677FF" } } }, this._customApi = { formatDate: We, formatBigNumber: gt }, this._locale = "en-US", this._precision = { price: 2, volume: 0 }, this._thousandsSeparator = ",", this._dataList = [], this._timeScaleStore = new Zs(this), this._indicatorStore = new wo(this), this._overlayStore = new bs(this), this._tooltipStore = new Ja(this), this._actionStore = new na(), this._visibleDataList = [], this._chart = o, this.setOptions(s);
        }
        return p.prototype.adjustVisibleDataList = function() {
          this._visibleDataList = [];
          for (var o = this._timeScaleStore.getVisibleRange(), s = o.to, d = o.from; s > d; d++) {
            var h = this._dataList[d], m = this._timeScaleStore.dataIndexToCoordinate(d);
            this._visibleDataList.push({ dataIndex: d, x: m, data: h });
          }
        }, p.prototype.setOptions = function(o) {
          if (o !== void 0) {
            var s = o.locale, d = o.timezone, h = o.styles, m = o.customApi;
            s !== void 0 && (this._locale = s), d !== void 0 && this._timeScaleStore.setTimezone(d), h !== void 0 && (oe(h) ? y(this._styles, qr(h)) : y(this._styles, h)), m !== void 0 && y(this._customApi, m), o.thousandsSeparator !== void 0 && (this._thousandsSeparator = o.thousandsSeparator);
          }
          return this;
        }, p.prototype.getStyles = function() {
          return this._styles;
        }, p.prototype.getLocale = function() {
          return this._locale;
        }, p.prototype.getCustomApi = function() {
          return this._customApi;
        }, p.prototype.getThousandsSeparator = function() {
          return this._thousandsSeparator;
        }, p.prototype.getPrecision = function() {
          return this._precision;
        }, p.prototype.setPrecision = function(o) {
          return this._precision = o, this._indicatorStore.setSeriesPrecision(o), this;
        }, p.prototype.getDataList = function() {
          return this._dataList;
        }, p.prototype.getVisibleDataList = function() {
          return this._visibleDataList;
        }, p.prototype.addData = function(o, s, d) {
          if (S(o)) {
            this._timeScaleStore.setLoading(!1), this._timeScaleStore.setMore(d == null || d);
            var h = this._dataList.length === 0;
            this._dataList = o.concat(this._dataList), h && this._timeScaleStore.resetOffsetRightDistance(), this._timeScaleStore.adjustVisibleRange();
          } else if (s < this._dataList.length)
            this._dataList[s] = o, this.adjustVisibleDataList();
          else {
            this._dataList.push(o);
            var m = this._timeScaleStore.getOffsetRightBarCount();
            0 > m && this._timeScaleStore.setOffsetRightBarCount(--m), this._timeScaleStore.adjustVisibleRange();
          }
          this._tooltipStore.recalculateCrosshair(!0);
        }, p.prototype.clear = function() {
          this._dataList = [], this._visibleDataList = [], this._timeScaleStore.clear(), this._tooltipStore.clear();
        }, p.prototype.getTimeScaleStore = function() {
          return this._timeScaleStore;
        }, p.prototype.getIndicatorStore = function() {
          return this._indicatorStore;
        }, p.prototype.getOverlayStore = function() {
          return this._overlayStore;
        }, p.prototype.getTooltipStore = function() {
          return this._tooltipStore;
        }, p.prototype.getActionStore = function() {
          return this._actionStore;
        }, p.prototype.getChart = function() {
          return this._chart;
        }, p;
      }();
      function Fi(p) {
        return window.requestAnimationFrame == null ? window.setTimeout(p, 20) : window.requestAnimationFrame(p);
      }
      function ro(p) {
        window.cancelAnimationFrame == null && window.clearTimeout(p), window.cancelAnimationFrame(p);
      }
      var ra = -1, Mo = function(p) {
        function o() {
          var s = p !== null && p.apply(this, arguments) || this;
          return s._mainRequestAnimationId = ra, s._overlayRequestAnimationId = ra, s;
        }
        return ft(o, p), o.prototype.getContainerStyle = function() {
          return { margin: "0", padding: "0", position: "absolute", top: "0", overflow: "hidden", boxSizing: "border-box" };
        }, o.prototype.initDom = function(s) {
          this._mainCanvas = wn("canvas", { position: "absolute", top: "0", left: "0", zIndex: "2", boxSizing: "border-box" }), this._mainCtx = this._mainCanvas.getContext("2d"), this._overlayCanvas = wn("canvas", { position: "absolute", top: "0", left: "0", zIndex: "2", boxSizing: "border-box" }), this._overlayCtx = this._overlayCanvas.getContext("2d"), s.appendChild(this._mainCanvas), s.appendChild(this._overlayCanvas);
        }, o.prototype._optimalUpdateMain = function(s, d) {
          var h = this;
          this._mainRequestAnimationId !== ra && (ro(this._mainRequestAnimationId), this._mainRequestAnimationId = ra), this._mainRequestAnimationId = Fi(function() {
            if (s !== h._mainCanvas.offsetWidth || d !== h._mainCanvas.offsetHeight) {
              h._mainCtx.clearRect(0, 0, h._mainCanvas.offsetWidth, h._mainCanvas.offsetHeight);
              var m = Kn(h._mainCanvas), x = Math.floor(s * m), C = Math.floor(d * m);
              h._mainCanvas.style.width = "".concat(s, "px"), h._mainCanvas.style.height = "".concat(d, "px"), h._mainCanvas.width = x, h._mainCanvas.height = C, h._mainCtx.scale(m, m);
            } else
              h._mainCtx.clearRect(0, 0, h._mainCanvas.offsetWidth, h._mainCanvas.offsetHeight);
            h.updateMain(h._mainCtx);
          });
        }, o.prototype._optimalUpdateOverlay = function(s, d) {
          var h = this;
          this._overlayRequestAnimationId !== ra && (ro(this._overlayRequestAnimationId), this._overlayRequestAnimationId = ra), this._overlayRequestAnimationId = Fi(function() {
            if (s !== h._overlayCanvas.offsetWidth || d !== h._overlayCanvas.offsetHeight) {
              h._overlayCtx.clearRect(0, 0, h._overlayCanvas.offsetWidth, h._overlayCanvas.offsetHeight);
              var m = Kn(h._overlayCanvas), x = Math.floor(s * m), C = Math.floor(d * m);
              h._overlayCanvas.style.width = "".concat(s, "px"), h._overlayCanvas.style.height = "".concat(d, "px"), h._overlayCanvas.width = x, h._overlayCanvas.height = C, h._overlayCtx.scale(m, m);
            } else
              h._overlayCtx.clearRect(0, 0, h._overlayCanvas.offsetWidth, h._overlayCanvas.offsetHeight);
            h.updateOverlay(h._overlayCtx);
          });
        }, o.prototype.updateImp = function(s, d, h) {
          var m = d.width, x = d.height;
          s.style.left = "".concat(d.left, "px");
          var C = h;
          switch (m === s.offsetWidth && x === s.offsetHeight || (s.style.width = "".concat(m, "px"), s.style.height = "".concat(x, "px"), C = 3), C) {
            case 0:
              this._optimalUpdateMain(m, x);
              break;
            case 1:
              this._optimalUpdateOverlay(m, x);
              break;
            case 3:
            case 4:
              this._optimalUpdateMain(m, x), this._optimalUpdateOverlay(m, x);
          }
        }, o.prototype.getImage = function(s) {
          var d = this.getBounding(), h = d.width, m = d.height, x = wn("canvas", { width: "".concat(h, "px"), height: "".concat(m, "px"), boxSizing: "border-box" }), C = x.getContext("2d"), L = Kn(x);
          return x.width = h * L, x.height = m * L, C.scale(L, L), C.drawImage(this._mainCanvas, 0, 0, h, m), s && C.drawImage(this._overlayCanvas, 0, 0, h, m), x;
        }, o;
      }(ms);
      function Do(p, o) {
        var s = p.x - o.x, d = p.y - o.y, h = o.r;
        return !(s * s + d * d > h * h);
      }
      function wa(p, o, s) {
        var d = o.x, h = o.y, m = o.r, x = s.style, C = x === void 0 ? n.PolygonType.Fill : x, L = s.color, A = s.borderSize, F = A === void 0 ? 1 : A, B = s.borderColor, V = B === void 0 ? "currentColor" : B, Z = s.borderStyle, J = Z === void 0 ? n.LineType.Solid : Z, Q = s.borderDashedValue, ne = Q === void 0 ? [2, 2] : Q;
        C !== n.PolygonType.Fill && s.style !== n.PolygonType.StrokeFill || (p.fillStyle = L === void 0 ? "currentColor" : L, p.beginPath(), p.arc(d, h, m, 0, 2 * Math.PI), p.closePath(), p.fill()), C !== n.PolygonType.Stroke && s.style !== n.PolygonType.StrokeFill || (p.strokeStyle = V, p.lineWidth = F, p.setLineDash(J === n.LineType.Dashed ? ne : []), p.beginPath(), p.arc(d, h, m, 0, 2 * Math.PI), p.closePath(), p.stroke());
      }
      var Dn = { name: "circle", checkEventOn: Do, draw: function(p, o, s) {
        wa(p, o, s);
      } };
      function _i(p, o) {
        for (var s = !1, d = o.coordinates, h = 0, m = d.length - 1; d.length > h; m = h++)
          d[h].y > p.y != d[m].y > p.y && (d[m].x - d[h].x) * (p.y - d[h].y) / (d[m].y - d[h].y) + d[h].x > p.x && (s = !s);
        return s;
      }
      function Ta(p, o, s) {
        var d = o.coordinates, h = s.style, m = h === void 0 ? n.PolygonType.Fill : h, x = s.color, C = s.borderSize, L = C === void 0 ? 1 : C, A = s.borderColor, F = A === void 0 ? "currentColor" : A, B = s.borderStyle, V = B === void 0 ? n.LineType.Solid : B, Z = s.borderDashedValue, J = Z === void 0 ? [2, 2] : Z;
        if (m === n.PolygonType.Fill || s.style === n.PolygonType.StrokeFill) {
          p.fillStyle = x === void 0 ? "currentColor" : x, p.beginPath(), p.moveTo(d[0].x, d[0].y);
          for (var Q = 1; d.length > Q; Q++)
            p.lineTo(d[Q].x, d[Q].y);
          p.closePath(), p.fill();
        }
        if (m === n.PolygonType.Stroke || s.style === n.PolygonType.StrokeFill) {
          for (p.strokeStyle = F, p.lineWidth = L, p.setLineDash(V === n.LineType.Dashed ? J : []), p.beginPath(), p.moveTo(d[0].x, d[0].y), Q = 1; d.length > Q; Q++)
            p.lineTo(d[Q].x, d[Q].y);
          p.closePath(), p.stroke();
        }
      }
      var ia = { name: "polygon", checkEventOn: _i, draw: function(p, o, s) {
        Ta(p, o, s);
      } };
      function Fo(p) {
        return p === "transparent";
      }
      function ka(p, o) {
        var s = o.x, d = o.width;
        4 > d && (s -= 2, d = 4);
        var h = o.y, m = o.height;
        return 4 > m && (h -= 2, m = 4), !(s > p.x || p.x > s + d || h > p.y || p.y > h + m);
      }
      function xi(p, o, s) {
        var d = o.x, h = o.y, m = o.width, x = o.height, C = s.style, L = C === void 0 ? n.PolygonType.Fill : C, A = s.color, F = A === void 0 ? "transparent" : A, B = s.borderSize, V = B === void 0 ? 1 : B, Z = s.borderColor, J = Z === void 0 ? "transparent" : Z, Q = s.borderStyle, ne = Q === void 0 ? n.LineType.Solid : Q, de = s.borderRadius, be = de === void 0 ? 0 : de, me = s.borderDashedValue, Me = me === void 0 ? [2, 2] : me;
        if (L === n.PolygonType.Fill || s.style === n.PolygonType.StrokeFill) {
          var Re = !0;
          oe(F) && (Re = !Fo(F)), Re && (p.fillStyle = F, p.beginPath(), p.moveTo(d + be, h), p.arcTo(d + m, h, d + m, h + x, be), p.arcTo(d + m, h + x, d, h + x, be), p.arcTo(d, h + x, d, h, be), p.arcTo(d, h, d + m, h, be), p.closePath(), p.fill());
        }
        L !== n.PolygonType.Stroke && s.style !== n.PolygonType.StrokeFill || Fo(J) || 0 > V || (p.strokeStyle = J, p.lineWidth = V, p.setLineDash(ne === n.LineType.Dashed ? Me : []), p.beginPath(), p.moveTo(d + be, h), p.arcTo(d + m, h, d + m, h + x, be), p.arcTo(d + m, h + x, d, h + x, be), p.arcTo(d, h + x, d, h, be), p.arcTo(d, h, d + m, h, be), p.closePath(), p.stroke());
      }
      var Pa = { name: "rect", checkEventOn: ka, draw: function(p, o, s) {
        xi(p, o, s);
      } };
      function Ia(p, o) {
        var s, d, h = o.size, m = h === void 0 ? 12 : h, x = o.paddingLeft, C = o.paddingTop, L = C === void 0 ? 0 : C, A = o.paddingRight, F = A === void 0 ? 0 : A, B = o.paddingBottom, V = B === void 0 ? 0 : B, Z = o.weight, J = p.x, Q = p.y, ne = p.align, de = ne === void 0 ? "left" : ne, be = p.baseline, me = be === void 0 ? "top" : be, Me = p.width, Re = p.height, He = Me ?? (x === void 0 ? 0 : x) + Yr(p.text, m, Z === void 0 ? "normal" : Z, o.family) + F, Ke = Re ?? L + m + V;
        switch (de) {
          case "left":
          case "start":
            s = J;
            break;
          case "right":
          case "end":
            s = J - He;
            break;
          default:
            s = J - He / 2;
        }
        switch (me) {
          case "top":
          case "hanging":
            d = Q;
            break;
          case "bottom":
          case "ideographic":
          case "alphabetic":
            d = Q - Ke;
            break;
          default:
            d = Q - Ke / 2;
        }
        return { x: s, y: d, width: He, height: Ke };
      }
      function $o(p, o, s) {
        var d = Ia(o, s), h = d.x, m = d.y;
        return !(h > p.x || p.x > h + d.width || m > p.y || p.y > m + d.height);
      }
      function aa(p, o, s) {
        var d = o.text, h = s.color, m = h === void 0 ? "currentColor" : h, x = s.size, C = x === void 0 ? 12 : x, L = s.family, A = s.weight, F = s.paddingLeft, B = F === void 0 ? 0 : F, V = s.paddingTop, Z = V === void 0 ? 0 : V, J = s.paddingRight, Q = J === void 0 ? 0 : J, ne = Ia(o, s);
        xi(p, ne, Le(Le({}, s), { color: s.backgroundColor })), p.textAlign = "left", p.textBaseline = "top", p.font = Gn(C, A, L), p.fillStyle = m, p.fillText(d, ne.x + B, ne.y + Z, ne.width - B - Q);
      }
      var Ea = { name: "text", checkEventOn: function(p, o, s) {
        return $o(p, o, s);
      }, draw: function(p, o, s) {
        aa(p, o, s);
      } }, ws = aa;
      function Ts(p, o) {
        if (2 > Math.abs(Math.sqrt((B = (A = p).x - (F = o).x) * B + (V = A.y - F.y) * V) - o.r)) {
          var s = o.r, d = o.startAngle, h = o.endAngle, m = s * Math.cos(d) + o.x, x = s * Math.sin(d) + o.y, C = s * Math.cos(h) + o.x, L = s * Math.sin(h) + o.y;
          return !(p.x > Math.max(m, C) + 2 || Math.min(m, C) - 2 > p.x || p.y > Math.max(x, L) + 2 || Math.min(x, L) - 2 > p.y);
        }
        var A, F, B, V;
        return !1;
      }
      function Ro(p, o, s) {
        var d = o.x, h = o.y, m = o.r, x = o.startAngle, C = o.endAngle, L = s.style, A = L === void 0 ? n.LineType.Solid : L, F = s.size, B = s.color, V = B === void 0 ? "currentColor" : B, Z = s.dashedValue, J = Z === void 0 ? [2, 2] : Z;
        p.lineWidth = F === void 0 ? 1 : F, p.strokeStyle = V, p.setLineDash(A === n.LineType.Dashed ? J : []), p.beginPath(), p.arc(d, h, m, x, C), p.stroke(), p.closePath();
      }
      var Oo = { name: "arc", checkEventOn: Ts, draw: function(p, o, s) {
        Ro(p, o, s);
      } }, bi = {};
      [Dn, Us, ia, Pa, Ea, Ea, Oo].forEach(function(p) {
        bi[p.name] = ds.extend(p);
      });
      var Qr = function(p) {
        function o(s) {
          var d = p.call(this) || this;
          return d._widget = s, d;
        }
        return ft(o, p), o.prototype.getWidget = function() {
          return this._widget;
        }, o.prototype.createFigure = function(s, d, h, m) {
          var x = function(A) {
            var F;
            return (F = bi[A]) !== null && F !== void 0 ? F : null;
          }(s);
          if (x !== null) {
            var C = new x({ name: s, attrs: d, styles: h });
            if (m !== void 0) {
              for (var L in m)
                m.hasOwnProperty(L) && C.registerEvent(L, m[L]);
              this.addChild(C);
            }
            return C;
          }
          return null;
        }, o.prototype.draw = function(s) {
          this.clear(), this.drawImp(s);
        }, o;
      }(ko), ks = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this, m = this.getWidget(), x = this.getWidget().getPane(), C = x.getChart(), L = m.getBounding(), A = C.getStyles().grid;
          if (A.show) {
            s.save(), s.globalCompositeOperation = "destination-over";
            var F = A.horizontal;
            F.show && x.getAxisComponent().getTicks().forEach(function(V) {
              var Z;
              (Z = h.createFigure("line", { coordinates: [{ x: 0, y: V.coord }, { x: L.width, y: V.coord }] }, F)) === null || Z === void 0 || Z.draw(s);
            });
            var B = A.vertical;
            B.show && ((d = C.getPaneById(pr)) === null || d === void 0 ? void 0 : d.getAxisComponent()).getTicks().forEach(function(V) {
              var Z;
              (Z = h.createFigure("line", { coordinates: [{ x: V.coord, y: 0 }, { x: V.coord, y: L.height }] }, B)) === null || Z === void 0 || Z.draw(s);
            }), s.restore();
          }
        }, o;
      }(Qr), La = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.eachChildren = function(s) {
          var d = this.getWidget().getPane().getChart().getChartStore(), h = d.getVisibleDataList(), m = d.getTimeScaleStore().getBarSpace();
          h.forEach(function(x, C) {
            s(x, m, C);
          });
        }, o;
      }(Qr), io = function(p) {
        function o() {
          var s = p !== null && p.apply(this, arguments) || this;
          return s._boundCandleBarClickEvent = function(d) {
            return function() {
              return s.getWidget().getPane().getChart().getChartStore().getActionStore().execute(n.ActionType.OnCandleBarClick, d), !1;
            };
          }, s;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d = this, h = this.getWidget().getPane(), m = h.getId() === rr, x = h.getChart().getChartStore(), C = this.getCandleBarOptions(x);
          if (C !== null) {
            var L = h.getAxisComponent();
            this.eachChildren(function(A, F) {
              d._drawCandleBar(s, L, A, F, C, m);
            });
          }
        }, o.prototype.getCandleBarOptions = function(s) {
          var d = s.getStyles().candle;
          return { type: d.type, styles: d.bar };
        }, o.prototype._drawCandleBar = function(s, d, h, m, x, C) {
          var L, A, F, B = this, V = h.data, Z = h.x, J = V.open, Q = V.high, ne = V.low, de = V.close, be = m.halfGapBar, me = m.gapBar, Me = x.type, Re = x.styles;
          de > J ? (L = Re.upColor, A = Re.upBorderColor, F = Re.upWickColor) : J > de ? (L = Re.downColor, A = Re.downBorderColor, F = Re.downWickColor) : (L = Re.noChangeColor, A = Re.noChangeBorderColor, F = Re.noChangeWickColor);
          var He = d.convertToPixel(J), Ke = d.convertToPixel(de), rt = [He, Ke, d.convertToPixel(Q), d.convertToPixel(ne)];
          rt.sort(function(lt, St) {
            return lt - St;
          });
          var ot = Math.max(1, rt[2] - rt[1]), _t = [];
          Me !== n.CandleType.Ohlc ? (_t.push({ name: "rect", attrs: { x: Z - 0.5, y: rt[0], width: 1, height: rt[1] - rt[0] }, styles: { color: F } }), _t.push(Me === n.CandleType.CandleStroke || Me === n.CandleType.CandleUpStroke && de > J || Me === n.CandleType.CandleDownStroke && J > de ? { name: "rect", attrs: { x: Z - be + 0.5, y: rt[1], width: me - 1, height: ot }, styles: { style: n.PolygonType.Stroke, borderColor: A } } : { name: "rect", attrs: { x: Z - be + 0.5, y: rt[1], width: me - 1, height: ot }, styles: { style: n.PolygonType.StrokeFill, color: L, borderColor: A } }), _t.push({ name: "rect", attrs: { x: Z - 0.5, y: rt[2], width: 1, height: rt[3] - rt[2] }, styles: { color: F } })) : _t = [{ name: "rect", attrs: { x: Z - 0.5, y: rt[0], width: 1, height: rt[3] - rt[0] }, styles: { color: L } }, { name: "rect", attrs: { x: Z - be, y: He, width: be, height: 1 }, styles: { color: L } }, { name: "rect", attrs: { x: Z, y: Ke, width: be, height: 1 }, styles: { color: L } }], _t.forEach(function(lt) {
            var St, Pt, Lt = lt.attrs, Yt = lt.styles;
            C && (Pt = { mouseClickEvent: B._boundCandleBarClickEvent(h) }), (St = B.createFigure("rect", Lt, Yt, Pt)) === null || St === void 0 || St.draw(s);
          });
        }, o;
      }(La), oa = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getCandleBarOptions = function(s) {
          var d, h, m = this.getWidget().getPane();
          if (!m.getAxisComponent().isInCandle()) {
            var x = s.getIndicatorStore().getInstances(m.getId());
            try {
              for (var C = Et(x), L = C.next(); !L.done; L = C.next()) {
                var A = L.value[1];
                if (A.shouldOhlc && A.visible) {
                  var F = A.styles, B = s.getStyles().indicator, V = at(F, "ohlc.upColor", B.ohlc.upColor), Z = at(F, "ohlc.downColor", B.ohlc.downColor), J = at(F, "ohlc.noChangeColor", B.ohlc.noChangeColor);
                  return { type: n.CandleType.Ohlc, styles: { upColor: V, downColor: Z, noChangeColor: J, upBorderColor: V, downBorderColor: Z, noChangeBorderColor: J, upWickColor: V, downWickColor: Z, noChangeWickColor: J } };
                }
              }
            } catch (Q) {
              d = { error: Q };
            } finally {
              try {
                L && !L.done && (h = C.return) && h.call(C);
              } finally {
                if (d)
                  throw d.error;
              }
            }
          }
          return null;
        }, o.prototype.drawImp = function(s) {
          var d, h = this;
          p.prototype.drawImp.call(this, s);
          var m = this.getWidget(), x = m.getPane(), C = x.getChart(), L = m.getBounding(), A = (d = C.getPaneById(pr)) === null || d === void 0 ? void 0 : d.getAxisComponent(), F = x.getAxisComponent(), B = C.getChartStore(), V = B.getDataList(), Z = B.getTimeScaleStore(), J = Z.getVisibleRange(), Q = B.getIndicatorStore().getInstances(x.getId()), ne = B.getStyles().indicator;
          Q.forEach(function(de) {
            var be;
            if (de.visible) {
              var me = !1;
              if (de.draw !== null && (s.save(), me = (be = de.draw({ ctx: s, kLineDataList: V, indicator: de, visibleRange: J, bounding: L, barSpace: Z.getBarSpace(), defaultStyles: ne, xAxis: A, yAxis: F })) !== null && be !== void 0 && be, s.restore()), !me) {
                var Me = de.result;
                h.eachChildren(function(Re, He) {
                  var Ke, rt, ot, _t = He.halfGapBar, lt = He.gapBar, St = Re.dataIndex, Pt = Re.x, Lt = A.convertToPixel(St - 1), Yt = A.convertToPixel(St + 1), Cn = (Ke = Me[St - 1]) !== null && Ke !== void 0 ? Ke : {}, Jt = (rt = Me[St]) !== null && rt !== void 0 ? rt : {}, Yn = (ot = Me[St + 1]) !== null && ot !== void 0 ? ot : {}, Xn = { x: Lt }, ur = { x: Pt }, Xt = { x: Yt };
                  de.figures.forEach(function(ln) {
                    var Pn = ln.key;
                    Xn[Pn] = F.convertToPixel(Cn[Pn]), ur[Pn] = F.convertToPixel(Jt[Pn]), Xt[Pn] = F.convertToPixel(Yn[Pn]);
                  }), ui(V, de, St, ne, function(ln, Pn) {
                    var ir, vr, Ci;
                    if (H(Jt[ln.key])) {
                      var Ar = ur[ln.key], Mr = (ir = ln.attrs) === null || ir === void 0 ? void 0 : ir.call(ln, { coordinate: { prev: Xn, current: ur, next: Xt }, bounding: L, barSpace: He, xAxis: A, yAxis: F });
                      if (!H(Mr))
                        switch (ln.type) {
                          case "circle":
                            Mr = { x: Pt, y: Ar, r: _t };
                            break;
                          case "rect":
                          case "bar":
                            var di = (vr = ln.baseValue) !== null && vr !== void 0 ? vr : F.getExtremum().min, Dr = F.convertToPixel(di), Jn = Math.abs(Dr - Ar);
                            di !== Jt[ln.key] && (Jn = Math.max(1, Jn)), Mr = { x: Pt - _t, y: Ar > Dr ? Dr : Ar, width: lt, height: Jn };
                            break;
                          case "line":
                            z(ur[ln.key]) && z(Xt[ln.key]) && (Mr = { coordinates: [{ x: ur.x, y: ur[ln.key] }, { x: Xt.x, y: Xt[ln.key] }] });
                        }
                      if (H(Mr)) {
                        var Oa = ln.type;
                        (Ci = h.createFigure(Oa === "bar" ? "rect" : Oa, Mr, Pn)) === null || Ci === void 0 || Ci.draw(s);
                      }
                    }
                  });
                });
              }
            }
          });
        }, o;
      }(io), Ps = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d = this.getWidget(), h = d.getPane(), m = d.getBounding(), x = d.getPane().getChart().getChartStore(), C = x.getTooltipStore().getCrosshair(), L = x.getStyles().crosshair;
          if (C.paneId !== void 0 && L.show) {
            if (C.paneId === h.getId()) {
              var A = C.y;
              this._drawLine(s, [{ x: 0, y: A }, { x: m.width, y: A }], L.horizontal);
            }
            var F = C.realX;
            this._drawLine(s, [{ x: F, y: 0 }, { x: F, y: m.height }], L.vertical);
          }
        }, o.prototype._drawLine = function(s, d, h) {
          var m;
          if (h.show) {
            var x = h.line;
            x.show && ((m = this.createFigure("line", { coordinates: d }, x)) === null || m === void 0 || m.draw(s));
          }
        }, o;
      }(Qr), $i = function(p) {
        function o() {
          var s = p !== null && p.apply(this, arguments) || this;
          return s._boundIconClickEvent = function(d, h) {
            return function() {
              return s.getWidget().getPane().getChart().getChartStore().getActionStore().execute(n.ActionType.OnTooltipIconClick, Le(Le({}, d), { iconId: h })), !0;
            };
          }, s._boundIconMouseMoveEvent = function(d, h) {
            return function() {
              return s.getWidget().getPane().getChart().getChartStore().getTooltipStore().setActiveIcon(Le(Le({}, d), { iconId: h })), !0;
            };
          }, s;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d = this.getWidget(), h = d.getPane(), m = h.getChart().getChartStore(), x = m.getTooltipStore().getCrosshair();
          if (x.kLineData !== void 0) {
            var C = d.getBounding(), L = m.getCustomApi(), A = m.getThousandsSeparator(), F = m.getIndicatorStore().getInstances(h.getId()), B = m.getTooltipStore().getActiveIcon(), V = m.getStyles().indicator;
            this.drawIndicatorTooltip(s, h.getId(), m.getDataList(), x, B, F, L, A, C, V);
          }
        }, o.prototype.drawIndicatorTooltip = function(s, d, h, m, x, C, L, A, F, B, V) {
          var Z = this, J = B.tooltip, Q = 0;
          if (this.isDrawTooltip(m, J)) {
            var ne = J.text, de = 0, be = V ?? 0, me = 0;
            C.forEach(function(Me) {
              var Re = Z.getIndicatorTooltipData(h, m, Me, L, A, B), He = Re.name, Ke = Re.calcParamsText, rt = Re.values, ot = He.length > 0, _t = rt.length > 0;
              if (ot || _t) {
                var lt = ct(Z.classifyTooltipIcons(Re.icons), 3), St = lt[1], Pt = lt[2], Lt = ct(Z.drawStandardTooltipIcons(s, F, { paneId: d, indicatorName: Me.name, iconId: "" }, x, lt[0], de, be, me), 4);
                if (de = Lt[0], be = Lt[1], Q += Lt[3], me = Lt[2], ot) {
                  var Yt = He;
                  Ke.length > 0 && (Yt = "".concat(Yt).concat(Ke));
                  var Cn = ct(Z.drawStandardTooltipLabels(s, F, [{ title: { text: "", color: ne.color }, value: { text: Yt, color: ne.color } }], de, be, me, ne), 4);
                  de = Cn[0], be = Cn[1], Q += Cn[3], me = Cn[2];
                }
                var Jt = ct(Z.drawStandardTooltipIcons(s, F, { paneId: d, indicatorName: Me.name, iconId: "" }, x, St, de, be, me), 4);
                if (de = Jt[0], be = Jt[1], Q += Jt[3], me = Jt[2], _t) {
                  var Yn = ct(Z.drawStandardTooltipLabels(s, F, rt, de, be, me, ne), 4);
                  de = Yn[0], be = Yn[1], Q += Yn[3], me = Yn[2];
                }
                var Xn = ct(Z.drawStandardTooltipIcons(s, F, { paneId: d, indicatorName: Me.name, iconId: "" }, x, Pt, de, be, me), 4);
                de = 0, Q += Xn[3], be = Xn[1] + Xn[2], me = 0;
              }
            });
          }
          return Q;
        }, o.prototype.drawStandardTooltipIcons = function(s, d, h, m, x, C, L, A) {
          var F = this, B = C, V = L, Z = 0, J = 0, Q = 0;
          return x.length > 0 && (x.forEach(function(ne) {
            var de = ne.marginLeft, be = ne.marginTop, me = ne.marginRight, Me = ne.marginBottom, Re = ne.paddingLeft, He = ne.paddingTop, Ke = ne.paddingRight, rt = ne.paddingBottom, ot = ne.size, _t = ne.icon;
            s.font = Gn(ot, "normal", ne.fontFamily), Z += de + Re + s.measureText(_t).width + Ke + me, J = Math.max(J, be + He + ot + rt + Me);
          }), B + Z > d.width ? (B = x[0].marginLeft, V += A, Q = J) : Q = Math.max(0, J - A), x.forEach(function(ne) {
            var de, be = ne.marginRight, me = ne.paddingLeft, Me = ne.paddingRight, Re = ne.icon, He = (m == null ? void 0 : m.paneId) === h.paneId && (m == null ? void 0 : m.indicatorName) === h.indicatorName && (m == null ? void 0 : m.iconId) === ne.id;
            (de = F.createFigure("text", { text: Re, x: B += ne.marginLeft, y: V + ne.marginTop }, { paddingLeft: me, paddingTop: ne.paddingTop, paddingRight: Me, paddingBottom: ne.paddingBottom, color: He ? ne.activeColor : ne.color, size: ne.size, family: ne.fontFamily, backgroundColor: He ? ne.activeBackgroundColor : ne.backgroundColor }, { mouseClickEvent: F._boundIconClickEvent(h, ne.id), mouseMoveEvent: F._boundIconMouseMoveEvent(h, ne.id) })) === null || de === void 0 || de.draw(s), B += me + s.measureText(Re).width + Me + be;
          })), [B, V, Math.max(A, J), Q];
        }, o.prototype.drawStandardTooltipLabels = function(s, d, h, m, x, C, L) {
          var A = this, F = m, B = x, V = 0, Z = 0, J = C;
          if (h.length > 0) {
            var Q = L.marginLeft, ne = L.marginTop, de = L.marginRight, be = L.marginBottom, me = L.size, Me = L.family, Re = L.weight;
            s.font = Gn(me, Re, Me), h.forEach(function(He) {
              var Ke, rt, ot = He.title, _t = He.value, lt = s.measureText(ot.text).width, St = s.measureText(_t.text).width, Pt = me + ne + be;
              F + Q + (lt + St) + de > d.width ? (F = Q, B += Pt, Z += Pt) : (F += Q, Z += Math.max(0, Pt - J)), J = V = Math.max(J, Pt), ot.text.length > 0 && ((Ke = A.createFigure("text", { x: F, y: B + ne, text: ot.text }, { color: ot.color, size: me, family: Me, weight: Re })) === null || Ke === void 0 || Ke.draw(s), F += lt), (rt = A.createFigure("text", { x: F, y: B + ne, text: _t.text }, { color: _t.color, size: me, family: Me, weight: Re })) === null || rt === void 0 || rt.draw(s), F += St + de;
            });
          }
          return [F, B, V, Z];
        }, o.prototype.isDrawTooltip = function(s, d) {
          var h = d.showRule;
          return h === n.TooltipShowRule.Always || h === n.TooltipShowRule.FollowCross && s.paneId !== void 0;
        }, o.prototype.getIndicatorTooltipData = function(s, d, h, m, x, C) {
          var L, A, F, B = C.tooltip, V = B.showName ? h.shortName : "", Z = "", J = h.calcParams;
          J.length > 0 && B.showParams && (Z = "(".concat(J.join(","), ")"));
          var Q = { name: V, calcParamsText: Z, values: [], icons: B.icons }, ne = d.dataIndex, de = (L = h.result) !== null && L !== void 0 ? L : [], be = [];
          if (h.visible) {
            var me = (A = de[ne]) !== null && A !== void 0 ? A : {};
            ui(s, h, ne, C, function(Lt, Yt) {
              if (Lt.title !== void 0) {
                var Cn = Yt.color, Jt = me[Lt.key];
                H(Jt) && (Jt = $e(Jt, h.precision), h.shouldFormatBigNumber && (Jt = m.formatBigNumber(Jt))), be.push({ title: { text: Lt.title, color: Cn }, value: { text: Ue(Jt ?? B.defaultValue, x), color: Cn } });
              }
            }), Q.values = be;
          }
          if (h.createTooltipDataSource !== null) {
            var Me = this.getWidget(), Re = Me.getPane(), He = Re.getChart().getChartStore(), Ke = h.createTooltipDataSource({ kLineDataList: s, indicator: h, visibleRange: He.getTimeScaleStore().getVisibleRange(), bounding: Me.getBounding(), crosshair: d, defaultStyles: C, xAxis: (F = Re.getChart().getPaneById(pr)) === null || F === void 0 ? void 0 : F.getAxisComponent(), yAxis: Re.getAxisComponent() }), rt = Ke.name, ot = Ke.calcParamsText, _t = Ke.values, lt = Ke.icons;
            if (rt !== void 0 && B.showName && (Q.name = rt), ot !== void 0 && B.showParams && (Q.calcParamsText = ot), lt !== void 0 && (Q.icons = lt), _t !== void 0 && h.visible) {
              var St = [], Pt = C.tooltip.text.color;
              _t.forEach(function(Lt) {
                var Yt = { text: "", color: Pt };
                M(Lt.title) ? Yt = Lt.title : Yt.text = Lt.title;
                var Cn = { text: "", color: Pt };
                M(Lt.value) ? Cn = Lt.value : Cn.text = Lt.value, Cn.text = Ue(Cn.text, x), St.push({ title: Yt, value: Cn });
              }), Q.values = St;
            }
          }
          return Q;
        }, o.prototype.classifyTooltipIcons = function(s) {
          var d = [], h = [], m = [];
          return s.forEach(function(x) {
            switch (x.position) {
              case n.TooltipIconPosition.Left:
                d.push(x);
                break;
              case n.TooltipIconPosition.Middle:
                h.push(x);
                break;
              case n.TooltipIconPosition.Right:
                m.push(x);
            }
          }), [d, h, m];
        }, o;
      }(Qr), Is = function(p) {
        function o(s) {
          var d = p.call(this, s) || this;
          return d._initEvent(), d;
        }
        return ft(o, p), o.prototype._initEvent = function() {
          var s = this, d = this.getWidget().getPane(), h = d.getId(), m = d.getChart().getChartStore().getOverlayStore();
          this.registerEvent("mouseMoveEvent", function(x) {
            var C, L = m.getProgressInstanceInfo();
            if (L !== null) {
              var A = L.instance, F = L.paneId;
              A.isStart() && (m.updateProgressInstanceInfo(h), F = h);
              var B = A.points.length - 1, V = "".concat(ci, "point_").concat(B);
              return A.isDrawing() && F === h && (A.eventMoveForDrawing(s._coordinateToPoint(L.instance, x)), (C = A.onDrawing) === null || C === void 0 || C.call(A, Le({ overlay: A, figureKey: V, figureIndex: B }, x))), s._figureMouseMoveEvent(A, 1, V, B, 0)(x);
            }
            return m.setHoverInstanceInfo({ paneId: h, instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }, x), !1;
          }).registerEvent("mouseClickEvent", function(x) {
            var C, L, A = m.getProgressInstanceInfo();
            if (A !== null) {
              var F = A.instance, B = A.paneId;
              F.isStart() && (m.updateProgressInstanceInfo(h, !0), B = h);
              var V = F.points.length - 1, Z = "".concat(ci, "point_").concat(V);
              return F.isDrawing() && B === h && (F.eventMoveForDrawing(s._coordinateToPoint(F, x)), (C = F.onDrawing) === null || C === void 0 || C.call(F, Le({ overlay: F, figureKey: Z, figureIndex: V }, x)), F.nextStep(), F.isDrawing() || (m.progressInstanceComplete(), (L = F.onDrawEnd) === null || L === void 0 || L.call(F, Le({ overlay: F, figureKey: Z, figureIndex: V }, x)))), s._figureMouseClickEvent(F, 1, Z, V, 0)(x);
            }
            return m.setClickInstanceInfo({ paneId: h, instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }, x), !1;
          }).registerEvent("mouseDoubleClickEvent", function(x) {
            var C, L = m.getProgressInstanceInfo();
            if (L !== null) {
              var A = L.instance, F = L.paneId;
              if (A.isDrawing() && F === h && (A.forceComplete(), !A.isDrawing())) {
                m.progressInstanceComplete();
                var B = A.points.length - 1, V = "".concat(ci, "point_").concat(B);
                (C = A.onDrawEnd) === null || C === void 0 || C.call(A, Le({ overlay: A, figureKey: V, figureIndex: B }, x));
              }
              var Z = A.points.length - 1;
              return s._figureMouseDoubleClickEvent(A, 1, "".concat(ci, "point_").concat(Z), Z, 0)(x);
            }
            return !1;
          }).registerEvent("mouseRightClickEvent", function(x) {
            var C = m.getProgressInstanceInfo();
            if (C !== null) {
              var L = C.instance;
              if (L.isDrawing()) {
                var A = L.points.length - 1;
                return s._figureMouseRightClickEvent(L, 1, "".concat(ci, "point_").concat(A), A, 0)(x);
              }
            }
            return !1;
          }).registerEvent("mouseUpEvent", function(x) {
            var C, L = m.getPressedInstanceInfo(), A = L.instance;
            return A !== null && ((C = A.onPressedMoveEnd) === null || C === void 0 || C.call(A, Le({ overlay: A, figureKey: L.figureKey, figureIndex: L.figureIndex }, x))), m.setPressedInstanceInfo({ paneId: h, instance: null, figureType: 0, figureKey: "", figureIndex: -1, attrsIndex: -1 }), !1;
          }).registerEvent("pressedMouseMoveEvent", function(x) {
            var C, L, A = m.getPressedInstanceInfo(), F = A.instance, B = A.figureType, V = A.figureIndex;
            if (F !== null) {
              if (!(F.lock || (L = (C = F.onPressedMoving) === null || C === void 0 ? void 0 : C.call(F, Le({ overlay: F, figureIndex: V, figureKey: A.figureKey }, x))) !== null && L !== void 0 && L)) {
                var Z = s._coordinateToPoint(F, x);
                if (B === 1)
                  F.eventPressedPointMove(Z, V);
                else {
                  var J = s.getWidget().getPane().getChart().getChartStore().getDataList();
                  F.eventPressedOtherMove(Z, s.getWidget().getPane().getChart().getChartStore().getTimeScaleStore(), J);
                }
              }
              return !0;
            }
            return !1;
          });
        }, o.prototype._createFigureEvents = function(s, d, h, m, x, C) {
          var L;
          if (!s.isDrawing()) {
            var A = [];
            if (C !== void 0 && (ee(C) ? C && (A = ["mouseClickEvent", "mouseDoubleClickEvent", "mouseRightClickEvent", "tapEvent", "doubleTapEvent", "mouseDownEvent", "touchStartEvent", "mouseMoveEvent", "touchMoveEvent"]) : A = C), A.length === 0)
              return { mouseMoveEvent: this._figureMouseMoveEvent(s, d, h, m, x), mouseDownEvent: this._figureMouseDownEvent(s, d, h, m, x), mouseClickEvent: this._figureMouseClickEvent(s, d, h, m, x), mouseRightClickEvent: this._figureMouseRightClickEvent(s, d, h, m, x), mouseDoubleClickEvent: this._figureMouseDoubleClickEvent(s, d, h, m, x) };
            L = {}, A.includes("mouseMoveEvent") || A.includes("touchMoveEvent") || (L.mouseMoveEvent = this._figureMouseMoveEvent(s, d, h, m, x)), A.includes("mouseDownEvent") || A.includes("touchStartEvent") || (L.mouseDownEvent = this._figureMouseDownEvent(s, d, h, m, x)), A.includes("mouseClickEvent") || A.includes("tapEvent") || (L.mouseClickEvent = this._figureMouseClickEvent(s, d, h, m, x)), A.includes("mouseDoubleClickEvent") || A.includes("doubleTapEvent") || (L.mouseDoubleClickEvent = this._figureMouseDoubleClickEvent(s, d, h, m, x)), A.includes("mouseRightClickEvent") || (L.mouseRightClickEvent = this._figureMouseRightClickEvent(s, d, h, m, x));
          }
          return L;
        }, o.prototype._figureMouseMoveEvent = function(s, d, h, m, x) {
          var C = this;
          return function(L) {
            var A = C.getWidget().getPane();
            return A.getChart().getChartStore().getOverlayStore().setHoverInstanceInfo({ paneId: A.getId(), instance: s, figureType: d, figureKey: h, figureIndex: m, attrsIndex: x }, L), !0;
          };
        }, o.prototype._figureMouseDownEvent = function(s, d, h, m, x) {
          var C = this;
          return function(L) {
            var A, F = C.getWidget().getPane(), B = F.getId(), V = F.getChart().getChartStore().getOverlayStore();
            return s.startPressedMove(C._coordinateToPoint(s, L)), (A = s.onPressedMoveStart) === null || A === void 0 || A.call(s, Le({ overlay: s, figureIndex: m, figureKey: h }, L)), V.setPressedInstanceInfo({ paneId: B, instance: s, figureType: d, figureKey: h, figureIndex: m, attrsIndex: x }), !0;
          };
        }, o.prototype._figureMouseClickEvent = function(s, d, h, m, x) {
          var C = this;
          return function(L) {
            var A = C.getWidget().getPane(), F = A.getId();
            return A.getChart().getChartStore().getOverlayStore().setClickInstanceInfo({ paneId: F, instance: s, figureType: d, figureKey: h, figureIndex: m, attrsIndex: x }, L), !0;
          };
        }, o.prototype._figureMouseDoubleClickEvent = function(s, d, h, m, x) {
          return function(C) {
            var L;
            return (L = s.onDoubleClick) === null || L === void 0 || L.call(s, Le(Le({}, C), { figureIndex: m, figureKey: h, overlay: s })), !0;
          };
        }, o.prototype._figureMouseRightClickEvent = function(s, d, h, m, x) {
          var C = this;
          return function(L) {
            var A, F;
            return (F = (A = s.onRightClick) === null || A === void 0 ? void 0 : A.call(s, Le({ overlay: s, figureIndex: m, figureKey: h }, L))) !== null && F !== void 0 && F || C.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(s), !0;
          };
        }, o.prototype._coordinateToPoint = function(s, d) {
          var h, m, x = {}, C = this.getWidget().getPane(), L = C.getChart(), A = C.getId(), F = L.getChartStore().getTimeScaleStore();
          if (this.coordinateToPointTimestampDataIndexFlag()) {
            var B = ((h = L.getPaneById(pr)) === null || h === void 0 ? void 0 : h.getAxisComponent()).convertFromPixel(d.x), V = (m = F.dataIndexToTimestamp(B)) !== null && m !== void 0 ? m : void 0, Z = L.getChartStore().getDataList();
            if (V === void 0) {
              var J = 0 > B ? 0 : B > Z.length - 1 ? Z.length - 1 : B;
              x.timestamp = Z[J].timestamp, x.dataIndex = J;
            } else
              x.dataIndex = B, x.timestamp = V;
          }
          if (this.coordinateToPointValueFlag()) {
            var Q = C.getAxisComponent(), ne = Q.convertFromPixel(d.y);
            if (s.mode !== n.OverlayMode.Normal && A === rr && x.dataIndex !== void 0) {
              var de = F.getDataByDataIndex(x.dataIndex);
              if (de !== null) {
                var be = s.modeSensitivity;
                if (ne > de.high)
                  if (s.mode === n.OverlayMode.WeakMagnet) {
                    var me = Q.convertToPixel(de.high);
                    Q.convertFromPixel(me - be) > ne && (ne = de.high);
                  } else
                    ne = de.high;
                else if (de.low > ne)
                  if (s.mode === n.OverlayMode.WeakMagnet) {
                    var Me = Q.convertToPixel(de.low);
                    ne > Q.convertFromPixel(Me - be) && (ne = de.low);
                  } else
                    ne = de.low;
                else {
                  var Re = Math.max(de.open, de.close), He = Math.min(de.open, de.close);
                  ne = ne > Re ? de.high - ne > ne - Re ? Re : de.high : He > ne ? He - ne > ne - de.low ? de.low : He : ne - He > Re - ne ? Re : He;
                }
              }
            }
            x.value = ne;
          }
          return x;
        }, o.prototype.coordinateToPointValueFlag = function() {
          return !0;
        }, o.prototype.coordinateToPointTimestampDataIndexFlag = function() {
          return !0;
        }, o.prototype.dispatchEvent = function(s, d, h) {
          return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing() ? this.onEvent(s, d, h) : p.prototype.dispatchEvent.call(this, s, d, h);
        }, o.prototype.checkEventOn = function() {
          return !0;
        }, o.prototype.drawImp = function(s) {
          var d, h = this, m = this.getWidget(), x = m.getPane(), C = x.getId(), L = x.getChart(), A = x.getAxisComponent(), F = (d = L.getPaneById(pr)) === null || d === void 0 ? void 0 : d.getAxisComponent(), B = m.getBounding(), V = L.getChartStore(), Z = V.getCustomApi(), J = V.getThousandsSeparator(), Q = V.getTimeScaleStore(), ne = Q.getDateTimeFormat(), de = Q.getBarSpace(), be = V.getPrecision(), me = V.getStyles().overlay, Me = V.getOverlayStore(), Re = Me.getHoverInstanceInfo(), He = Me.getClickInstanceInfo();
          this.getCompleteOverlays(Me, C).forEach(function(ot) {
            ot.visible && h._drawOverlay(s, ot, B, de, be, ne, Z, J, me, F, A, Re, He, Q);
          });
          var Ke = Me.getProgressInstanceInfo();
          if (Ke !== null) {
            var rt = this.getProgressOverlay(Ke, C);
            rt !== null && rt.visible && this._drawOverlay(s, rt, B, de, be, ne, Z, J, me, F, A, Re, He, Q);
          }
        }, o.prototype._drawOverlay = function(s, d, h, m, x, C, L, A, F, B, V, Z, J, Q) {
          var ne = d.points.map(function(be) {
            var me, Me, Re = be.dataIndex;
            be.timestamp !== void 0 && (Re = Q.timestampToDataIndex(be.timestamp));
            var He = { x: 0, y: 0 };
            return Re !== void 0 && (He.x = (me = B == null ? void 0 : B.convertToPixel(Re)) !== null && me !== void 0 ? me : 0), be.value !== void 0 && (He.y = (Me = V == null ? void 0 : V.convertToPixel(be.value)) !== null && Me !== void 0 ? Me : 0), He;
          });
          if (ne.length > 0) {
            var de = [].concat(this.getFigures(d, ne, h, m, x, A, C, F, B, V));
            this.drawFigures(s, d, de, F);
          }
          this.drawDefaultFigures(s, d, ne, h, x, C, L, A, F, B, V, Z, J);
        }, o.prototype.drawFigures = function(s, d, h, m) {
          var x = this;
          h.forEach(function(C, L) {
            var A = C.type, F = C.styles, B = C.ignoreEvent;
            [].concat(C.attrs).forEach(function(V, Z) {
              var J, Q, ne, de = x._createFigureEvents(d, 2, (J = C.key) !== null && J !== void 0 ? J : "", L, Z, B), be = Le(Le(Le({}, m[A]), (Q = d.styles) === null || Q === void 0 ? void 0 : Q[A]), F);
              (ne = x.createFigure(A, V, be, de)) === null || ne === void 0 || ne.draw(s);
            });
          });
        }, o.prototype.getCompleteOverlays = function(s, d) {
          return s.getInstances(d);
        }, o.prototype.getProgressOverlay = function(s, d) {
          return s.paneId === d ? s.instance : null;
        }, o.prototype.getFigures = function(s, d, h, m, x, C, L, A, F, B) {
          var V, Z;
          return (Z = (V = s.createPointFigures) === null || V === void 0 ? void 0 : V.call(s, { overlay: s, coordinates: d, bounding: h, barSpace: m, precision: x, thousandsSeparator: C, dateTimeFormat: L, defaultStyles: A, xAxis: F, yAxis: B })) !== null && Z !== void 0 ? Z : [];
        }, o.prototype.drawDefaultFigures = function(s, d, h, m, x, C, L, A, F, B, V, Z, J) {
          var Q, ne, de = this;
          if (d.needDefaultPointFigure && (((Q = Z.instance) === null || Q === void 0 ? void 0 : Q.id) === d.id && Z.figureType !== 0 || ((ne = J.instance) === null || ne === void 0 ? void 0 : ne.id) === d.id && J.figureType !== 0)) {
            var be = d.styles, me = Le(Le({}, F.point), be == null ? void 0 : be.point);
            h.forEach(function(Me, Re) {
              var He, Ke, rt, ot = Me.x, _t = Me.y, lt = me.radius, St = me.color, Pt = me.borderColor, Lt = me.borderSize;
              ((He = Z.instance) === null || He === void 0 ? void 0 : He.id) === d.id && Z.figureType === 1 && Z.figureIndex === Re && (lt = me.activeRadius, St = me.activeColor, Pt = me.activeBorderColor, Lt = me.activeBorderSize), (Ke = de.createFigure("circle", { x: ot, y: _t, r: lt + Lt }, { color: Pt }, de._createFigureEvents(d, 1, "".concat(ci, "point_").concat(Re), Re, 0))) === null || Ke === void 0 || Ke.draw(s), (rt = de.createFigure("circle", { x: ot, y: _t, r: lt }, { color: St })) === null || rt === void 0 || rt.draw(s);
            });
          }
        }, o;
      }(Qr), Bo = function(p) {
        function o(s, d) {
          var h = p.call(this, s, d) || this;
          return h._gridView = new ks(h), h._indicatorView = new oa(h), h._crosshairLineView = new Ps(h), h._tooltipView = h.createTooltipView(), h._overlayView = new Is(h), h.addChild(h._tooltipView), h.addChild(h._overlayView), h.getContainer().style.cursor = "crosshair", h.registerEvent("mouseMoveEvent", function() {
            return d.getChart().getChartStore().getTooltipStore().setActiveIcon(), !1;
          }), h;
        }
        return ft(o, p), o.prototype.getName = function() {
          return fr;
        }, o.prototype.updateMain = function(s) {
          this.updateMainContent(s), this._indicatorView.draw(s), this._gridView.draw(s);
        }, o.prototype.createTooltipView = function() {
          return new $i(this);
        }, o.prototype.updateMainContent = function(s) {
        }, o.prototype.updateOverlay = function(s) {
          this._overlayView.draw(s), this._crosshairLineView.draw(s), this._tooltipView.draw(s);
        }, o;
      }(Mo), Es = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h, m = this.getWidget(), x = m.getPane(), C = x.getChart(), L = m.getBounding(), A = x.getAxisComponent(), F = C.getStyles().candle.area, B = [], V = [], Z = Number.MAX_SAFE_INTEGER;
          this.eachChildren(function(Me, Re, He) {
            var Ke = Me.x, rt = Re.halfGapBar, ot = Me.data[F.value];
            if (z(ot)) {
              var _t = A.convertToPixel(ot);
              if (He === 0) {
                var lt = Ke - rt;
                V.push({ x: lt, y: L.height }), V.push({ x: lt, y: _t }), B.push({ x: lt, y: _t });
              }
              B.push({ x: Ke, y: _t }), V.push({ x: Ke, y: _t }), Z = Math.min(Z, _t);
            }
          });
          var J = V.length;
          if (J > 0) {
            var Q = V[J - 1], ne = Q.x;
            B.push({ x: ne, y: Q.y }), V.push({ x: ne, y: Q.y }), V.push({ x: ne, y: L.height });
          }
          if (B.length > 0 && ((d = this.createFigure("line", { coordinates: B }, { color: F.lineColor, size: F.lineSize })) === null || d === void 0 || d.draw(s)), V.length > 0) {
            var de = F.backgroundColor, be = void 0;
            if (S(de)) {
              var me = s.createLinearGradient(0, L.height, 0, Z);
              try {
                de.forEach(function(Me) {
                  me.addColorStop(Me.offset, Me.color);
                });
              } catch {
              }
              be = me;
            } else
              be = de;
            (h = this.createFigure("polygon", { coordinates: V }, { color: be })) === null || h === void 0 || h.draw(s);
          }
        }, o;
      }(La), Ls = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d = this.getWidget().getPane(), h = d.getChart().getChartStore(), m = h.getStyles().candle.priceMark, x = m.high, C = m.low;
          if (m.show && (x.show || C.show)) {
            var L = h.getThousandsSeparator(), A = h.getPrecision(), F = d.getAxisComponent(), B = Number.MIN_SAFE_INTEGER, V = 0, Z = Number.MAX_SAFE_INTEGER, J = 0;
            this.eachChildren(function(de) {
              var be = de.data, me = de.x;
              be.high > B && (B = be.high, V = me), Z > be.low && (Z = be.low, J = me);
            });
            var Q = F.convertToPixel(B), ne = F.convertToPixel(Z);
            x.show && B !== Number.MIN_SAFE_INTEGER && this._drawMark(s, Ue($e(B, A.price), L), { x: V, y: Q }, ne > Q ? [-2, -5] : [2, 5], x), C.show && Z !== Number.MAX_SAFE_INTEGER && this._drawMark(s, Ue($e(Z, A.price), L), { x: J, y: ne }, ne > Q ? [2, 5] : [-2, -5], C);
          }
        }, o.prototype._drawMark = function(s, d, h, m, x) {
          var C, L, A, F, B, V, Z = h.x, J = h.y + m[0];
          (C = this.createFigure("line", { coordinates: [{ x: Z - 2, y: J + m[0] }, { x: Z, y: J }, { x: Z + 2, y: J + m[0] }] }, { color: x.color })) === null || C === void 0 || C.draw(s), Z > this.getWidget().getBounding().width / 2 ? (B = (F = Z - 5) - x.textOffset, V = "right") : (V = "left", B = (F = Z + 5) + x.textOffset);
          var Q = J + m[1];
          (L = this.createFigure("line", { coordinates: [{ x: Z, y: J }, { x: Z, y: Q }, { x: F, y: Q }] }, { color: x.color })) === null || L === void 0 || L.draw(s), (A = this.createFigure("text", { x: B, y: Q, text: d, align: V, baseline: "middle" }, { color: x.color, size: x.textSize, family: x.textFamily, weight: x.textWeight })) === null || A === void 0 || A.draw(s);
        }, o;
      }(La), As = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this.getWidget(), m = h.getPane(), x = h.getBounding(), C = m.getChart().getChartStore(), L = C.getStyles().candle.priceMark, A = L.last, F = A.line;
          if (L.show && A.show && F.show) {
            var B = m.getAxisComponent(), V = C.getDataList(), Z = V[V.length - 1];
            if (Z != null) {
              var J = Z.close, Q = Z.open, ne = B.convertToNicePixel(J);
              (d = this.createFigure("line", { coordinates: [{ x: 0, y: ne }, { x: x.width, y: ne }] }, { style: F.style, color: J > Q ? A.upColor : Q > J ? A.downColor : A.noChangeColor, size: F.size, dashedValue: F.dashedValue })) === null || d === void 0 || d.draw(s);
            }
          }
        }, o;
      }(Qr), Aa = { "zh-CN": { time: "", open: "", high: "", low: "", close: "", volume: "", change: "" }, "en-US": { time: "Time: ", open: "Open: ", high: "High: ", low: "Low: ", close: "Close: ", volume: "Volume: ", change: "Change: " } }, Vt = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this.getWidget(), m = h.getPane(), x = m.getId(), C = m.getChart().getChartStore(), L = C.getTooltipStore().getCrosshair();
          if (L.kLineData !== void 0) {
            var A = h.getBounding(), F = (d = m.getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding(), B = C.getDataList(), V = C.getPrecision(), Z = C.getLocale(), J = C.getCustomApi(), Q = C.getThousandsSeparator(), ne = C.getTooltipStore().getActiveIcon(), de = C.getIndicatorStore().getInstances(m.getId()), be = C.getTimeScaleStore().getDateTimeFormat(), me = C.getStyles(), Me = me.candle, Re = me.indicator;
            if (Me.tooltip.showType === n.TooltipShowType.Rect && Re.tooltip.showType === n.TooltipShowType.Rect) {
              var He = this.isDrawTooltip(L, Me.tooltip), Ke = this.isDrawTooltip(L, Re.tooltip);
              this._drawRectTooltip(s, B, de, A, F, L, V, be, Z, J, Q, He, Ke, me, 0);
            } else if (Me.tooltip.showType === n.TooltipShowType.Standard && Re.tooltip.showType === n.TooltipShowType.Standard) {
              var rt = this._drawCandleStandardTooltip(s, B, x, A, L, ne, V, be, Z, J, Q, Me);
              this.drawIndicatorTooltip(s, x, B, L, ne, de, J, Q, A, Re, rt);
            } else if (Me.tooltip.showType === n.TooltipShowType.Rect && Re.tooltip.showType === n.TooltipShowType.Standard) {
              var ot = this.drawIndicatorTooltip(s, x, B, L, ne, de, J, Q, A, Re, 0);
              He = this.isDrawTooltip(L, Me.tooltip), this._drawRectTooltip(s, B, de, A, F, L, V, be, Z, J, Q, He, !1, me, ot);
            } else {
              var _t = this._drawCandleStandardTooltip(s, B, x, A, L, ne, V, be, Z, J, Q, Me);
              Ke = this.isDrawTooltip(L, Re.tooltip), this._drawRectTooltip(s, B, de, A, F, L, V, be, Z, J, Q, !1, Ke, me, _t);
            }
          }
        }, o.prototype._drawCandleStandardTooltip = function(s, d, h, m, x, C, L, A, F, B, V, Z) {
          var J, Q, ne, de = Z.tooltip, be = de.text, me = 0;
          if (this.isDrawTooltip(x, de)) {
            var Me = (J = x.dataIndex) !== null && J !== void 0 ? J : 0, Re = this._getCandleTooltipData({ prev: (Q = d[Me - 1]) !== null && Q !== void 0 ? Q : null, current: x.kLineData, next: (ne = d[Me + 1]) !== null && ne !== void 0 ? ne : null }, L, A, F, B, V, Z), He = 0, Ke = 0, rt = 0, ot = ct(this.classifyTooltipIcons(de.icons), 3), _t = ot[1], lt = ot[2], St = ct(this.drawStandardTooltipIcons(s, m, { paneId: h, indicatorName: "", iconId: "" }, C, ot[0], He, Ke, 0), 4);
            me += St[3];
            var Pt = ct(this.drawStandardTooltipIcons(s, m, { paneId: h, indicatorName: "", iconId: "" }, C, _t, He = St[0], Ke = St[1], rt = St[2]), 4);
            if (He = Pt[0], Ke = Pt[1], me += Pt[3], rt = Pt[2], Re.length > 0) {
              var Lt = ct(this.drawStandardTooltipLabels(s, m, Re, He, Ke, rt, be), 4);
              He = Lt[0], Ke = Lt[1], me += Lt[3], rt = Lt[2];
            }
            var Yt = ct(this.drawStandardTooltipIcons(s, m, { paneId: h, indicatorName: "", iconId: "" }, C, lt, He, Ke, rt), 4);
            He = Yt[0], Ke = Yt[1], me += Yt[3], rt = Yt[2];
          }
          return me;
        }, o.prototype._drawRectTooltip = function(s, d, h, m, x, C, L, A, F, B, V, Z, J, Q, ne) {
          var de, be, me, Me, Re, He = this, Ke = Q.candle, rt = Q.indicator, ot = Ke.tooltip, _t = rt.tooltip;
          if (Z || J) {
            var lt = (de = C.dataIndex) !== null && de !== void 0 ? de : 0, St = this._getCandleTooltipData({ prev: (be = d[lt - 1]) !== null && be !== void 0 ? be : null, current: C.kLineData, next: (me = d[lt + 1]) !== null && me !== void 0 ? me : null }, L, A, F, B, V, Ke), Pt = ot.text, Lt = Pt.marginLeft, Yt = Pt.marginRight, Cn = Pt.marginTop, Jt = Pt.marginBottom, Yn = Pt.size, Xn = Pt.weight, ur = Pt.family, Xt = ot.rect, ln = Xt.position, Pn = Xt.paddingLeft, ir = Xt.paddingRight, vr = Xt.paddingTop, Ci = Xt.paddingBottom, Ar = Xt.offsetLeft, Mr = Xt.offsetRight, di = Xt.offsetTop, Dr = Xt.offsetBottom, Jn = Xt.borderSize, Oa = Xt.borderRadius, Qs = Xt.borderColor, Ba = Xt.color, Oi = 0, cr = 0, Fr = 0;
            Z && (s.font = Gn(Yn, Xn, ur), St.forEach(function(u) {
              var c = u.value, g = "".concat(u.title.text).concat(c.text), _ = s.measureText(g).width + Lt + Yt;
              Oi = Math.max(Oi, _);
            }), Fr += (Jt + Cn + Yn) * St.length);
            var Si = _t.text, Na = Si.marginLeft, Ho = Si.marginRight, Jr = Si.marginTop, $r = Si.marginBottom, ua = Si.size, Zo = Si.weight, lo = Si.family, za = [];
            if (J && (s.font = Gn(ua, Zo, lo), h.forEach(function(u) {
              var c, g = (c = He.getIndicatorTooltipData(d, C, u, B, V, rt).values) !== null && c !== void 0 ? c : [];
              za.push(g), g.forEach(function(_) {
                var w = _.value, k = "".concat(_.title.text).concat(w.text), I = s.measureText(k).width + Na + Ho;
                Oi = Math.max(Oi, I), Fr += Jr + $r + ua;
              });
            })), (cr += Oi) !== 0 && Fr !== 0) {
              cr += 2 * Jn + Pn + ir, Fr += 2 * Jn + vr + Ci;
              var uo = ln === Ce.Pointer && C.paneId === rr, Va = ((Me = C.realX) !== null && Me !== void 0 ? Me : 0) > m.width / 2, er = 0;
              if (uo) {
                var ge = C.realX;
                er = Va ? ge - Mr - cr : ge + Ar;
              } else
                Va ? (er = Ar, Q.yAxis.inside && Q.yAxis.position === n.YAxisPosition.Left && (er += x.width)) : (er = m.width - Mr - cr, Q.yAxis.inside && Q.yAxis.position === n.YAxisPosition.Right && (er -= x.width));
              var Fe = ne + di;
              uo && ((Fe = C.y - Fr / 2) + Fr > m.height - Dr && (Fe = m.height - Dr - Fr), ne + di > Fe && (Fe = ne + di)), (Re = this.createFigure("rect", { x: er, y: Fe, width: cr, height: Fr }, { style: n.PolygonType.StrokeFill, color: Ba, borderColor: Qs, borderSize: Jn, borderRadius: Oa })) === null || Re === void 0 || Re.draw(s);
              var l = er + Jn + Pn + Lt, r = Fe + Jn + vr;
              if (Z && St.forEach(function(u) {
                var c, g, _ = u.title;
                (c = He.createFigure("text", { x: l, y: r += Cn, text: _.text }, { color: _.color, size: Yn, family: ur, weight: Xn })) === null || c === void 0 || c.draw(s);
                var w = u.value;
                (g = He.createFigure("text", { x: er + cr - Jn - Yt - ir, y: r, text: w.text, align: "right" }, { color: w.color, size: Yn, family: ur, weight: Xn })) === null || g === void 0 || g.draw(s), r += Yn + Jt;
              }), J) {
                var i = er + Jn + Pn + Na;
                za.forEach(function(u) {
                  u.forEach(function(c) {
                    var g, _, w = c.title, k = c.value;
                    (g = He.createFigure("text", { x: i, y: r += Jr, text: w.text }, { color: w.color, size: ua, family: lo, weight: Zo })) === null || g === void 0 || g.draw(s), (_ = He.createFigure("text", { x: er + cr - Jn - Ho - ir, y: r, text: k.text, align: "right" }, { color: k.color, size: ua, family: lo, weight: Zo })) === null || _ === void 0 || _.draw(s), r += ua + $r;
                  });
                });
              }
            }
          }
        }, o.prototype._getCandleTooltipData = function(s, d, h, m, x, C, L) {
          var A, F, B, V, Z, J = L.tooltip, Q = J.text.color, ne = s.current, de = (F = (A = s.prev) === null || A === void 0 ? void 0 : A.close) !== null && F !== void 0 ? F : ne.close, be = ne.close - de, me = d.price, Me = d.volume, Re = { "{time}": x.formatDate(h, ne.timestamp, "YYYY-MM-DD HH:mm", n.FormatDateType.Tooltip), "{open}": Ue($e(ne.open, me), C), "{high}": Ue($e(ne.high, me), C), "{low}": Ue($e(ne.low, me), C), "{close}": Ue($e(ne.close, me), C), "{volume}": Ue(x.formatBigNumber($e((B = ne.volume) !== null && B !== void 0 ? B : J.defaultValue, Me)), C), "{change}": de === 0 ? J.defaultValue : "".concat($e(be / de * 100), "%") };
          return ((Z = T(J.custom) ? (V = J.custom) === null || V === void 0 ? void 0 : V.call(J, s, L) : J.custom) !== null && Z !== void 0 ? Z : [{ title: "time", value: "{time}" }, { title: "open", value: "{open}" }, { title: "high", value: "{high}" }, { title: "low", value: "{low}" }, { title: "close", value: "{close}" }, { title: "volume", value: "{volume}" }]).map(function(He) {
            var Ke, rt = He.title, ot = He.value, _t = { text: "", color: "" };
            M(rt) ? _t = Le({}, rt) : (_t.text = rt, _t.color = Q), _t.text = function(Lt, Yt) {
              var Cn, Jt;
              return (Jt = (Cn = Aa[Yt]) === null || Cn === void 0 ? void 0 : Cn[Lt]) !== null && Jt !== void 0 ? Jt : Lt;
            }(_t.text, m);
            var lt = { text: J.defaultValue, color: "" };
            M(ot) ? lt = Le({}, ot) : (lt.text = ot, lt.color = Q);
            var St = lt.text.match(/{(\S*)}/);
            if (St !== null && St.length > 1) {
              var Pt = "{".concat(St[1], "}");
              lt.text = lt.text.replace(Pt, (Ke = Re[Pt]) !== null && Ke !== void 0 ? Ke : J.defaultValue), Pt === "{change}" && (lt.color = be === 0 ? L.priceMark.last.noChangeColor : be > 0 ? L.priceMark.last.upColor : L.priceMark.last.downColor);
            }
            return { title: _t, value: lt };
          });
        }, o;
      }($i), No = function(p) {
        function o(s, d) {
          var h = p.call(this, s, d) || this;
          return h._candleBarView = new io(h), h._candleAreaView = new Es(h), h._candleHighLowPriceView = new Ls(h), h._candleLastPriceLineView = new As(h), h.addChild(h._candleBarView), h;
        }
        return ft(o, p), o.prototype.updateMainContent = function(s) {
          this.getPane().getChart().getStyles().candle.type !== n.CandleType.Area ? (this._candleBarView.draw(s), this._candleHighLowPriceView.draw(s)) : this._candleAreaView.draw(s), this._candleLastPriceLineView.draw(s);
        }, o.prototype.createTooltipView = function() {
          return new Vt(this);
        }, o;
      }(Bo), zo = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this, m = this.getWidget(), x = m.getPane(), C = m.getBounding(), L = x.getAxisComponent(), A = this.getAxisStyles(x.getChart().getStyles());
          if (A.show) {
            A.axisLine.show && ((d = this.createFigure("line", this.createAxisLine(C, A), A.axisLine)) === null || d === void 0 || d.draw(s));
            var F = L.getTicks();
            A.tickLine.show && this.createTickLines(F, C, A).forEach(function(B) {
              var V;
              (V = h.createFigure("line", B, A.tickLine)) === null || V === void 0 || V.draw(s);
            }), A.tickText.show && this.createTickTexts(F, C, A).forEach(function(B) {
              var V;
              (V = h.createFigure("text", B, A.tickText)) === null || V === void 0 || V.draw(s);
            });
          }
        }, o;
      }(Qr), hi = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getAxisStyles = function(s) {
          return s.yAxis;
        }, o.prototype.createAxisLine = function(s, d) {
          var h, m = this.getWidget().getPane().getAxisComponent(), x = d.axisLine.size;
          return { coordinates: [{ x: h = m.isFromZero() ? x / 2 : s.width - x, y: 0 }, { x: h, y: s.height }] };
        }, o.prototype.createTickLines = function(s, d, h) {
          var m = this.getWidget().getPane().getAxisComponent(), x = h.axisLine, C = h.tickLine, L = 0, A = 0;
          return m.isFromZero() ? (L = 0, x.show && (L += x.size), A = L + C.length) : (L = d.width, x.show && (L -= x.size), A = L - C.length), s.map(function(F) {
            return { coordinates: [{ x: L, y: F.coord }, { x: A, y: F.coord }] };
          });
        }, o.prototype.createTickTexts = function(s, d, h) {
          var m = this.getWidget().getPane().getAxisComponent(), x = h.axisLine, C = h.tickLine, L = h.tickText, A = 0;
          m.isFromZero() ? (A = L.marginStart, x.show && (A += x.size), C.show && (A += C.length)) : (A = d.width - L.marginEnd, x.show && (A -= x.size), C.show && (A -= C.length));
          var F = this.getWidget().getPane().getAxisComponent().isFromZero() ? "left" : "right";
          return s.map(function(B) {
            return { x: A, y: B.coord, text: B.text, align: F, baseline: "middle" };
          });
        }, o;
      }(zo), sa = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this.getWidget(), m = h.getPane(), x = h.getBounding(), C = m.getChart().getChartStore(), L = C.getStyles().candle.priceMark, A = L.last, F = A.text;
          if (L.show && A.show && F.show) {
            var B = C.getPrecision(), V = m.getAxisComponent(), Z = C.getDataList(), J = C.getVisibleDataList(), Q = Z[Z.length - 1];
            if (Q !== void 0) {
              var ne = Q.close, de = Q.open, be = V.convertToNicePixel(ne), me = void 0;
              me = ne > de ? A.upColor : de > ne ? A.downColor : A.noChangeColor;
              var Me = void 0;
              if (V.getType() === n.YAxisType.Percentage) {
                var Re = J[0].data.close;
                Me = "".concat(((ne - Re) / Re * 100).toFixed(2), "%");
              } else
                Me = $e(ne, B.price);
              Me = Ue(Me, C.getThousandsSeparator());
              var He = void 0, Ke = void 0;
              V.isFromZero() ? (He = 0, Ke = "left") : (He = x.width, Ke = "right"), (d = this.createFigure("text", { x: He, y: be, text: Me, align: Ke, baseline: "middle" }, Le(Le({}, F), { backgroundColor: me }))) === null || d === void 0 || d.draw(s);
            }
          }
        }, o;
      }(Qr), js = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d = this, h = this.getWidget(), m = h.getPane(), x = h.getBounding(), C = m.getChart().getChartStore(), L = C.getCustomApi(), A = C.getStyles().indicator, F = A.lastValueMark, B = F.text;
          if (F.show) {
            var V = m.getAxisComponent(), Z = C.getDataList(), J = Z.length - 1, Q = C.getIndicatorStore().getInstances(m.getId()), ne = C.getThousandsSeparator();
            Q.forEach(function(de) {
              var be = de.result[J];
              if (be !== void 0 && de.visible) {
                var me = de.precision;
                ui(Z, de, J, A, function(Me, Re) {
                  var He, Ke = be[Me.key];
                  if (H(Ke)) {
                    var rt = V.convertToNicePixel(Ke), ot = $e(Ke, me);
                    de.shouldFormatBigNumber && (ot = L.formatBigNumber(ot)), ot = Ue(ot, ne);
                    var _t = void 0, lt = void 0;
                    V.isFromZero() ? (_t = 0, lt = "left") : (_t = x.width, lt = "right"), (He = d.createFigure("text", { x: _t, y: rt, text: ot, align: lt, baseline: "middle" }, Le(Le({}, B), { backgroundColor: Re.color }))) === null || He === void 0 || He.draw(s);
                  }
                });
              }
            });
          }
        }, o;
      }(Qr), Vo = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.coordinateToPointTimestampDataIndexFlag = function() {
          return !1;
        }, o.prototype.drawDefaultFigures = function(s, d, h, m, x, C, L, A, F, B, V, Z, J) {
          this.drawFigures(s, d, this.getDefaultFigures(d, h, m, x, C, L, A, B, V, J), F);
        }, o.prototype.getDefaultFigures = function(s, d, h, m, x, C, L, A, F, B) {
          var V, Z, J = [];
          if (s.needDefaultYAxisFigure && s.id === ((V = B.instance) === null || V === void 0 ? void 0 : V.id) && B.paneId === this.getWidget().getPane().getId()) {
            var Q, ne, de = Number.MAX_SAFE_INTEGER, be = Number.MIN_SAFE_INTEGER;
            (Z = F == null ? void 0 : F.isFromZero()) !== null && Z !== void 0 && Z ? (Q = "left", ne = 0) : (Q = "right", ne = h.width), d.forEach(function(me, Me) {
              var Re = s.points[Me];
              if (Re.value !== void 0) {
                de = Math.min(de, me.y), be = Math.max(be, me.y);
                var He = Ue($e(Re.value, m.price), L);
                J.push({ type: "text", attrs: { x: ne, y: me.y, text: He, align: Q, baseline: "middle" }, ignoreEvent: !0 });
              }
            }), d.length > 1 && J.unshift({ type: "rect", attrs: { x: 0, y: de, width: h.width, height: be - de }, ignoreEvent: !0 });
          }
          return J;
        }, o.prototype.getFigures = function(s, d, h, m, x, C, L, A, F, B) {
          var V, Z;
          return (Z = (V = s.createYAxisFigures) === null || V === void 0 ? void 0 : V.call(s, { overlay: s, coordinates: d, bounding: h, barSpace: m, precision: x, thousandsSeparator: C, dateTimeFormat: L, defaultStyles: A, xAxis: F, yAxis: B })) !== null && Z !== void 0 ? Z : [];
        }, o;
      }(Is), Qt = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.drawImp = function(s) {
          var d, h = this.getWidget(), m = h.getPane(), x = h.getBounding(), C = h.getPane().getChart().getChartStore(), L = C.getTooltipStore().getCrosshair(), A = C.getStyles().crosshair;
          if (L.paneId !== void 0 && this.compare(L, m.getId()) && A.show) {
            var F = this.getDirectionStyles(A), B = F.text;
            if (F.show && B.show) {
              var V = m.getAxisComponent(), Z = this.getText(L, C, V);
              s.font = Gn(B.size, B.weight, B.family), (d = this.createFigure("text", this.getTextAttrs(Z, s.measureText(Z).width, L, x, V, B), B)) === null || d === void 0 || d.draw(s);
            }
          }
        }, o.prototype.compare = function(s, d) {
          return s.paneId === d;
        }, o.prototype.getDirectionStyles = function(s) {
          return s.horizontal;
        }, o.prototype.getText = function(s, d, h) {
          var m, x, C, L = h, A = h.convertFromPixel(s.y);
          if (L.getType() === n.YAxisType.Percentage) {
            var F = (x = (m = d.getVisibleDataList()[0]) === null || m === void 0 ? void 0 : m.data) !== null && x !== void 0 ? x : {};
            C = "".concat(((A - F.close) / F.close * 100).toFixed(2), "%");
          } else {
            var B = d.getIndicatorStore().getInstances(s.paneId), V = 0, Z = !1;
            L.isInCandle() ? V = d.getPrecision().price : B.forEach(function(J) {
              V = Math.max(J.precision, V), Z || (Z = J.shouldFormatBigNumber);
            }), C = $e(A, V), Z && (C = d.getCustomApi().formatBigNumber(C));
          }
          return Ue(C, d.getThousandsSeparator());
        }, o.prototype.getTextAttrs = function(s, d, h, m, x, C) {
          var L, A;
          return x.isFromZero() ? (L = 0, A = "left") : (L = m.width, A = "right"), { x: L, y: h.y, text: s, align: A, baseline: "middle" };
        }, o;
      }(Qr), ao = function(p) {
        function o(s, d) {
          var h = p.call(this, s, d) || this;
          return h._yAxisView = new hi(h), h._candleLastPriceLabelView = new sa(h), h._indicatorLastValueView = new js(h), h._overlayYAxisView = new Vo(h), h._crosshairHorizontalLabelView = new Qt(h), h.getContainer().style.cursor = "ns-resize", h.addChild(h._overlayYAxisView), h;
        }
        return ft(o, p), o.prototype.getName = function() {
          return Tr;
        }, o.prototype.updateMain = function(s) {
          this._yAxisView.draw(s), this.getPane().getAxisComponent().isInCandle() && this._candleLastPriceLabelView.draw(s), this._indicatorLastValueView.draw(s);
        }, o.prototype.updateOverlay = function(s) {
          this._overlayYAxisView.draw(s), this._crosshairHorizontalLabelView.draw(s);
        }, o;
      }(Mo), oo = function() {
        function p(o) {
          this._extremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }, this._prevExtremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }, this._ticks = [], this._autoCalcTickFlag = !0, this._parent = o;
        }
        return p.prototype.getParent = function() {
          return this._parent;
        }, p.prototype.buildTicks = function(o) {
          return this._autoCalcTickFlag && (this._extremum = this.calcExtremum()), !(this._prevExtremum.min === this._extremum.min && this._prevExtremum.max === this._extremum.max && !o) && (this._prevExtremum = this._extremum, this._ticks = this.optimalTicks(this._calcTicks()), !0);
        }, p.prototype.getTicks = function() {
          return this._ticks;
        }, p.prototype.getScrollZoomEnabled = function() {
          var o;
          return (o = this.getParent().getOptions().axisOptions.scrollZoomEnabled) === null || o === void 0 || o;
        }, p.prototype.setExtremum = function(o) {
          this._autoCalcTickFlag = !1, this._extremum = o;
        }, p.prototype.getExtremum = function() {
          return this._extremum;
        }, p.prototype.setAutoCalcTickFlag = function(o) {
          this._autoCalcTickFlag = o;
        }, p.prototype.getAutoCalcTickFlag = function() {
          return this._autoCalcTickFlag;
        }, p.prototype._calcTicks = function() {
          var o = this._extremum, s = o.realMin, d = o.realMax, h = o.realRange, m = [];
          if (h >= 0) {
            var x = ct(this._calcTickInterval(h), 2), C = x[0], L = x[1], A = Mi(Math.ceil(s / C) * C, L), F = Mi(Math.floor(d / C) * C, L), B = 0, V = A;
            if (C !== 0)
              for (; F >= V; ) {
                var Z = V.toFixed(L);
                m[B] = { text: Z, coord: 0, value: Z }, ++B, V += C;
              }
          }
          return m;
        }, p.prototype._calcTickInterval = function(o) {
          var s, d, h, m, x = (d = Math.floor(qn(s = o / 8)), h = Xr(d), s = (1.5 > (m = s / h) ? 1 : 2.5 > m ? 2 : 3.5 > m ? 3 : 4.5 > m ? 4 : 5.5 > m ? 5 : 6.5 > m ? 6 : 8) * h, -20 > d ? s : +s.toFixed(0 > d ? -d : 0)), C = function(L) {
            var A = "" + L, F = A.indexOf("e");
            if (F > 0) {
              var B = +A.slice(F + 1);
              return 0 > B ? -B : 0;
            }
            var V = A.indexOf(".");
            return 0 > V ? 0 : A.length - 1 - V;
          }(x);
          return [x, C];
        }, p;
      }(), qs = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.calcExtremum = function() {
          var s, d, h, m, x, C = this.getParent(), L = C.getChart(), A = L.getChartStore(), F = Number.MAX_SAFE_INTEGER, B = Number.MIN_SAFE_INTEGER, V = [], Z = !1, J = Number.MAX_SAFE_INTEGER, Q = Number.MIN_SAFE_INTEGER, ne = Number.MAX_SAFE_INTEGER;
          A.getIndicatorStore().getInstances(C.getId()).forEach(function(ln) {
            var Pn, ir, vr;
            Z || (Z = (Pn = ln.shouldOhlc) !== null && Pn !== void 0 && Pn), ne = Math.min(ne, ln.precision), ln.minValue !== null && (J = Math.min(J, ln.minValue)), ln.maxValue !== null && (Q = Math.max(Q, ln.maxValue)), V.push({ figures: (ir = ln.figures) !== null && ir !== void 0 ? ir : [], result: (vr = ln.result) !== null && vr !== void 0 ? vr : [] });
          });
          var de = 4, be = this.isInCandle();
          if (be) {
            var me = A.getPrecision().price;
            de = ne !== Number.MAX_SAFE_INTEGER ? Math.min(ne, me) : me;
          } else
            ne !== Number.MAX_SAFE_INTEGER && (de = ne);
          var Me = A.getVisibleDataList(), Re = L.getStyles().candle, He = Re.type === n.CandleType.Area, Ke = Re.area.value, rt = be && !He || !be && Z;
          Me.forEach(function(ln) {
            var Pn = ln.dataIndex, ir = ln.data;
            if (rt && (F = Math.min(F, ir.low), B = Math.max(B, ir.high)), be && He) {
              var vr = ir[Ke];
              F = Math.min(F, vr), B = Math.max(B, vr);
            }
            V.forEach(function(Ci) {
              var Ar, Mr = (Ar = Ci.result[Pn]) !== null && Ar !== void 0 ? Ar : {};
              Ci.figures.forEach(function(di) {
                var Dr = Mr[di.key];
                H(Dr) && (F = Math.min(F, Dr), B = Math.max(B, Dr));
              });
            });
          }), F !== Number.MAX_SAFE_INTEGER && B !== Number.MIN_SAFE_INTEGER ? (F = Math.min(J, F), B = Math.max(Q, B)) : (F = 0, B = 10);
          var ot, _t = this.getType();
          switch (_t) {
            case n.YAxisType.Percentage:
              var lt = (s = Me[0]) === null || s === void 0 ? void 0 : s.data;
              (lt == null ? void 0 : lt.close) !== void 0 && (F = (F - lt.close) / lt.close * 100, B = (B - lt.close) / lt.close * 100), ot = 0.01;
              break;
            case n.YAxisType.Log:
              F = qn(F), B = qn(B), ot = 0.05 * Xr(-de);
              break;
            default:
              ot = Xr(-de);
          }
          if (F === B || ot > Math.abs(F - B)) {
            var St = J === F, Pt = Q === B;
            F = St ? F : Pt ? F - 8 * ot : F - 4 * ot, B = Pt ? B : St ? B + 8 * ot : B + 4 * ot;
          }
          var Lt = (h = (d = this.getParent().getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, Yt = C.getOptions().gap, Cn = (m = Yt == null ? void 0 : Yt.top) !== null && m !== void 0 ? m : 0.2;
          1 > Cn || (Cn /= Lt);
          var Jt = (x = Yt == null ? void 0 : Yt.bottom) !== null && x !== void 0 ? x : 0.1;
          1 > Jt || (Jt /= Lt);
          var Yn, Xn, ur, Xt = Math.abs(B - F);
          return Xt = Math.abs((B += Xt * Cn) - (F -= Xt * Jt)), _t === n.YAxisType.Log ? (Yn = Xr(F), Xn = Xr(B), ur = Math.abs(Xn - Yn)) : (Yn = F, Xn = B, ur = Xt), { min: F, max: B, range: Xt, realMin: Yn, realMax: Xn, realRange: ur };
        }, o.prototype._innerConvertToPixel = function(s) {
          var d, h, m = (h = (d = this.getParent().getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, x = this.getExtremum(), C = (s - x.min) / x.range;
          return this.isReverse() ? Math.round(C * m) : Math.round((1 - C) * m);
        }, o.prototype.isInCandle = function() {
          return this.getParent().getName() === "candle";
        }, o.prototype.getType = function() {
          return this.isInCandle() ? this.getParent().getChart().getStyles().yAxis.type : n.YAxisType.Normal;
        }, o.prototype.getPosition = function() {
          return this.getParent().getChart().getStyles().yAxis.position;
        }, o.prototype.isReverse = function() {
          return !!this.isInCandle() && this.getParent().getChart().getStyles().yAxis.reverse;
        }, o.prototype.isFromZero = function() {
          var s = this.getParent().getChart().getStyles().yAxis, d = s.inside;
          return s.position === n.YAxisPosition.Left && d || s.position === n.YAxisPosition.Right && !d;
        }, o.prototype.optimalTicks = function(s) {
          var d, h, m = this, x = this.getParent(), C = (h = (d = x.getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, L = x.getChart().getChartStore(), A = L.getCustomApi(), F = [], B = this.getType(), V = L.getIndicatorStore().getInstances(x.getId()), Z = L.getThousandsSeparator(), J = 0, Q = !1;
          this.isInCandle() ? J = L.getPrecision().price : V.forEach(function(be) {
            J = Math.max(J, be.precision), Q || (Q = be.shouldFormatBigNumber);
          });
          var ne, de = L.getStyles().xAxis.tickText.size;
          return s.forEach(function(be) {
            var me, Me = be.value, Re = m._innerConvertToPixel(+Me);
            switch (B) {
              case n.YAxisType.Percentage:
                me = "".concat($e(Me, 2), "%");
                break;
              case n.YAxisType.Log:
                Re = m._innerConvertToPixel(qn(+Me)), me = $e(Me, J);
                break;
              default:
                me = $e(Me, J), Q && (me = A.formatBigNumber(Me));
            }
            me = Ue(me, Z), Re > de && C - de > Re && (ne !== void 0 && Math.abs(ne - Re) > 2 * de || ne === void 0) && (F.push({ text: me, coord: Re, value: Me }), ne = Re);
          }), F;
        }, o.prototype.getAutoSize = function() {
          var s = this.getParent(), d = s.getChart(), h = d.getStyles(), m = h.yAxis, x = m.size;
          if (x !== "auto")
            return x;
          var C = d.getChartStore(), L = C.getCustomApi(), A = 0;
          if (m.show && (m.axisLine.show && (A += m.axisLine.size), m.tickLine.show && (A += m.tickLine.length), m.tickText.show)) {
            var F = 0;
            this.getTicks().forEach(function(Me) {
              F = Math.max(F, Yr(Me.text, m.tickText.size, m.tickText.weight, m.tickText.family));
            }), A += m.tickText.marginStart + m.tickText.marginEnd + F;
          }
          var B = h.crosshair, V = 0;
          if (B.show && B.horizontal.show && B.horizontal.text.show) {
            var Z = C.getIndicatorStore().getInstances(s.getId()), J = 0, Q = !1;
            Z.forEach(function(Me) {
              J = Math.max(Me.precision, J), Q || (Q = Me.shouldFormatBigNumber);
            });
            var ne = 2;
            if (this.getType() !== n.YAxisType.Percentage)
              if (this.isInCandle()) {
                var de = C.getPrecision().price, be = h.indicator.lastValueMark;
                ne = be.show && be.text.show ? Math.max(J, de) : de;
              } else
                ne = J;
            var me = $e(this.getExtremum().max, ne);
            Q && (me = L.formatBigNumber(me)), V += B.horizontal.text.paddingLeft + B.horizontal.text.paddingRight + 2 * B.horizontal.text.borderSize + Yr(me, B.horizontal.text.size, B.horizontal.text.weight, B.horizontal.text.family);
          }
          return Math.max(A, V);
        }, o.prototype.convertFromPixel = function(s) {
          var d, h, m, x = (h = (d = this.getParent().getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, C = this.getExtremum(), L = C.min, A = C.range, F = (this.isReverse() ? s / x : 1 - s / x) * A + L;
          switch (this.getType()) {
            case n.YAxisType.Percentage:
              var B = (m = this.getParent().getChart().getChartStore().getVisibleDataList()[0]) === null || m === void 0 ? void 0 : m.data;
              return (B == null ? void 0 : B.close) !== void 0 ? B.close * F / 100 + B.close : 0;
            case n.YAxisType.Log:
              return Xr(F);
            default:
              return F;
          }
        }, o.prototype.convertToRealValue = function(s) {
          var d = s;
          return this.getType() === n.YAxisType.Log && (d = Xr(s)), d;
        }, o.prototype.convertToPixel = function(s) {
          var d, h = s;
          switch (this.getType()) {
            case n.YAxisType.Percentage:
              var m = (d = this.getParent().getChart().getChartStore().getVisibleDataList()[0]) === null || d === void 0 ? void 0 : d.data;
              (m == null ? void 0 : m.close) !== void 0 && (h = (s - m.close) / m.close * 100);
              break;
            case n.YAxisType.Log:
              h = qn(s);
              break;
            default:
              h = s;
          }
          return this._innerConvertToPixel(h);
        }, o.prototype.convertToNicePixel = function(s) {
          var d, h, m = (h = (d = this.getParent().getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding().height) !== null && h !== void 0 ? h : 0, x = this.convertToPixel(s);
          return Math.round(Math.max(0.05 * m, Math.min(x, 0.98 * m)));
        }, o;
      }(oo), Wo = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getName = function() {
          return "indicator";
        }, o.prototype.createAxisComponent = function() {
          return new qs(this);
        }, o.prototype.createMainWidget = function(s) {
          return new Bo(s, this);
        }, o.prototype.createSeparatorWidget = function(s) {
          return new _s(s, this);
        }, o.prototype.createYAxisWidget = function(s) {
          return new ao(s, this);
        }, o;
      }(Ao), la = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getName = function() {
          return "candle";
        }, o.prototype.createMainWidget = function(s) {
          return new No(s, this);
        }, o.prototype.createSeparatorWidget = function() {
          return null;
        }, o;
      }(Wo), xn = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getAxisStyles = function(s) {
          return s.xAxis;
        }, o.prototype.createAxisLine = function(s, d) {
          var h = d.axisLine.size / 2;
          return { coordinates: [{ x: 0, y: h }, { x: s.width, y: h }] };
        }, o.prototype.createTickLines = function(s, d, h) {
          var m = h.tickLine, x = h.axisLine.size;
          return s.map(function(C) {
            return { coordinates: [{ x: C.coord, y: 0 }, { x: C.coord, y: x + m.length }] };
          });
        }, o.prototype.createTickTexts = function(s, d, h) {
          var m = h.tickText, x = h.axisLine.size, C = h.tickLine.length;
          return s.map(function(L) {
            return { x: L.coord, y: x + C + m.marginStart, text: L.text, align: "center", baseline: "top" };
          });
        }, o;
      }(zo), bn = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.coordinateToPointTimestampDataIndexFlag = function() {
          return !0;
        }, o.prototype.coordinateToPointValueFlag = function() {
          return !1;
        }, o.prototype.getCompleteOverlays = function(s) {
          return s.getInstances();
        }, o.prototype.getProgressOverlay = function(s) {
          return s.instance;
        }, o.prototype.getDefaultFigures = function(s, d, h, m, x, C, L, A, F, B) {
          var V, Z = [];
          if (s.needDefaultXAxisFigure && s.id === ((V = B.instance) === null || V === void 0 ? void 0 : V.id)) {
            var J = Number.MAX_SAFE_INTEGER, Q = Number.MIN_SAFE_INTEGER;
            d.forEach(function(ne, de) {
              J = Math.min(J, ne.x), Q = Math.max(Q, ne.x);
              var be = s.points[de];
              if (be.timestamp !== void 0) {
                var me = C.formatDate(x, be.timestamp, "YYYY-MM-DD HH:mm", n.FormatDateType.Crosshair);
                Z.push({ type: "text", attrs: { x: ne.x, y: 0, text: me, align: "center" }, ignoreEvent: !0 });
              }
            }), d.length > 1 && Z.unshift({ type: "rect", attrs: { x: J, y: 0, width: Q - J, height: h.height }, ignoreEvent: !0 });
          }
          return Z;
        }, o.prototype.getFigures = function(s, d, h, m, x, C, L, A, F, B) {
          var V, Z;
          return (Z = (V = s.createXAxisFigures) === null || V === void 0 ? void 0 : V.call(s, { overlay: s, coordinates: d, bounding: h, barSpace: m, precision: x, thousandsSeparator: C, dateTimeFormat: L, defaultStyles: A, xAxis: F, yAxis: B })) !== null && Z !== void 0 ? Z : [];
        }, o;
      }(Vo), Ms = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.compare = function(s) {
          return s.kLineData !== void 0 && s.dataIndex === s.realDataIndex;
        }, o.prototype.getDirectionStyles = function(s) {
          return s.vertical;
        }, o.prototype.getText = function(s, d) {
          var h, m = (h = s.kLineData) === null || h === void 0 ? void 0 : h.timestamp;
          return d.getCustomApi().formatDate(d.getTimeScaleStore().getDateTimeFormat(), m, "YYYY-MM-DD HH:mm", n.FormatDateType.Crosshair);
        }, o.prototype.getTextAttrs = function(s, d, h, m, x, C) {
          var L, A = h.realX, F = "center";
          return 0 > A - d / 2 - C.paddingLeft ? (L = 0, F = "left") : A + d / 2 + C.paddingRight > m.width ? (L = m.width, F = "right") : L = A, { x: L, y: 0, text: s, align: F, baseline: "top" };
        }, o;
      }(Qt), Yo = function(p) {
        function o(s, d) {
          var h = p.call(this, s, d) || this;
          return h._xAxisView = new xn(h), h._overlayXAxisView = new bn(h), h._crosshairVerticalLabelView = new Ms(h), h.getContainer().style.cursor = "ew-resize", h.addChild(h._overlayXAxisView), h;
        }
        return ft(o, p), o.prototype.getName = function() {
          return wr;
        }, o.prototype.updateMain = function(s) {
          this._xAxisView.draw(s);
        }, o.prototype.updateOverlay = function(s) {
          this._overlayXAxisView.draw(s), this._crosshairVerticalLabelView.draw(s);
        }, o;
      }(Mo), Ma = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.calcExtremum = function() {
          var s = this.getParent().getChart().getChartStore().getTimeScaleStore().getVisibleRange(), d = s.from, h = s.to, m = h - 1, x = h - d;
          return { min: d, max: m, range: x, realMin: d, realMax: m, realRange: x };
        }, o.prototype.optimalTicks = function(s) {
          var d, h, m, x = this.getParent().getChart(), C = x.getChartStore(), L = C.getCustomApi().formatDate, A = [], F = s.length, B = C.getDataList();
          if (F > 0) {
            var V = C.getTimeScaleStore().getDateTimeFormat(), Z = x.getStyles().xAxis.tickText, J = Yr("00-00 00:00", Z.size, Z.weight, Z.family), Q = this.convertToPixel(parseInt(s[0].value, 10)), ne = 1;
            if (F > 1) {
              var de = this.convertToPixel(parseInt(s[1].value, 10)), be = Math.abs(de - Q);
              J > be && (ne = Math.ceil(J / be));
            }
            for (var me = 0; F > me; me += ne) {
              var Me = parseInt(s[me].value, 10), Re = B[Me].timestamp, He = L(V, Re, "HH:mm", n.FormatDateType.XAxis);
              me !== 0 && (He = (d = this._optimalTickLabel(L, V, Re, B[parseInt(s[me - ne].value, 10)].timestamp)) !== null && d !== void 0 ? d : He);
              var Ke = this.convertToPixel(Me);
              if (A.push({ text: He, coord: Ke, value: Re }), A.length > 2 && me === F - 1 * ne)
                for (var rt = A[A.length - 1], ot = Number(rt.value) - Number(A[A.length - 2].value), _t = rt.coord - A[A.length - 2].coord, lt = 1; 10 > lt; lt += 1)
                  A.push({ text: (h = this._optimalTickLabel(L, V, Number(rt.value) + Number(lt * ot), Number(rt.value))) !== null && h !== void 0 ? h : He, coord: rt.coord + lt * _t, value: Number(rt.value) + Number(lt * ot) });
            }
            if (A.length === 1)
              A[0].text = L(V, A[0].value, "YYYY-MM-DD HH:mm", n.FormatDateType.XAxis);
            else {
              var St = A[0].value, Pt = A[1].value;
              if (A[2] !== void 0) {
                var Lt = A[2].text;
                /^[0-9]{2}-[0-9]{2}$/.test(Lt) ? A[0].text = L(V, St, "MM-DD", n.FormatDateType.XAxis) : /^[0-9]{4}-[0-9]{2}$/.test(Lt) ? A[0].text = L(V, St, "YYYY-MM", n.FormatDateType.XAxis) : /^[0-9]{4}$/.test(Lt) && (A[0].text = L(V, St, "YYYY", n.FormatDateType.XAxis));
              } else
                A[0].text = (m = this._optimalTickLabel(L, V, St, Pt)) !== null && m !== void 0 ? m : A[0].text;
            }
          }
          return A;
        }, o.prototype._optimalTickLabel = function(s, d, h, m) {
          var x = s(d, h, "YYYY", n.FormatDateType.XAxis), C = s(d, h, "YYYY-MM", n.FormatDateType.XAxis), L = s(d, h, "MM-DD", n.FormatDateType.XAxis);
          return x !== s(d, m, "YYYY", n.FormatDateType.XAxis) ? x : C !== s(d, m, "YYYY-MM", n.FormatDateType.XAxis) ? C : L !== s(d, m, "MM-DD", n.FormatDateType.XAxis) ? L : null;
        }, o.prototype.getAutoSize = function() {
          var s = this.getParent().getChart().getStyles(), d = s.xAxis, h = d.size;
          if (h !== "auto")
            return h;
          var m = s.crosshair, x = 0;
          d.show && (d.axisLine.show && (x += d.axisLine.size), d.tickLine.show && (x += d.tickLine.length), d.tickText.show && (x += d.tickText.marginStart + d.tickText.marginEnd + d.tickText.size));
          var C = 0;
          return m.show && m.vertical.show && m.vertical.text.show && (C += m.vertical.text.paddingTop + m.vertical.text.paddingBottom + 2 * m.vertical.text.borderSize + m.vertical.text.size), Math.max(x, C);
        }, o.prototype.convertTimestampFromPixel = function(s) {
          var d = this.getParent().getChart().getChartStore().getTimeScaleStore(), h = d.coordinateToDataIndex(s);
          return d.dataIndexToTimestamp(h);
        }, o.prototype.convertTimestampToPixel = function(s) {
          var d = this.getParent().getChart().getChartStore().getTimeScaleStore(), h = d.timestampToDataIndex(s);
          return d.dataIndexToCoordinate(h);
        }, o.prototype.convertFromPixel = function(s) {
          return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(s);
        }, o.prototype.convertToPixel = function(s) {
          return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(s);
        }, o;
      }(oo), Da = function(p) {
        function o() {
          return p !== null && p.apply(this, arguments) || this;
        }
        return ft(o, p), o.prototype.getName = function() {
          return "xAxis";
        }, o.prototype.createAxisComponent = function() {
          return new Ma(this);
        }, o.prototype.createMainWidget = function(s) {
          return new Yo(s, this);
        }, o;
      }(Ao);
      function Ri() {
        var p;
        return typeof window < "u" && ((p = window.navigator.userAgent.toLowerCase().indexOf("firefox")) !== null && p !== void 0 ? p : -1) > -1;
      }
      function Fa() {
        return typeof window < "u" && /iPhone|iPad|iPod/.test(window.navigator.platform);
      }
      var $a, Xo = function() {
        function p(o, s, d) {
          var h = this;
          this._clickCount = 0, this._clickTimeoutId = null, this._clickCoordinate = { x: -1 / 0, y: 1 / 0 }, this._tapCount = 0, this._tapTimeoutId = null, this._tapCoordinate = { x: -1 / 0, y: 1 / 0 }, this._longTapTimeoutId = null, this._longTapActive = !1, this._mouseMoveStartCoordinate = null, this._touchMoveStartCoordinate = null, this._touchMoveExceededManhattanDistance = !1, this._cancelClick = !1, this._cancelTap = !1, this._unsubscribeOutsideMouseEvents = null, this._unsubscribeOutsideTouchEvents = null, this._unsubscribeMobileSafariEvents = null, this._unsubscribeMousemove = null, this._unsubscribeMouseWheel = null, this._unsubscribeContextMenu = null, this._unsubscribeRootMouseEvents = null, this._unsubscribeRootTouchEvents = null, this._startPinchMiddleCoordinate = null, this._startPinchDistance = 0, this._pinchPrevented = !1, this._preventTouchDragProcess = !1, this._mousePressed = !1, this._lastTouchEventTimeStamp = 0, this._activeTouchId = null, this._acceptMouseLeave = !Fa(), this._onFirefoxOutsideMouseUp = function(m) {
            h._mouseUpHandler(m);
          }, this._onMobileSafariDoubleClick = function(m) {
            h._firesTouchEvents(m) ? (++h._tapCount, h._tapTimeoutId !== null && h._tapCount > 1 && (30 > h._mouseTouchMoveWithDownInfo(h._getCoordinate(m), h._tapCoordinate).manhattanDistance && !h._cancelTap && h._processEvent(h._makeCompatEvent(m), h._handler.doubleTapEvent), h._resetTapTimeout())) : (++h._clickCount, h._clickTimeoutId !== null && h._clickCount > 1 && (5 > h._mouseTouchMoveWithDownInfo(h._getCoordinate(m), h._clickCoordinate).manhattanDistance && !h._cancelClick && h._processEvent(h._makeCompatEvent(m), h._handler.mouseDoubleClickEvent), h._resetClickTimeout()));
          }, this._target = o, this._handler = s, this._options = d, this._init();
        }
        return p.prototype.destroy = function() {
          this._unsubscribeOutsideMouseEvents !== null && (this._unsubscribeOutsideMouseEvents(), this._unsubscribeOutsideMouseEvents = null), this._unsubscribeOutsideTouchEvents !== null && (this._unsubscribeOutsideTouchEvents(), this._unsubscribeOutsideTouchEvents = null), this._unsubscribeMousemove !== null && (this._unsubscribeMousemove(), this._unsubscribeMousemove = null), this._unsubscribeMouseWheel !== null && (this._unsubscribeMouseWheel(), this._unsubscribeMouseWheel = null), this._unsubscribeContextMenu !== null && (this._unsubscribeContextMenu(), this._unsubscribeContextMenu = null), this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null), this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null), this._unsubscribeMobileSafariEvents !== null && (this._unsubscribeMobileSafariEvents(), this._unsubscribeMobileSafariEvents = null), this._clearLongTapTimeout(), this._resetClickTimeout();
        }, p.prototype._mouseEnterHandler = function(o) {
          var s, d, h, m = this;
          (s = this._unsubscribeMousemove) === null || s === void 0 || s.call(this), (d = this._unsubscribeMouseWheel) === null || d === void 0 || d.call(this), (h = this._unsubscribeContextMenu) === null || h === void 0 || h.call(this);
          var x = this._mouseMoveHandler.bind(this);
          this._unsubscribeMousemove = function() {
            m._target.removeEventListener("mousemove", x);
          }, this._target.addEventListener("mousemove", x);
          var C = this._mouseWheelHandler.bind(this);
          this._unsubscribeMouseWheel = function() {
            m._target.removeEventListener("wheel", C);
          }, this._target.addEventListener("wheel", C, { passive: !1 });
          var L = this._contextMenuHandler.bind(this);
          this._unsubscribeContextMenu = function() {
            m._target.removeEventListener("contextmenu", L);
          }, this._target.addEventListener("contextmenu", L, { passive: !1 }), this._firesTouchEvents(o) || (this._processEvent(this._makeCompatEvent(o), this._handler.mouseEnterEvent), this._acceptMouseLeave = !0);
        }, p.prototype._resetClickTimeout = function() {
          this._clickTimeoutId !== null && clearTimeout(this._clickTimeoutId), this._clickCount = 0, this._clickTimeoutId = null, this._clickCoordinate = { x: -1 / 0, y: 1 / 0 };
        }, p.prototype._resetTapTimeout = function() {
          this._tapTimeoutId !== null && clearTimeout(this._tapTimeoutId), this._tapCount = 0, this._tapTimeoutId = null, this._tapCoordinate = { x: -1 / 0, y: 1 / 0 };
        }, p.prototype._mouseMoveHandler = function(o) {
          this._mousePressed || this._touchMoveStartCoordinate !== null || this._firesTouchEvents(o) || (this._processEvent(this._makeCompatEvent(o), this._handler.mouseMoveEvent), this._acceptMouseLeave = !0);
        }, p.prototype._mouseWheelHandler = function(o) {
          if (Math.abs(o.deltaX) > Math.abs(o.deltaY)) {
            if (this._handler.mouseWheelHortEvent === void 0 || (this._preventDefault(o), Math.abs(o.deltaX) === 0))
              return;
            this._handler.mouseWheelHortEvent(this._makeCompatEvent(o), -o.deltaX);
          } else {
            if (this._handler.mouseWheelVertEvent === void 0)
              return;
            var s = -o.deltaY / 100;
            if (s === 0)
              return;
            switch (this._preventDefault(o), o.deltaMode) {
              case o.DOM_DELTA_PAGE:
                s *= 120;
                break;
              case o.DOM_DELTA_LINE:
                s *= 32;
            }
            if (s !== 0) {
              var d = Math.sign(s) * Math.min(1, Math.abs(s));
              this._handler.mouseWheelVertEvent(this._makeCompatEvent(o), d);
            }
          }
        }, p.prototype._contextMenuHandler = function(o) {
          this._preventDefault(o);
        }, p.prototype._touchMoveHandler = function(o) {
          var s = this._touchWithId(o.changedTouches, this._activeTouchId);
          if (s !== null && (this._lastTouchEventTimeStamp = this._eventTimeStamp(o), this._startPinchMiddleCoordinate === null && !this._preventTouchDragProcess)) {
            this._pinchPrevented = !0;
            var d = this._mouseTouchMoveWithDownInfo(this._getCoordinate(s), this._touchMoveStartCoordinate), h = d.yOffset;
            if (this._touchMoveExceededManhattanDistance || d.manhattanDistance >= 5) {
              if (!this._touchMoveExceededManhattanDistance) {
                var m = 0.5 * d.xOffset, x = h >= m && !this._options.treatVertDragAsPageScroll(), C = m > h && !this._options.treatHorzDragAsPageScroll();
                x || C || (this._preventTouchDragProcess = !0), this._touchMoveExceededManhattanDistance = !0, this._cancelTap = !0, this._clearLongTapTimeout(), this._resetTapTimeout();
              }
              this._preventTouchDragProcess || this._processEvent(this._makeCompatEvent(o, s), this._handler.touchMoveEvent);
            }
          }
        }, p.prototype._mouseMoveWithDownHandler = function(o) {
          o.button === 0 && (5 > this._mouseTouchMoveWithDownInfo(this._getCoordinate(o), this._mouseMoveStartCoordinate).manhattanDistance || (this._cancelClick = !0, this._resetClickTimeout()), this._cancelClick && this._processEvent(this._makeCompatEvent(o), this._handler.pressedMouseMoveEvent));
        }, p.prototype._mouseTouchMoveWithDownInfo = function(o, s) {
          var d = Math.abs(s.x - o.x), h = Math.abs(s.y - o.y);
          return { xOffset: d, yOffset: h, manhattanDistance: d + h };
        }, p.prototype._touchEndHandler = function(o) {
          var s = this._touchWithId(o.changedTouches, this._activeTouchId);
          if (s === null && o.touches.length === 0 && (s = o.changedTouches[0]), s !== null) {
            this._activeTouchId = null, this._lastTouchEventTimeStamp = this._eventTimeStamp(o), this._clearLongTapTimeout(), this._touchMoveStartCoordinate = null, this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null);
            var d = this._makeCompatEvent(o, s);
            this._processEvent(d, this._handler.touchEndEvent), ++this._tapCount, this._tapTimeoutId !== null && this._tapCount > 1 ? (30 > this._mouseTouchMoveWithDownInfo(this._getCoordinate(s), this._tapCoordinate).manhattanDistance && !this._cancelTap && this._processEvent(d, this._handler.doubleTapEvent), this._resetTapTimeout()) : this._cancelTap || (this._processEvent(d, this._handler.tapEvent), this._handler.tapEvent !== void 0 && this._preventDefault(o)), this._tapCount === 0 && this._preventDefault(o), o.touches.length === 0 && this._longTapActive && (this._longTapActive = !1, this._preventDefault(o));
          }
        }, p.prototype._mouseUpHandler = function(o) {
          if (o.button === 0) {
            var s = this._makeCompatEvent(o);
            this._mouseMoveStartCoordinate = null, this._mousePressed = !1, this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null), Ri() && this._target.ownerDocument.documentElement.removeEventListener("mouseleave", this._onFirefoxOutsideMouseUp), this._firesTouchEvents(o) || (this._processEvent(s, this._handler.mouseUpEvent), ++this._clickCount, this._clickTimeoutId !== null && this._clickCount > 1 ? (5 > this._mouseTouchMoveWithDownInfo(this._getCoordinate(o), this._clickCoordinate).manhattanDistance && !this._cancelClick && this._processEvent(s, this._handler.mouseDoubleClickEvent), this._resetClickTimeout()) : this._cancelClick || this._processEvent(s, this._handler.mouseClickEvent));
          }
        }, p.prototype._clearLongTapTimeout = function() {
          this._longTapTimeoutId !== null && (clearTimeout(this._longTapTimeoutId), this._longTapTimeoutId = null);
        }, p.prototype._touchStartHandler = function(o) {
          if (this._activeTouchId === null) {
            var s = o.changedTouches[0];
            this._activeTouchId = s.identifier, this._lastTouchEventTimeStamp = this._eventTimeStamp(o);
            var d = this._target.ownerDocument.documentElement;
            this._cancelTap = !1, this._touchMoveExceededManhattanDistance = !1, this._preventTouchDragProcess = !1, this._touchMoveStartCoordinate = this._getCoordinate(s), this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null);
            var h = this._touchMoveHandler.bind(this), m = this._touchEndHandler.bind(this);
            this._unsubscribeRootTouchEvents = function() {
              d.removeEventListener("touchmove", h), d.removeEventListener("touchend", m);
            }, d.addEventListener("touchmove", h, { passive: !1 }), d.addEventListener("touchend", m, { passive: !1 }), this._clearLongTapTimeout(), this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, o), 500), this._processEvent(this._makeCompatEvent(o, s), this._handler.touchStartEvent), this._tapTimeoutId === null && (this._tapCount = 0, this._tapTimeoutId = setTimeout(this._resetTapTimeout.bind(this), 500), this._tapCoordinate = this._getCoordinate(s));
          }
        }, p.prototype._mouseDownHandler = function(o) {
          if (o.button === 2)
            return this._preventDefault(o), void this._processEvent(this._makeCompatEvent(o), this._handler.mouseRightClickEvent);
          if (o.button === 0) {
            var s = this._target.ownerDocument.documentElement;
            Ri() && s.addEventListener("mouseleave", this._onFirefoxOutsideMouseUp), this._cancelClick = !1, this._mouseMoveStartCoordinate = this._getCoordinate(o), this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null);
            var d = this._mouseMoveWithDownHandler.bind(this), h = this._mouseUpHandler.bind(this);
            this._unsubscribeRootMouseEvents = function() {
              s.removeEventListener("mousemove", d), s.removeEventListener("mouseup", h);
            }, s.addEventListener("mousemove", d), s.addEventListener("mouseup", h), this._mousePressed = !0, this._firesTouchEvents(o) || (this._processEvent(this._makeCompatEvent(o), this._handler.mouseDownEvent), this._clickTimeoutId === null && (this._clickCount = 0, this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), 500), this._clickCoordinate = this._getCoordinate(o)));
          }
        }, p.prototype._init = function() {
          var o = this;
          this._target.addEventListener("mouseenter", this._mouseEnterHandler.bind(this)), this._target.addEventListener("touchcancel", this._clearLongTapTimeout.bind(this));
          var s = this._target.ownerDocument, d = function(h) {
            o._handler.mouseDownOutsideEvent != null && (h.composed && o._target.contains(h.composedPath()[0]) || h.target !== null && o._target.contains(h.target) || o._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }));
          };
          this._unsubscribeOutsideTouchEvents = function() {
            s.removeEventListener("touchstart", d);
          }, this._unsubscribeOutsideMouseEvents = function() {
            s.removeEventListener("mousedown", d);
          }, s.addEventListener("mousedown", d), s.addEventListener("touchstart", d, { passive: !0 }), Fa() && (this._unsubscribeMobileSafariEvents = function() {
            o._target.removeEventListener("dblclick", o._onMobileSafariDoubleClick);
          }, this._target.addEventListener("dblclick", this._onMobileSafariDoubleClick)), this._target.addEventListener("mouseleave", this._mouseLeaveHandler.bind(this)), this._target.addEventListener("touchstart", this._touchStartHandler.bind(this), { passive: !0 }), this._target.addEventListener("mousedown", function(h) {
            if (h.button === 1)
              return h.preventDefault(), !1;
          }), this._target.addEventListener("mousedown", this._mouseDownHandler.bind(this)), this._initPinch(), this._target.addEventListener("touchmove", function() {
          }, { passive: !1 });
        }, p.prototype._initPinch = function() {
          var o = this;
          this._handler.pinchStartEvent === void 0 && this._handler.pinchEvent === void 0 && this._handler.pinchEndEvent === void 0 || (this._target.addEventListener("touchstart", function(s) {
            return o._checkPinchState(s.touches);
          }, { passive: !0 }), this._target.addEventListener("touchmove", function(s) {
            if (s.touches.length === 2 && o._startPinchMiddleCoordinate !== null && o._handler.pinchEvent !== void 0) {
              var d = o._getTouchDistance(s.touches[0], s.touches[1]) / o._startPinchDistance;
              o._handler.pinchEvent(Le(Le({}, o._startPinchMiddleCoordinate), { pageX: 0, pageY: 0 }), d), o._preventDefault(s);
            }
          }, { passive: !1 }), this._target.addEventListener("touchend", function(s) {
            o._checkPinchState(s.touches);
          }));
        }, p.prototype._checkPinchState = function(o) {
          o.length === 1 && (this._pinchPrevented = !1), o.length !== 2 || this._pinchPrevented || this._longTapActive ? this._stopPinch() : this._startPinch(o);
        }, p.prototype._startPinch = function(o) {
          var s, d = (s = this._target.getBoundingClientRect()) !== null && s !== void 0 ? s : { left: 0, top: 0 };
          this._startPinchMiddleCoordinate = { x: (o[0].clientX - d.left + (o[1].clientX - d.left)) / 2, y: (o[0].clientY - d.top + (o[1].clientY - d.top)) / 2 }, this._startPinchDistance = this._getTouchDistance(o[0], o[1]), this._handler.pinchStartEvent !== void 0 && this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }), this._clearLongTapTimeout();
        }, p.prototype._stopPinch = function() {
          this._startPinchMiddleCoordinate !== null && (this._startPinchMiddleCoordinate = null, this._handler.pinchEndEvent !== void 0 && this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }));
        }, p.prototype._mouseLeaveHandler = function(o) {
          var s, d, h;
          (s = this._unsubscribeMousemove) === null || s === void 0 || s.call(this), (d = this._unsubscribeMouseWheel) === null || d === void 0 || d.call(this), (h = this._unsubscribeContextMenu) === null || h === void 0 || h.call(this), this._firesTouchEvents(o) || this._acceptMouseLeave && (this._processEvent(this._makeCompatEvent(o), this._handler.mouseLeaveEvent), this._acceptMouseLeave = !Fa());
        }, p.prototype._longTapHandler = function(o) {
          var s = this._touchWithId(o.touches, this._activeTouchId);
          s !== null && (this._processEvent(this._makeCompatEvent(o, s), this._handler.longTapEvent), this._cancelTap = !0, this._longTapActive = !0);
        }, p.prototype._firesTouchEvents = function(o) {
          var s;
          return ((s = o.sourceCapabilities) === null || s === void 0 ? void 0 : s.firesTouchEvents) !== void 0 ? o.sourceCapabilities.firesTouchEvents : this._eventTimeStamp(o) < this._lastTouchEventTimeStamp + 500;
        }, p.prototype._processEvent = function(o, s) {
          s == null || s.call(this._handler, o);
        }, p.prototype._makeCompatEvent = function(o, s) {
          var d, h = this, m = s ?? o, x = (d = this._target.getBoundingClientRect()) !== null && d !== void 0 ? d : { left: 0, top: 0 };
          return { x: m.clientX - x.left, y: m.clientY - x.top, pageX: m.pageX, pageY: m.pageY, isTouch: !o.type.startsWith("mouse") && o.type !== "contextmenu" && o.type !== "click", preventDefault: function() {
            o.type !== "touchstart" && h._preventDefault(o);
          } };
        }, p.prototype._getTouchDistance = function(o, s) {
          var d = o.clientX - s.clientX, h = o.clientY - s.clientY;
          return Math.sqrt(d * d + h * h);
        }, p.prototype._preventDefault = function(o) {
          o.cancelable && o.preventDefault();
        }, p.prototype._getCoordinate = function(o) {
          return { x: o.pageX, y: o.pageY };
        }, p.prototype._eventTimeStamp = function(o) {
          var s;
          return (s = o.timeStamp) !== null && s !== void 0 ? s : performance.now();
        }, p.prototype._touchWithId = function(o, s) {
          for (var d = 0; o.length > d; ++d)
            if (o[d].identifier === s)
              return o[d];
          return null;
        }, p;
      }(), jn = function() {
        function p(o, s) {
          var d = this;
          this._flingStartTime = (/* @__PURE__ */ new Date()).getTime(), this._flingScrollRequestId = null, this._startScrollCoordinate = null, this._touchCoordinate = null, this._touchCancelCrosshair = !1, this._touchZoomed = !1, this._pinchScale = 1, this._mouseDownWidget = null, this._prevYAxisExtremum = null, this._xAxisStartScaleCoordinate = null, this._xAxisStartScaleDistance = 0, this._xAxisScale = 1, this._yAxisStartScaleDistance = 0, this._mouseMoveTriggerWidgetInfo = { pane: null, widget: null }, this._boundKeyBoardDownEvent = function(h) {
            if (h.shiftKey)
              switch (h.code) {
                case "Equal":
                  d._chart.getChartStore().getTimeScaleStore().zoom(0.5);
                  break;
                case "Minus":
                  d._chart.getChartStore().getTimeScaleStore().zoom(-0.5);
                  break;
                case "ArrowLeft":
                  (m = d._chart.getChartStore().getTimeScaleStore()).startScroll(), m.scroll(-3 * m.getBarSpace().bar);
                  break;
                case "ArrowRight":
                  var m;
                  (m = d._chart.getChartStore().getTimeScaleStore()).startScroll(), m.scroll(3 * m.getBarSpace().bar);
              }
          }, this._container = o, this._chart = s, this._event = new Xo(o, this, { treatVertDragAsPageScroll: function() {
            return !1;
          }, treatHorzDragAsPageScroll: function() {
            return !1;
          } }), o.addEventListener("keydown", this._boundKeyBoardDownEvent);
        }
        return p.prototype.pinchStartEvent = function() {
          return this._touchZoomed = !0, this._pinchScale = 1, !0;
        }, p.prototype.pinchEvent = function(o, s) {
          var d = this._findWidgetByEvent(o), h = d.pane, m = d.widget;
          if ((h == null ? void 0 : h.getId()) !== pr && (m == null ? void 0 : m.getName()) === fr) {
            var x = this._makeWidgetEvent(o, m), C = 5 * (s - this._pinchScale);
            return this._pinchScale = s, this._chart.getChartStore().getTimeScaleStore().zoom(C, { x: x.x, y: x.y }), !0;
          }
          return !1;
        }, p.prototype.mouseWheelHortEvent = function(o, s) {
          var d = this._chart.getChartStore().getTimeScaleStore();
          return d.startScroll(), d.scroll(s), !0;
        }, p.prototype.mouseWheelVertEvent = function(o, s) {
          var d, h, m = this._findWidgetByEvent(o).widget, x = (d = o.isTouch) !== null && d !== void 0 && d, C = this._makeWidgetEvent(o, m), L = null, A = m == null ? void 0 : m.getName();
          if (x)
            if (A === fr || A === wr)
              L = { x: C.x, y: C.y };
            else {
              var F = (h = this._chart.getPaneById(rr)) === null || h === void 0 ? void 0 : h.getBounding();
              L = { x: F.width / 2, y: F.height / 2 };
            }
          else
            A === fr && (L = { x: C.x, y: C.y });
          return L !== null && (this._chart.getChartStore().getTimeScaleStore().zoom(s, { x: C.x, y: C.y }), !0);
        }, p.prototype.mouseDownEvent = function(o) {
          var s, d, h = this._findWidgetByEvent(o), m = h.pane, x = h.widget;
          if (this._mouseDownWidget = x, x !== null) {
            var C = this._makeWidgetEvent(o, x);
            switch (x.getName()) {
              case ta:
                return x.dispatchEvent("mouseDownEvent", C);
              case fr:
                var L = (s = m == null ? void 0 : m.getAxisComponent().getExtremum()) !== null && s !== void 0 ? s : null;
                return this._prevYAxisExtremum = L === null ? L : Le({}, L), this._startScrollCoordinate = { x: C.x, y: C.y }, this._chart.getChartStore().getTimeScaleStore().startScroll(), x.dispatchEvent("mouseDownEvent", C);
              case wr:
                return (A = x.dispatchEvent("mouseDownEvent", C)) && this._chart.updatePane(1), this._xAxisStartScaleCoordinate = { x: C.x, y: C.y }, this._xAxisStartScaleDistance = C.pageX, A;
              case Tr:
                var A;
                return (A = x.dispatchEvent("mouseDownEvent", C)) && this._chart.updatePane(1), L = (d = m == null ? void 0 : m.getAxisComponent().getExtremum()) !== null && d !== void 0 ? d : null, this._prevYAxisExtremum = L === null ? L : Le({}, L), this._yAxisStartScaleDistance = C.pageY, A;
            }
          }
          return !1;
        }, p.prototype.mouseMoveEvent = function(o) {
          var s, d, h, m = this._findWidgetByEvent(o), x = m.pane, C = m.widget, L = this._makeWidgetEvent(o, C);
          if (((s = this._mouseMoveTriggerWidgetInfo.pane) === null || s === void 0 ? void 0 : s.getId()) === (x == null ? void 0 : x.getId()) && ((d = this._mouseMoveTriggerWidgetInfo.widget) === null || d === void 0 ? void 0 : d.getName()) === (C == null ? void 0 : C.getName()) || (C == null || C.dispatchEvent("mouseEnterEvent", L), (h = this._mouseMoveTriggerWidgetInfo.widget) === null || h === void 0 || h.dispatchEvent("mouseLeaveEvent", L), this._mouseMoveTriggerWidgetInfo = { pane: x, widget: C }), C !== null)
            switch (C.getName()) {
              case fr:
                var A = C.dispatchEvent("mouseMoveEvent", L), F = this._chart.getChartStore(), B = { x: L.x, y: L.y, paneId: x == null ? void 0 : x.getId() };
                return A && F.getTooltipStore().getActiveIcon() !== null && (B = void 0, C !== null && (C.getContainer().style.cursor = "pointer")), this._chart.getChartStore().getTooltipStore().setCrosshair(B), A;
              case ta:
              case wr:
              case Tr:
                return A = C.dispatchEvent("mouseMoveEvent", L), this._chart.getChartStore().getTooltipStore().setCrosshair(), A;
            }
          return !1;
        }, p.prototype.pressedMouseMoveEvent = function(o) {
          var s, d, h, m, x;
          if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === ta)
            return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent", o);
          var C = this._findWidgetByEvent(o), L = C.pane, A = C.widget;
          if (A !== null && ((s = this._mouseDownWidget) === null || s === void 0 ? void 0 : s.getPane().getId()) === (L == null ? void 0 : L.getId()) && ((d = this._mouseDownWidget) === null || d === void 0 ? void 0 : d.getName()) === A.getName()) {
            var F = this._makeWidgetEvent(o, A);
            switch (A.getName()) {
              case fr:
                var B = A.getBounding();
                if (!(Re = A.dispatchEvent("pressedMouseMoveEvent", F)) && this._startScrollCoordinate !== null) {
                  var V = L == null ? void 0 : L.getAxisComponent();
                  if (this._prevYAxisExtremum !== null && !V.getAutoCalcTickFlag() && V.getScrollZoomEnabled()) {
                    var Z = this._prevYAxisExtremum, J = Z.min, Q = Z.max + (rt = (He = Z.range) * (Ke = ((h = V == null ? void 0 : V.isReverse()) !== null && h !== void 0 && h ? this._startScrollCoordinate.y - F.y : F.y - this._startScrollCoordinate.y) / B.height)), ne = V.convertToRealValue(lt = J + rt), de = V.convertToRealValue(Q);
                    V.setExtremum({ min: lt, max: Q, range: Q - lt, realMin: ne, realMax: de, realRange: de - ne });
                  }
                  var be = F.x - this._startScrollCoordinate.x;
                  this._chart.getChartStore().getTimeScaleStore().scroll(be);
                }
                return this._chart.getChartStore().getTooltipStore().setCrosshair({ x: F.x, y: F.y, paneId: L == null ? void 0 : L.getId() }), Re;
              case wr:
                if (Re = A.dispatchEvent("pressedMouseMoveEvent", F))
                  this._chart.updatePane(1);
                else {
                  var me = L == null ? void 0 : L.getAxisComponent();
                  if ((m = me == null ? void 0 : me.getScrollZoomEnabled()) === null || m === void 0 || m) {
                    var Me = 10 * ((Ke = this._xAxisStartScaleDistance / F.pageX) - this._xAxisScale);
                    this._xAxisScale = Ke, this._chart.getChartStore().getTimeScaleStore().zoom(Me, (x = this._xAxisStartScaleCoordinate) !== null && x !== void 0 ? x : void 0);
                  }
                }
                return Re;
              case Tr:
                var Re;
                if (Re = A.dispatchEvent("pressedMouseMoveEvent", F))
                  this._chart.updatePane(1);
                else if (V = L == null ? void 0 : L.getAxisComponent(), this._prevYAxisExtremum !== null && V.getScrollZoomEnabled()) {
                  var He, Ke, rt, ot = this._prevYAxisExtremum, _t = (He = ot.range) * (Ke = F.pageY / this._yAxisStartScaleDistance), lt = (J = ot.min) - (rt = (_t - He) / 2), St = (Q = ot.max + rt, L == null ? void 0 : L.getAxisComponent());
                  ne = St.convertToRealValue(lt), de = St.convertToRealValue(Q), St.setExtremum({ min: lt, max: Q, range: _t, realMin: ne, realMax: de, realRange: de - ne }), this._chart.adjustPaneViewport(!1, !0, !0, !0);
                }
                return Re;
            }
          }
          return !1;
        }, p.prototype.mouseUpEvent = function(o) {
          var s = this._findWidgetByEvent(o).widget, d = !1;
          if (s !== null) {
            var h = this._makeWidgetEvent(o, s);
            switch (s.getName()) {
              case fr:
              case ta:
              case wr:
              case Tr:
                d = s.dispatchEvent("mouseUpEvent", h);
            }
            d && this._chart.updatePane(1);
          }
          return this._mouseDownWidget = null, this._startScrollCoordinate = null, this._prevYAxisExtremum = null, this._xAxisStartScaleCoordinate = null, this._xAxisStartScaleDistance = 0, this._xAxisScale = 1, this._yAxisStartScaleDistance = 0, d;
        }, p.prototype.mouseClickEvent = function(o) {
          var s = this._findWidgetByEvent(o).widget;
          if (s !== null) {
            var d = this._makeWidgetEvent(o, s);
            return s.dispatchEvent("mouseClickEvent", d);
          }
          return !1;
        }, p.prototype.mouseRightClickEvent = function(o) {
          var s = this._findWidgetByEvent(o).widget, d = !1;
          if (s !== null) {
            var h = this._makeWidgetEvent(o, s);
            switch (s.getName()) {
              case fr:
              case wr:
              case Tr:
                d = s.dispatchEvent("mouseRightClickEvent", h);
            }
            d && this._chart.updatePane(1);
          }
          return !1;
        }, p.prototype.mouseDoubleClickEvent = function(o) {
          var s = this._findWidgetByEvent(o), d = s.pane, h = s.widget;
          if (h !== null)
            switch (h.getName()) {
              case fr:
                var m = this._makeWidgetEvent(o, h);
                return h.dispatchEvent("mouseDoubleClickEvent", m);
              case Tr:
                var x = d == null ? void 0 : d.getAxisComponent();
                if (!x.getAutoCalcTickFlag())
                  return x.setAutoCalcTickFlag(!0), this._chart.adjustPaneViewport(!1, !0, !0, !0), !0;
            }
          return !1;
        }, p.prototype.mouseLeaveEvent = function() {
          return this._chart.getChartStore().getTooltipStore().setCrosshair(), !0;
        }, p.prototype.touchStartEvent = function(o) {
          var s, d, h = this._findWidgetByEvent(o), m = h.pane, x = h.widget;
          if (this._mouseDownWidget = x, x !== null) {
            var C = this._makeWidgetEvent(o, x);
            switch (x.getName()) {
              case fr:
                var L = this._chart.getChartStore(), A = L.getTooltipStore();
                if (x.dispatchEvent("mouseDownEvent", C))
                  return this._touchCancelCrosshair = !0, this._touchCoordinate = null, A.setCrosshair(void 0, !0), this._chart.updatePane(1), !0;
                var F = (s = m == null ? void 0 : m.getAxisComponent().getExtremum()) !== null && s !== void 0 ? s : null;
                if (this._prevYAxisExtremum = F === null ? F : Le({}, F), this._flingScrollRequestId !== null && (ro(this._flingScrollRequestId), this._flingScrollRequestId = null), this._flingStartTime = (/* @__PURE__ */ new Date()).getTime(), this._startScrollCoordinate = { x: C.x, y: C.y }, L.getTimeScaleStore().startScroll(), this._touchZoomed = !1, this._touchCoordinate !== null) {
                  var B = C.x - this._touchCoordinate.x, V = C.y - this._touchCoordinate.y;
                  10 > Math.sqrt(B * B + V * V) ? (this._touchCoordinate = { x: C.x, y: C.y }, A.setCrosshair({ x: C.x, y: C.y, paneId: m == null ? void 0 : m.getId() })) : (this._touchCoordinate = null, this._touchCancelCrosshair = !0, A.setCrosshair());
                }
                return !0;
              case wr:
                return (Z = x.dispatchEvent("mouseDownEvent", C)) && this._chart.updatePane(1), this._xAxisStartScaleCoordinate = { x: C.x, y: C.y }, this._xAxisStartScaleDistance = C.pageX, Z;
              case Tr:
                var Z;
                return (Z = x.dispatchEvent("mouseDownEvent", C)) && this._chart.updatePane(1), F = (d = m == null ? void 0 : m.getAxisComponent().getExtremum()) !== null && d !== void 0 ? d : null, this._prevYAxisExtremum = F === null ? F : Le({}, F), this._yAxisStartScaleDistance = C.pageY, Z;
            }
          }
          return !1;
        }, p.prototype.touchMoveEvent = function(o) {
          var s, d, h, m, x, C = this._findWidgetByEvent(o), L = C.pane, A = C.widget;
          if (A !== null) {
            var F = this._makeWidgetEvent(o, A), B = A.getName(), V = this._chart.getChartStore(), Z = V.getTooltipStore();
            switch (B) {
              case fr:
                if (A.dispatchEvent("pressedMouseMoveEvent", F))
                  return (s = F.preventDefault) === null || s === void 0 || s.call(F), Z.setCrosshair(void 0, !0), this._chart.updatePane(1), !0;
                if (this._touchCoordinate !== null)
                  (d = F.preventDefault) === null || d === void 0 || d.call(F), Z.setCrosshair({ x: F.x, y: F.y, paneId: L == null ? void 0 : L.getId() });
                else if ((h = F.preventDefault) === null || h === void 0 || h.call(F), this._startScrollCoordinate !== null && Math.abs(this._startScrollCoordinate.x - F.x) > this._startScrollCoordinate.y - F.y) {
                  var J = L == null ? void 0 : L.getAxisComponent();
                  if (this._prevYAxisExtremum !== null && !J.getAutoCalcTickFlag() && J.getScrollZoomEnabled()) {
                    var Q = this._prevYAxisExtremum, ne = Q.min, de = Q.max, be = Q.range * (((m = J == null ? void 0 : J.isReverse()) !== null && m !== void 0 && m ? this._startScrollCoordinate.y - F.y : F.y - this._startScrollCoordinate.y) / A.getBounding().height), me = ne + be, Me = de + be, Re = J.convertToRealValue(me), He = J.convertToRealValue(Me);
                    J.setExtremum({ min: me, max: Me, range: Me - me, realMin: Re, realMax: He, realRange: He - Re });
                  }
                  var Ke = F.x - this._startScrollCoordinate.x;
                  V.getTimeScaleStore().scroll(Ke);
                }
                return !0;
              case wr:
              case Tr:
                return (x = o.preventDefault) === null || x === void 0 || x.call(o), this.pressedMouseMoveEvent(o);
            }
          }
          return !1;
        }, p.prototype.touchEndEvent = function(o) {
          var s = this, d = function() {
            s._mouseDownWidget = null, s._startScrollCoordinate = null, s._prevYAxisExtremum = null, s._xAxisStartScaleCoordinate = null, s._xAxisStartScaleDistance = 0, s._xAxisScale = 1, s._yAxisStartScaleDistance = 0;
          }, h = this._findWidgetByEvent(o).widget;
          if (h !== null) {
            var m = this._makeWidgetEvent(o, h);
            switch (h.getName()) {
              case fr:
                if (h.dispatchEvent("mouseUpEvent", m), this._startScrollCoordinate !== null) {
                  var x = (/* @__PURE__ */ new Date()).getTime() - this._flingStartTime, C = (m.x - this._startScrollCoordinate.x) / (x > 0 ? x : 1) * 20;
                  if (200 > x && Math.abs(C) > 0) {
                    var L = this._chart.getChartStore().getTimeScaleStore(), A = function() {
                      s._flingScrollRequestId = Fi(function() {
                        L.startScroll(), L.scroll(C), 1 > Math.abs(C *= 0.975) ? s._flingScrollRequestId !== null && (ro(s._flingScrollRequestId), s._flingScrollRequestId = null) : A();
                      });
                    };
                    A();
                  }
                }
                return d(), !0;
              case wr:
              case Tr:
                h.dispatchEvent("mouseUpEvent", m) && this._chart.updatePane(1), d();
            }
          }
          return !1;
        }, p.prototype.tapEvent = function(o) {
          var s = this._findWidgetByEvent(o), d = s.pane, h = s.widget, m = !1;
          if (h !== null) {
            var x = this._makeWidgetEvent(o, h), C = h.dispatchEvent("mouseClickEvent", x);
            if (h.getName() === fr) {
              var L = this._makeWidgetEvent(o, h), A = this._chart.getChartStore().getTooltipStore();
              C ? (this._touchCancelCrosshair = !0, this._touchCoordinate = null, A.setCrosshair(void 0, !0), m = !0) : (this._touchCancelCrosshair || this._touchZoomed || (this._touchCoordinate = { x: L.x, y: L.y }, A.setCrosshair({ x: L.x, y: L.y, paneId: d == null ? void 0 : d.getId() }, !0), m = !0), this._touchCancelCrosshair = !1);
            }
            (m || C) && this._chart.updatePane(1);
          }
          return m;
        }, p.prototype.doubleTapEvent = function(o) {
          return this.mouseDoubleClickEvent(o);
        }, p.prototype.longTapEvent = function(o) {
          return this.mouseRightClickEvent(o);
        }, p.prototype._findWidgetByEvent = function(o) {
          var s, d, h = this._chart.getAllPanes(), m = o.x, x = o.y, C = null;
          try {
            for (var L = Et(h), A = L.next(); !A.done; A = L.next()) {
              var F = ct(A.value, 2)[1], B = F.getBounding();
              if (!(B.left > m || m > B.left + B.width || B.top > x || x > B.top + B.height)) {
                C = F;
                break;
              }
            }
          } catch (me) {
            s = { error: me };
          } finally {
            try {
              A && !A.done && (d = L.return) && d.call(L);
            } finally {
              if (s)
                throw s.error;
            }
          }
          C === null && (C = this._chart.getPaneById(pr));
          var V = null;
          if (C !== null) {
            var Z = C.getSeparatorWidget();
            if (Z !== null) {
              var J = Z.getBounding();
              J.left > m || m > J.left + J.width || J.top > x || x > J.top + 7 || (V = Z);
            }
            if (V === null) {
              var Q = C.getMainWidget(), ne = Q.getBounding();
              ne.left > m || m > ne.left + ne.width || ne.top > x || x > ne.top + ne.height || (V = Q);
            }
            if (V === null) {
              var de = C.getYAxisWidget();
              if (de !== null) {
                var be = de.getBounding();
                be.left > m || m > be.left + be.width || be.top > x || x > be.top + be.height || (V = de);
              }
            }
          }
          return { pane: C, widget: V };
        }, p.prototype._makeWidgetEvent = function(o, s) {
          var d, h, m, x = (d = s == null ? void 0 : s.getBounding()) !== null && d !== void 0 ? d : null;
          return Le(Le({}, o), { x: o.x - ((h = x == null ? void 0 : x.left) !== null && h !== void 0 ? h : 0), y: o.y - ((m = x == null ? void 0 : x.top) !== null && m !== void 0 ? m : 0) });
        }, p.prototype.destroy = function() {
          this._container.removeEventListener("keydown", this._boundKeyBoardDownEvent), this._event.destroy();
        }, p;
      }();
      n.DomPosition = void 0, ($a = n.DomPosition || (n.DomPosition = {})).Root = "root", $a.Main = "main", $a.YAxis = "yAxis";
      var Ra = function() {
        function p(o, s) {
          this._panes = /* @__PURE__ */ new Map(), this._initContainer(o), this._chartEvent = new jn(this._chartContainer, this), this._chartStore = new Ss(this, s), this._xAxisPane = new Da(this._chartContainer, this, pr), this._panes.set(rr, new la(this._chartContainer, this, rr)), this.adjustPaneViewport(!0, !0, !0);
        }
        return p.prototype._initContainer = function(o) {
          this._container = o, this._chartContainer = wn("div", { position: "relative", width: "100%", outline: "none", borderStyle: "none", cursor: "crosshair", boxSizing: "border-box", userSelect: "none", webkitUserSelect: "none", msUserSelect: "none", MozUserSelect: "none", webkitTapHighlightColor: "transparent" }), this._chartContainer.tabIndex = 1, o.appendChild(this._chartContainer);
        }, p.prototype._measurePaneHeight = function() {
          var o, s = this._container.offsetHeight, d = this._xAxisPane.getAxisComponent().getAutoSize(), h = s - d;
          0 > h && (h = 0);
          var m = 0;
          this._panes.forEach(function(L) {
            if (L.getId() !== rr) {
              var A = L.getBounding().height, F = L.getOptions().minHeight;
              F > A && (A = F), m + A > h ? A = Math.max(h - (m = h), 0) : m += A, L.setBounding({ height: A });
            }
          });
          var x = h - m;
          (o = this._panes.get(rr)) === null || o === void 0 || o.setBounding({ height: x });
          var C = 0;
          this._panes.forEach(function(L) {
            L.setBounding({ top: C }), C += L.getBounding().height;
          }), this._xAxisPane.setBounding({ height: d, top: C });
        }, p.prototype._measurePaneWidth = function() {
          var o = this._chartStore.getStyles().yAxis, s = o.position === n.YAxisPosition.Left, d = !o.inside, h = this._container.offsetWidth, m = 0, x = Number.MIN_SAFE_INTEGER, C = 0, L = 0;
          this._panes.forEach(function(V) {
            x = Math.max(x, V.getAxisComponent().getAutoSize());
          }), x > h && (x = h), d ? (m = h - x, s ? (C = 0, L = x) : (C = h - x, L = 0)) : (m = h, L = 0, C = s ? 0 : h - x), this._chartStore.getTimeScaleStore().setTotalBarSpace(m);
          var A = { width: h }, F = { width: m, left: L }, B = { width: x, left: C };
          this._panes.forEach(function(V) {
            V.setBounding(A, F, B);
          }), this._xAxisPane.setBounding(A, F, B);
        }, p.prototype._setPaneOptions = function(o, s) {
          var d, h, m = this._panes.get((d = o == null ? void 0 : o.id) !== null && d !== void 0 ? d : ""), x = !1;
          if (m !== void 0) {
            var C = s;
            if (o.id !== rr && o.height !== void 0 && o.height > 0) {
              var L = Math.max((h = o.minHeight) !== null && h !== void 0 ? h : m.getOptions().minHeight, 0);
              m.setBounding({ height: Math.max(L, o.height) }), C = !0, x = !0;
            }
            m.setOptions(o), C && this.adjustPaneViewport(x, !0, !0, !0, !0);
          }
        }, p.prototype.getContainer = function() {
          return this._container;
        }, p.prototype.getChartStore = function() {
          return this._chartStore;
        }, p.prototype.getAllPanes = function() {
          return this._panes;
        }, p.prototype.adjustPaneViewport = function(o, s, d, h, m) {
          o && this._measurePaneHeight();
          var x = s, C = m != null && m;
          (h != null && h || C) && this._panes.forEach(function(L) {
            var A = L.getAxisComponent().buildTicks(C);
            x || (x = A);
          }), x && this._measurePaneWidth(), d != null && d && (this._xAxisPane.getAxisComponent().buildTicks(!0), this.updatePane(4));
        }, p.prototype.updatePane = function(o, s) {
          var d;
          s !== void 0 ? (d = this.getPaneById(s)) === null || d === void 0 || d.update(o) : (this._xAxisPane.update(o), this._panes.forEach(function(h) {
            h.update(o);
          }));
        }, p.prototype.getPaneById = function(o) {
          var s;
          return o === pr ? this._xAxisPane : (s = this._panes.get(o)) !== null && s !== void 0 ? s : null;
        }, p.prototype.crosshairChange = function(o) {
          var s = this, d = this._chartStore.getActionStore();
          if (d.has(n.ActionType.OnCrosshairChange)) {
            var h = {};
            this._panes.forEach(function(m, x) {
              var C = {};
              s._chartStore.getIndicatorStore().getInstances(x).forEach(function(L) {
                var A, F = L.result;
                C[L.name] = F[(A = o.dataIndex) !== null && A !== void 0 ? A : F.length - 1];
              }), h[x] = C;
            }), o.paneId !== void 0 && d.execute(n.ActionType.OnCrosshairChange, Le(Le({}, o), { indicatorData: h }));
          }
        }, p.prototype.getDom = function(o, s) {
          var d, h;
          if (o === void 0)
            return this._chartContainer;
          var m = this.getPaneById(o);
          if (m !== null)
            switch (s ?? n.DomPosition.Root) {
              case n.DomPosition.Root:
                return m.getContainer();
              case n.DomPosition.Main:
                return m.getMainWidget().getContainer();
              case n.DomPosition.YAxis:
                return (h = (d = m.getYAxisWidget()) === null || d === void 0 ? void 0 : d.getContainer()) !== null && h !== void 0 ? h : null;
            }
          return null;
        }, p.prototype.getSize = function(o, s) {
          var d, h;
          if (o === void 0)
            return { width: this._chartContainer.offsetWidth, height: this._chartContainer.offsetHeight, left: 0, top: 0, right: 0, bottom: 0 };
          var m = this.getPaneById(o);
          if (m !== null)
            switch (s ?? n.DomPosition.Root) {
              case n.DomPosition.Root:
                return m.getBounding();
              case n.DomPosition.Main:
                return m.getMainWidget().getBounding();
              case n.DomPosition.YAxis:
                return (h = (d = m.getYAxisWidget()) === null || d === void 0 ? void 0 : d.getBounding()) !== null && h !== void 0 ? h : null;
            }
          return null;
        }, p.prototype.setStyles = function(o) {
          var s, d, h;
          this._chartStore.setOptions({ styles: o }), ((s = (h = oe(o) ? qr(o) : o) == null ? void 0 : h.yAxis) === null || s === void 0 ? void 0 : s.type) !== void 0 && ((d = this.getPaneById(rr)) === null || d === void 0 || d.getAxisComponent().setAutoCalcTickFlag(!0)), this.adjustPaneViewport(!0, !0, !0, !0, !0);
        }, p.prototype.getStyles = function() {
          return this._chartStore.getStyles();
        }, p.prototype.setLocale = function(o) {
          this._chartStore.setOptions({ locale: o }), this.adjustPaneViewport(!0, !0, !0, !0, !0);
        }, p.prototype.getLocale = function() {
          return this._chartStore.getLocale();
        }, p.prototype.setCustomApi = function(o) {
          this._chartStore.setOptions({ customApi: o }), this.adjustPaneViewport(!0, !0, !0, !0, !0);
        }, p.prototype.setPriceVolumePrecision = function(o, s) {
          this._chartStore.setPrecision({ price: o, volume: s });
        }, p.prototype.getPriceVolumePrecision = function() {
          return this._chartStore.getPrecision();
        }, p.prototype.setTimezone = function(o) {
          this._chartStore.setOptions({ timezone: o }), this._xAxisPane.getAxisComponent().buildTicks(!0), this._xAxisPane.update(3);
        }, p.prototype.getTimezone = function() {
          return this._chartStore.getTimeScaleStore().getTimezone();
        }, p.prototype.setOffsetRightDistance = function(o) {
          this._chartStore.getTimeScaleStore().setOffsetRightDistance(o, !0);
        }, p.prototype.getOffsetRightDistance = function() {
          return this._chartStore.getTimeScaleStore().getOffsetRightDistance();
        }, p.prototype.setLeftMinVisibleBarCount = function(o) {
          o > 0 && this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(o));
        }, p.prototype.setRightMinVisibleBarCount = function(o) {
          o > 0 && this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(o));
        }, p.prototype.setBarSpace = function(o) {
          this._chartStore.getTimeScaleStore().setBarSpace(o);
        }, p.prototype.getBarSpace = function() {
          return this._chartStore.getTimeScaleStore().getBarSpace().bar;
        }, p.prototype.getVisibleRange = function() {
          return this._chartStore.getTimeScaleStore().getVisibleRange();
        }, p.prototype.clearData = function() {
          this._chartStore.clear();
        }, p.prototype.getDataList = function() {
          return this._chartStore.getDataList();
        }, p.prototype.applyNewData = function(o, s, d) {
          this._chartStore.clear(), o.length === 0 ? this.adjustPaneViewport(!1, !0, !0, !0) : this.applyMoreData(o, s, d);
        }, p.prototype.applyMoreData = function(o, s, d) {
          var h = this;
          this._chartStore.addData(o, 0, s), o.length > 0 && this._chartStore.getIndicatorStore().calcInstance().then(function(m) {
            h.adjustPaneViewport(!1, !0, !0, !0), d == null || d();
          }).catch(function(m) {
          });
        }, p.prototype.updateData = function(o, s) {
          var d = this, h = this._chartStore.getDataList(), m = h.length, x = o.timestamp, C = at(h[m - 1], "timestamp", 0);
          if (x >= C) {
            var L = m;
            x === C && (L = m - 1), this._chartStore.addData(o, L), this._chartStore.getIndicatorStore().calcInstance().then(function(A) {
              d.adjustPaneViewport(!1, !0, !0, !0), s == null || s();
            }).catch(function(A) {
            });
          }
        }, p.prototype.loadMore = function(o) {
          this._chartStore.getTimeScaleStore().setLoadMoreCallback(o);
        }, p.prototype.createIndicator = function(o, s, d, h) {
          var m, x, C, L = this, A = oe(o) ? { name: o } : o;
          if (ba(A.name) === null)
            return null;
          if (H(d) && oe(d == null ? void 0 : d.id) && this._panes.has(d.id))
            C = d.id, this._chartStore.getIndicatorStore().addInstance(A, C, s != null && s).then(function(Z) {
              var J, Q;
              L._setPaneOptions(d, (Q = (J = L._panes.get(C)) === null || J === void 0 ? void 0 : J.getAxisComponent().buildTicks(!0)) !== null && Q !== void 0 && Q);
            }).catch(function(Z) {
            });
          else {
            C = (m = d == null ? void 0 : d.id) !== null && m !== void 0 ? m : Wr(xs);
            var F = Array.from(this._panes.values()).pop(), B = new Wo(this._chartContainer, this, C, F);
            F.setBottomPane(B);
            var V = (x = d == null ? void 0 : d.height) !== null && x !== void 0 ? x : 100;
            B.setBounding({ height: V }), H(d) && B.setOptions(d), this._panes.set(C, B), this._chartStore.getIndicatorStore().addInstance(A, C, s != null && s).finally(function() {
              L.adjustPaneViewport(!0, !0, !0, !0, !0), h == null || h();
            });
          }
          return C;
        }, p.prototype.overrideIndicator = function(o, s, d) {
          var h = this;
          this._chartStore.getIndicatorStore().override(o, s ?? null).then(function(m) {
            var x = ct(m, 2), C = x[1];
            (x[0] || C) && (h.adjustPaneViewport(!1, C, !0, C), d == null || d());
          }).catch(function() {
          });
        }, p.prototype.getIndicatorByPaneId = function(o, s) {
          return this._chartStore.getIndicatorStore().getInstanceByPaneId(o, s);
        }, p.prototype.removeIndicator = function(o, s) {
          var d = this._chartStore.getIndicatorStore();
          if (d.removeInstance(o, s)) {
            var h = !1;
            if (o !== rr && !d.hasInstances(o)) {
              var m = this._panes.get(o);
              if (m !== void 0) {
                h = !0;
                var x = m.getTopPane(), C = m.getBottomPane();
                C == null || C.setTopPane(x), x == null || x.setBottomPane(C), m == null || m.destroy(), this._panes.delete(o);
              }
            }
            this.adjustPaneViewport(h, !0, !0, !0, !0);
          }
        }, p.prototype.createOverlay = function(o, s) {
          var d = [];
          oe(o) ? d = [{ name: o }] : S(o) ? d = o.map(function(x) {
            return oe(x) ? { name: x } : x;
          }) : d = [o];
          var h = !0;
          s !== void 0 && this.getPaneById(s) !== null || (s = rr, h = !1);
          var m = this._chartStore.getOverlayStore().addInstances(d, s, h);
          return S(o) ? m : m[0];
        }, p.prototype.getOverlayById = function(o) {
          return this._chartStore.getOverlayStore().getInstanceById(o);
        }, p.prototype.overrideOverlay = function(o) {
          this._chartStore.getOverlayStore().override(o);
        }, p.prototype.removeOverlay = function(o) {
          var s;
          o !== void 0 && (s = oe(o) ? { id: o } : o), this._chartStore.getOverlayStore().removeInstance(s);
        }, p.prototype.setPaneOptions = function(o) {
          this._setPaneOptions(o, !1);
        }, p.prototype.setZoomEnabled = function(o) {
          this._chartStore.getTimeScaleStore().setZoomEnabled(o);
        }, p.prototype.isZoomEnabled = function() {
          return this._chartStore.getTimeScaleStore().getZoomEnabled();
        }, p.prototype.setScrollEnabled = function(o) {
          this._chartStore.getTimeScaleStore().setScrollEnabled(o);
        }, p.prototype.isScrollEnabled = function() {
          return this._chartStore.getTimeScaleStore().getScrollEnabled();
        }, p.prototype.scrollByDistance = function(o, s) {
          var d = s === void 0 || 0 > s ? 0 : s, h = this._chartStore.getTimeScaleStore();
          if (d > 0) {
            h.startScroll();
            var m = (/* @__PURE__ */ new Date()).getTime(), x = function() {
              var C = ((/* @__PURE__ */ new Date()).getTime() - m) / d, L = C >= 1;
              h.scroll(L ? o : o * C), L || requestAnimationFrame(x);
            };
            x();
          } else
            h.startScroll(), h.scroll(o);
        }, p.prototype.scrollToRealTime = function(o) {
          var s = this._chartStore.getTimeScaleStore(), d = s.getBarSpace().bar, h = s.getOffsetRightBarCount() - s.getInitialOffsetRightDistance() / d;
          this.scrollByDistance(h * d, o);
        }, p.prototype.scrollToDataIndex = function(o, s) {
          var d = this._chartStore.getTimeScaleStore(), h = (d.getOffsetRightBarCount() + (this.getDataList().length - 1 - o)) * d.getBarSpace().bar;
          this.scrollByDistance(h, s);
        }, p.prototype.scrollToTimestamp = function(o, s) {
          var d = jr(this.getDataList(), "timestamp", o);
          this.scrollToDataIndex(d, s);
        }, p.prototype.zoomAtCoordinate = function(o, s, d) {
          var h = d === void 0 || 0 > d ? 0 : d, m = this._chartStore.getTimeScaleStore();
          if (h > 0) {
            var x = m.getBarSpace().bar, C = x * o - x, L = (/* @__PURE__ */ new Date()).getTime(), A = function() {
              var F = ((/* @__PURE__ */ new Date()).getTime() - L) / h, B = F >= 1;
              m.zoom((B ? C : C * F) / x, s), B || requestAnimationFrame(A);
            };
            A();
          } else
            m.zoom(o, s);
        }, p.prototype.zoomAtDataIndex = function(o, s, d) {
          var h = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(s);
          this.zoomAtCoordinate(o, { x: h, y: 0 }, d);
        }, p.prototype.zoomAtTimestamp = function(o, s, d) {
          var h = jr(this.getDataList(), "timestamp", s);
          this.zoomAtDataIndex(o, h, d);
        }, p.prototype.convertToPixel = function(o, s) {
          var d, h = s.paneId, m = h === void 0 ? rr : h, x = s.absolute, C = x !== void 0 && x, L = [];
          if (m !== pr) {
            var A = this.getPaneById(m);
            if (A !== null) {
              var F = this._chartStore.getTimeScaleStore(), B = A.getBounding(), V = [].concat(o), Z = this._xAxisPane.getAxisComponent(), J = A.getAxisComponent();
              L = V.map(function(Q) {
                var ne = {}, de = Q.dataIndex;
                if (Q.timestamp !== void 0 && (de = F.timestampToDataIndex(Q.timestamp)), de !== void 0 && (ne.x = Z == null ? void 0 : Z.convertToPixel(de)), Q.value !== void 0) {
                  var be = J == null ? void 0 : J.convertToPixel(Q.value);
                  ne.y = C ? B.top + be : be;
                }
                return ne;
              });
            }
          }
          return S(o) ? L : (d = L[0]) !== null && d !== void 0 ? d : {};
        }, p.prototype.convertFromPixel = function(o, s) {
          var d, h = s.paneId, m = h === void 0 ? rr : h, x = s.absolute, C = x !== void 0 && x, L = [];
          if (m !== pr) {
            var A = this.getPaneById(m);
            if (A !== null) {
              var F = this._chartStore.getTimeScaleStore(), B = A.getBounding(), V = [].concat(o), Z = this._xAxisPane.getAxisComponent(), J = A.getAxisComponent();
              L = V.map(function(Q) {
                var ne, de = {};
                if (Q.x !== void 0) {
                  var be = Z.convertFromPixel(Q.x);
                  de.dataIndex = be, de.timestamp = (ne = F.dataIndexToTimestamp(be)) !== null && ne !== void 0 ? ne : void 0;
                }
                return Q.y !== void 0 && (de.value = J.convertFromPixel(C ? Q.y - B.top : Q.y)), de;
              });
            }
          }
          return S(o) ? L : (d = L[0]) !== null && d !== void 0 ? d : {};
        }, p.prototype.executeAction = function(o, s) {
          var d;
          if (o === n.ActionType.OnCrosshairChange) {
            var h = Le({}, s);
            h.paneId = (d = h.paneId) !== null && d !== void 0 ? d : rr, this._chartStore.getTooltipStore().setCrosshair(h);
          }
        }, p.prototype.subscribeAction = function(o, s) {
          this._chartStore.getActionStore().subscribe(o, s);
        }, p.prototype.unsubscribeAction = function(o, s) {
          this._chartStore.getActionStore().unsubscribe(o, s);
        }, p.prototype.getConvertPictureUrl = function(o, s, d) {
          var h = this._chartContainer.offsetWidth, m = this._chartContainer.offsetHeight, x = wn("canvas", { width: "".concat(h, "px"), height: "".concat(m, "px"), boxSizing: "border-box" }), C = x.getContext("2d"), L = Kn(x);
          x.width = h * L, x.height = m * L, C.scale(L, L), C.fillStyle = d ?? "#FFFFFF", C.fillRect(0, 0, h, m);
          var A = o != null && o;
          this._panes.forEach(function(B) {
            var V = B.getBounding();
            C.drawImage(B.getImage(A), 0, V.top, h, V.height);
          });
          var F = this._xAxisPane.getBounding();
          return C.drawImage(this._xAxisPane.getImage(A), 0, F.top, h, F.height), x.toDataURL("image/".concat(s ?? "jpeg"));
        }, p.prototype.resize = function() {
          this.adjustPaneViewport(!0, !0, !0, !0, !0);
        }, p.prototype.destroy = function() {
          this._chartEvent.destroy(), this._panes.forEach(function(o) {
            o.destroy();
          }), this._panes.clear(), this._xAxisPane.destroy(), this._container.removeChild(this._chartContainer);
        }, p;
      }(), Hr = /* @__PURE__ */ new Map(), Ds = 1, so = { clone: b, merge: y, isString: oe, isNumber: z, isValid: H, isObject: M, isArray: S, isFunction: T, isBoolean: ee, formatValue: at, formatPrecision: $e, formatBigNumber: gt, formatDate: We, formatThousands: Ue, calcTextWidth: Yr, getLinearSlopeIntercept: no, getLinearYFromSlopeIntercept: Io, getLinearYFromCoordinates: Sa, checkCoordinateOnArc: Ts, checkCoordinateOnCircle: Do, checkCoordinateOnLine: ps, checkCoordinateOnPolygon: _i, checkCoordinateOnRect: ka, checkCoordinateOnText: $o, drawArc: Ro, drawCircle: wa, drawLine: Eo, drawPolygon: Ta, drawRect: xi, drawText: aa, drawRectText: ws };
      n.dispose = function(p) {
        var o, s, d;
        if (p instanceof Ra)
          d = p.id;
        else {
          var h = void 0;
          d = (o = (h = oe(p) ? document.getElementById(p) : p) == null ? void 0 : h.getAttribute("k-line-chart-id")) !== null && o !== void 0 ? o : null;
        }
        d !== null && ((s = Hr.get(d)) === null || s === void 0 || s.destroy(), Hr.delete(d));
      }, n.getFigureClass = function(p) {
        var o;
        return (o = bi[p]) !== null && o !== void 0 ? o : null;
      }, n.getOverlayClass = function(p) {
        var o;
        return (o = mi[p]) !== null && o !== void 0 ? o : null;
      }, n.getSupportedFigures = function() {
        return Object.keys(bi);
      }, n.getSupportedIndicators = function() {
        return Object.keys(Lr);
      }, n.getSupportedLocales = function() {
        return Object.keys(Aa);
      }, n.getSupportedOverlays = function() {
        return Object.keys(mi);
      }, n.init = function(p, o) {
        var s;
        if ((s = oe(p) ? document.getElementById(p) : p) === null)
          return null;
        var d = Hr.get(s.id);
        if (d !== void 0)
          return d;
        var h = "k_line_chart_".concat(Ds++);
        return (d = new Ra(s, o)).id = h, s.setAttribute("k-line-chart-id", h), Hr.set(h, d), d;
      }, n.registerFigure = function(p) {
        bi[p.name] = ds.extend(p);
      }, n.registerIndicator = function(p) {
        Lr[p.name] = Qn.extend(p);
      }, n.registerLocale = function(p, o) {
        Aa[p] = Le(Le({}, Aa[p]), o);
      }, n.registerOverlay = function(p) {
        mi[p.name] = eo.extend(p);
      }, n.registerStyles = function(p, o) {
        Cs[p] = o;
      }, n.utils = so, n.version = function() {
        return "1.0.6";
      };
    });
  }(lc, lc.exports)), lc.exports;
}
var uc = { exports: {} };
/**
 * @license
 * KLineChart v1.0.6
 * Copyright (c) 2019 lihu.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */
var Dh;
function K9() {
  return Dh || (Dh = 1, function(e, f) {
    (function(n, y) {
      y(f);
    })(ya, function(n) {
      function y(l, r) {
        if (!(!M(l) && !M(r))) {
          for (var i in r)
            if (Object.prototype.hasOwnProperty.call(r, i)) {
              var u = l[i], c = r[i];
              M(c) && M(u) && !S(c) && !S(u) ? y(u, c) : H(r[i]) && (l[i] = r[i]);
            }
        }
      }
      function b(l) {
        if (!M(l) || !S(l))
          return l;
        var r;
        S(l) ? r = [] : r = {};
        for (var i in l)
          if (Object.prototype.hasOwnProperty.call(l, i)) {
            var u = l[i];
            M(u) ? r[i] = b(u) : r[i] = u;
          }
        return r;
      }
      function S(l) {
        return Object.prototype.toString.call(l) === "[object Array]";
      }
      function T(l) {
        return typeof l == "function";
      }
      function M(l) {
        return typeof l == "object";
      }
      function z(l) {
        return typeof l == "number" && !isNaN(l);
      }
      function H(l) {
        return l != null;
      }
      function ee(l) {
        return typeof l == "boolean";
      }
      function oe(l) {
        return typeof l == "string";
      }
      var _e = /\\(\\)?/g, ue = RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`, "g");
      function ve(l, r, i) {
        if (H(l)) {
          var u = [];
          r.replace(ue, function(w) {
            for (var k = [], I = 1; I < arguments.length; I++)
              k[I - 1] = arguments[I];
            var D = w;
            return H(k[1]) ? D = k[2].replace(_e, "$1") : H(k[0]) && (D = k[0].trim()), u.push(D), "";
          });
          for (var c = l, g = 0, _ = u.length; H(c) && g < _; )
            c = c == null ? void 0 : c[u[g++]];
          return H(c) ? c : i ?? "--";
        }
        return i ?? "--";
      }
      function le(l, r, i) {
        var u = l.format(new Date(r)), c = u.split(", "), g = c[0].split("/"), _ = c[1].split(":"), w = {
          YYYY: g[2],
          MM: g[0],
          DD: g[1],
          HH: _[0] === "24" ? "00" : _[0],
          mm: _[1],
          ss: _[2]
        };
        return i.replace(/YYYY|MM|DD|HH|mm|ss/g, function(k) {
          return w[k];
        });
      }
      function re(l, r) {
        var i = +l;
        return z(i) ? i.toFixed(r ?? 2) : "".concat(l);
      }
      function Ce(l) {
        var r = +l;
        if (z(r)) {
          if (r > 1e9)
            return "".concat(+(r / 1e9).toFixed(3), "B");
          if (r > 1e6)
            return "".concat(+(r / 1e6).toFixed(3), "M");
          if (r > 1e3)
            return "".concat(+(r / 1e3).toFixed(3), "K");
        }
        return "".concat(l);
      }
      function ke(l, r) {
        var i = "".concat(l);
        if (r.length === 0)
          return i;
        if (i.includes(".")) {
          var u = i.split(".");
          return "".concat(u[0].replace(/(\d)(?=(\d{3})+$)/g, function(c) {
            return "".concat(c).concat(r);
          }), ".").concat(u[1]);
        }
        return i.replace(/(\d)(?=(\d{3})+$)/g, function(c) {
          return "".concat(c).concat(r);
        });
      }
      n.LineType = void 0, function(l) {
        l.Dashed = "dashed", l.Solid = "solid";
      }(n.LineType || (n.LineType = {})), n.PolygonType = void 0, function(l) {
        l.Stroke = "stroke", l.Fill = "fill", l.StrokeFill = "stroke_fill";
      }(n.PolygonType || (n.PolygonType = {})), n.TooltipShowRule = void 0, function(l) {
        l.Always = "always", l.FollowCross = "follow_cross", l.None = "none";
      }(n.TooltipShowRule || (n.TooltipShowRule = {})), n.TooltipShowType = void 0, function(l) {
        l.Standard = "standard", l.Rect = "rect";
      }(n.TooltipShowType || (n.TooltipShowType = {})), n.TooltipIconPosition = void 0, function(l) {
        l.Left = "left", l.Middle = "middle", l.Right = "right";
      }(n.TooltipIconPosition || (n.TooltipIconPosition = {}));
      function Ee() {
        return {
          show: !0,
          horizontal: {
            show: !0,
            size: 1,
            color: "#EDEDED",
            style: n.LineType.Dashed,
            dashedValue: [2, 2]
          },
          vertical: {
            show: !0,
            size: 1,
            color: "#EDEDED",
            style: n.LineType.Dashed,
            dashedValue: [2, 2]
          }
        };
      }
      var De;
      (function(l) {
        l.Fixed = "fixed", l.Pointer = "pointer";
      })(De || (De = {})), n.CandleType = void 0, function(l) {
        l.CandleSolid = "candle_solid", l.CandleStroke = "candle_stroke", l.CandleUpStroke = "candle_up_stroke", l.CandleDownStroke = "candle_down_stroke", l.Ohlc = "ohlc", l.Area = "area";
      }(n.CandleType || (n.CandleType = {}));
      function Qe() {
        return {
          type: n.CandleType.CandleSolid,
          bar: {
            upColor: "#2DC08E",
            downColor: "#F92855",
            noChangeColor: "#888888",
            upBorderColor: "#2DC08E",
            downBorderColor: "#F92855",
            noChangeBorderColor: "#888888",
            upWickColor: "#2DC08E",
            downWickColor: "#F92855",
            noChangeWickColor: "#888888"
          },
          area: {
            lineSize: 2,
            lineColor: "#1677FF",
            value: "close",
            backgroundColor: [{
              offset: 0,
              color: "rgba(22, 119, 255, 0.01)"
            }, {
              offset: 1,
              color: "rgba(22, 119, 255, 0.2)"
            }]
          },
          priceMark: {
            show: !0,
            high: {
              show: !0,
              color: "#76808F",
              textOffset: 5,
              textSize: 10,
              textFamily: "Helvetica Neue",
              textWeight: "normal"
            },
            low: {
              show: !0,
              color: "#76808F",
              textOffset: 5,
              textSize: 10,
              textFamily: "Helvetica Neue",
              textWeight: "normal"
            },
            last: {
              show: !0,
              upColor: "#2DC08E",
              downColor: "#F92855",
              noChangeColor: "#888888",
              line: {
                show: !0,
                style: n.LineType.Dashed,
                dashedValue: [4, 4],
                size: 1
              },
              text: {
                show: !0,
                style: n.PolygonType.Fill,
                size: 12,
                paddingLeft: 4,
                paddingTop: 4,
                paddingRight: 4,
                paddingBottom: 4,
                borderColor: "transparent",
                borderStyle: n.LineType.Solid,
                borderSize: 0,
                borderDashedValue: [2, 2],
                color: "#FFFFFF",
                family: "Helvetica Neue",
                weight: "normal",
                borderRadius: 2
              }
            }
          },
          tooltip: {
            showRule: n.TooltipShowRule.Always,
            showType: n.TooltipShowType.Standard,
            custom: null,
            defaultValue: "n/a",
            rect: {
              position: De.Fixed,
              paddingLeft: 0,
              paddingRight: 0,
              paddingTop: 0,
              paddingBottom: 8,
              offsetLeft: 10,
              offsetTop: 8,
              offsetRight: 10,
              offsetBottom: 8,
              borderRadius: 4,
              borderSize: 1,
              borderColor: "#F2F3F5",
              color: "#FEFEFE"
            },
            text: {
              size: 12,
              family: "Helvetica Neue",
              weight: "normal",
              color: "#76808F",
              marginLeft: 10,
              marginTop: 8,
              marginRight: 6,
              marginBottom: 0
            },
            icons: []
          }
        };
      }
      function et() {
        return {
          ohlc: {
            upColor: "rgba(45, 192, 142, .7)",
            downColor: "rgba(249, 40, 85, .7)",
            noChangeColor: "#888888"
          },
          bars: [{
            style: n.PolygonType.Fill,
            borderStyle: n.LineType.Solid,
            borderSize: 1,
            borderDashedValue: [2, 2],
            upColor: "rgba(45, 192, 142, .7)",
            downColor: "rgba(249, 40, 85, .7)",
            noChangeColor: "#888888"
          }],
          lines: [
            {
              style: n.LineType.Solid,
              smooth: !1,
              size: 1,
              dashedValue: [2, 2],
              color: "#FF9600"
            },
            {
              style: n.LineType.Solid,
              smooth: !1,
              size: 1,
              dashedValue: [2, 2],
              color: "#935EBD"
            },
            {
              style: n.LineType.Solid,
              smooth: !1,
              size: 1,
              dashedValue: [2, 2],
              color: "#1677FF"
            },
            {
              style: n.LineType.Solid,
              smooth: !1,
              size: 1,
              dashedValue: [2, 2],
              color: "#E11D74"
            },
            {
              style: n.LineType.Solid,
              smooth: !1,
              size: 1,
              dashedValue: [2, 2],
              color: "#01C5C4"
            }
          ],
          circles: [{
            style: n.PolygonType.Fill,
            borderStyle: n.LineType.Solid,
            borderSize: 1,
            borderDashedValue: [2, 2],
            upColor: "rgba(45, 192, 142, .7)",
            downColor: "rgba(249, 40, 85, .7)",
            noChangeColor: "#888888"
          }],
          lastValueMark: {
            show: !1,
            text: {
              show: !1,
              style: n.PolygonType.Fill,
              color: "#FFFFFF",
              size: 12,
              family: "Helvetica Neue",
              weight: "normal",
              borderStyle: n.LineType.Solid,
              borderColor: "transparent",
              borderSize: 1,
              borderDashedValue: [2, 2],
              paddingLeft: 4,
              paddingTop: 4,
              paddingRight: 4,
              paddingBottom: 4,
              borderRadius: 2
            }
          },
          tooltip: {
            showRule: n.TooltipShowRule.Always,
            showType: n.TooltipShowType.Standard,
            showName: !0,
            showParams: !0,
            defaultValue: "n/a",
            text: {
              size: 12,
              family: "Helvetica Neue",
              weight: "normal",
              color: "#76808F",
              marginLeft: 10,
              marginTop: 8,
              marginRight: 6,
              marginBottom: 0
            },
            icons: []
          }
        };
      }
      function xt() {
        return {
          show: !0,
          size: "auto",
          axisLine: {
            show: !0,
            color: "#DDDDDD",
            size: 1
          },
          tickText: {
            show: !0,
            color: "#76808F",
            size: 12,
            family: "Helvetica Neue",
            weight: "normal",
            marginStart: 4,
            marginEnd: 4
          },
          tickLine: {
            show: !0,
            size: 1,
            length: 3,
            color: "#DDDDDD"
          }
        };
      }
      n.YAxisPosition = void 0, function(l) {
        l.Left = "left", l.Right = "right";
      }(n.YAxisPosition || (n.YAxisPosition = {})), n.YAxisType = void 0, function(l) {
        l.Normal = "normal", l.Percentage = "percentage", l.Log = "log";
      }(n.YAxisType || (n.YAxisType = {}));
      function at() {
        return {
          show: !0,
          size: "auto",
          type: n.YAxisType.Normal,
          position: n.YAxisPosition.Right,
          inside: !1,
          reverse: !1,
          axisLine: {
            show: !0,
            color: "#DDDDDD",
            size: 1
          },
          tickText: {
            show: !0,
            color: "#76808F",
            size: 12,
            family: "Helvetica Neue",
            weight: "normal",
            marginStart: 4,
            marginEnd: 4
          },
          tickLine: {
            show: !0,
            size: 1,
            length: 3,
            color: "#DDDDDD"
          }
        };
      }
      function We() {
        return {
          show: !0,
          horizontal: {
            show: !0,
            line: {
              show: !0,
              style: n.LineType.Dashed,
              dashedValue: [4, 2],
              size: 1,
              color: "#76808F"
            },
            text: {
              show: !0,
              style: n.PolygonType.Fill,
              color: "#FFFFFF",
              size: 12,
              family: "Helvetica Neue",
              weight: "normal",
              borderStyle: n.LineType.Solid,
              borderDashedValue: [2, 2],
              borderSize: 1,
              borderColor: "#686D76",
              borderRadius: 2,
              paddingLeft: 4,
              paddingRight: 4,
              paddingTop: 4,
              paddingBottom: 4,
              backgroundColor: "#686D76"
            }
          },
          vertical: {
            show: !0,
            line: {
              show: !0,
              style: n.LineType.Dashed,
              dashedValue: [4, 2],
              size: 1,
              color: "#76808F"
            },
            text: {
              show: !0,
              style: n.PolygonType.Fill,
              color: "#FFFFFF",
              size: 12,
              family: "Helvetica Neue",
              weight: "normal",
              borderStyle: n.LineType.Solid,
              borderDashedValue: [2, 2],
              borderSize: 1,
              borderRadius: 2,
              borderColor: "#686D76",
              paddingLeft: 4,
              paddingRight: 4,
              paddingTop: 4,
              paddingBottom: 4,
              backgroundColor: "#686D76"
            }
          }
        };
      }
      function $e() {
        return {
          point: {
            color: "#1677FF",
            borderColor: "rgba(22, 119, 255, 0.35)",
            borderSize: 1,
            radius: 5,
            activeColor: "#1677FF",
            activeBorderColor: "rgba(22, 119, 255, 0.35)",
            activeBorderSize: 3,
            activeRadius: 5
          },
          line: {
            style: n.LineType.Solid,
            smooth: !1,
            color: "#1677FF",
            size: 1,
            dashedValue: [2, 2]
          },
          rect: {
            style: n.PolygonType.Fill,
            color: "rgba(22, 119, 255, 0.25)",
            borderColor: "#1677FF",
            borderSize: 1,
            borderRadius: 0,
            borderStyle: n.LineType.Solid,
            borderDashedValue: [2, 2]
          },
          polygon: {
            style: n.PolygonType.Fill,
            color: "#1677FF",
            borderColor: "#1677FF",
            borderSize: 1,
            borderStyle: n.LineType.Solid,
            borderDashedValue: [2, 2]
          },
          circle: {
            style: n.PolygonType.Fill,
            color: "rgba(22, 119, 255, 0.25)",
            borderColor: "#1677FF",
            borderSize: 1,
            borderStyle: n.LineType.Solid,
            borderDashedValue: [2, 2]
          },
          arc: {
            style: n.LineType.Solid,
            color: "#1677FF",
            size: 1,
            dashedValue: [2, 2]
          },
          text: {
            style: n.PolygonType.Fill,
            color: "#FFFFFF",
            size: 12,
            family: "Helvetica Neue",
            weight: "normal",
            borderStyle: n.LineType.Solid,
            borderDashedValue: [2, 2],
            borderSize: 0,
            borderRadius: 2,
            borderColor: "#1677FF",
            paddingLeft: 0,
            paddingRight: 0,
            paddingTop: 0,
            paddingBottom: 0,
            backgroundColor: "transparent"
          },
          rectText: {
            style: n.PolygonType.Fill,
            color: "#FFFFFF",
            size: 12,
            family: "Helvetica Neue",
            weight: "normal",
            borderStyle: n.LineType.Solid,
            borderDashedValue: [2, 2],
            borderSize: 1,
            borderRadius: 2,
            borderColor: "#1677FF",
            paddingLeft: 4,
            paddingRight: 4,
            paddingTop: 4,
            paddingBottom: 4,
            backgroundColor: "#1677FF"
          }
        };
      }
      function gt() {
        return {
          size: 1,
          color: "#DDDDDD",
          fill: !0,
          activeBackgroundColor: "rgba(33, 150, 243, 0.08)"
        };
      }
      function Ue() {
        return {
          grid: Ee(),
          candle: Qe(),
          indicator: et(),
          xAxis: xt(),
          yAxis: at(),
          separator: gt(),
          crosshair: We(),
          overlay: $e()
        };
      }
      n.FormatDateType = void 0, function(l) {
        l[l.Tooltip = 0] = "Tooltip", l[l.Crosshair = 1] = "Crosshair", l[l.XAxis = 2] = "XAxis";
      }(n.FormatDateType || (n.FormatDateType = {}));
      function dt() {
        return {
          formatDate: le,
          formatBigNumber: Ce
        };
      }
      var ft = "en-US", $t = function(l, r) {
        return $t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, u) {
          i.__proto__ = u;
        } || function(i, u) {
          for (var c in u)
            Object.prototype.hasOwnProperty.call(u, c) && (i[c] = u[c]);
        }, $t(l, r);
      };
      function Le(l, r) {
        if (typeof r != "function" && r !== null)
          throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
        $t(l, r);
        function i() {
          this.constructor = l;
        }
        l.prototype = r === null ? Object.create(r) : (i.prototype = r.prototype, new i());
      }
      var nt = function() {
        return nt = Object.assign || function(r) {
          for (var i, u = 1, c = arguments.length; u < c; u++) {
            i = arguments[u];
            for (var g in i)
              Object.prototype.hasOwnProperty.call(i, g) && (r[g] = i[g]);
          }
          return r;
        }, nt.apply(this, arguments);
      };
      function _n(l, r, i, u) {
        function c(g) {
          return g instanceof i ? g : new i(function(_) {
            _(g);
          });
        }
        return new (i || (i = Promise))(function(g, _) {
          function w(D) {
            try {
              I(u.next(D));
            } catch (R) {
              _(R);
            }
          }
          function k(D) {
            try {
              I(u.throw(D));
            } catch (R) {
              _(R);
            }
          }
          function I(D) {
            D.done ? g(D.value) : c(D.value).then(w, k);
          }
          I((u = u.apply(l, r || [])).next());
        });
      }
      function Et(l, r) {
        var i = { label: 0, sent: function() {
          if (g[0] & 1)
            throw g[1];
          return g[1];
        }, trys: [], ops: [] }, u, c, g, _;
        return _ = { next: w(0), throw: w(1), return: w(2) }, typeof Symbol == "function" && (_[Symbol.iterator] = function() {
          return this;
        }), _;
        function w(I) {
          return function(D) {
            return k([I, D]);
          };
        }
        function k(I) {
          if (u)
            throw new TypeError("Generator is already executing.");
          for (; _ && (_ = 0, I[0] && (i = 0)), i; )
            try {
              if (u = 1, c && (g = I[0] & 2 ? c.return : I[0] ? c.throw || ((g = c.return) && g.call(c), 0) : c.next) && !(g = g.call(c, I[1])).done)
                return g;
              switch (c = 0, g && (I = [I[0] & 2, g.value]), I[0]) {
                case 0:
                case 1:
                  g = I;
                  break;
                case 4:
                  return i.label++, { value: I[1], done: !1 };
                case 5:
                  i.label++, c = I[1], I = [0];
                  continue;
                case 7:
                  I = i.ops.pop(), i.trys.pop();
                  continue;
                default:
                  if (g = i.trys, !(g = g.length > 0 && g[g.length - 1]) && (I[0] === 6 || I[0] === 2)) {
                    i = 0;
                    continue;
                  }
                  if (I[0] === 3 && (!g || I[1] > g[0] && I[1] < g[3])) {
                    i.label = I[1];
                    break;
                  }
                  if (I[0] === 6 && i.label < g[1]) {
                    i.label = g[1], g = I;
                    break;
                  }
                  if (g && i.label < g[2]) {
                    i.label = g[2], i.ops.push(I);
                    break;
                  }
                  g[2] && i.ops.pop(), i.trys.pop();
                  continue;
              }
              I = r.call(l, i);
            } catch (D) {
              I = [6, D], c = 0;
            } finally {
              u = g = 0;
            }
          if (I[0] & 5)
            throw I[1];
          return { value: I[0] ? I[1] : void 0, done: !0 };
        }
      }
      function ct(l) {
        var r = typeof Symbol == "function" && Symbol.iterator, i = r && l[r], u = 0;
        if (i)
          return i.call(l);
        if (l && typeof l.length == "number")
          return {
            next: function() {
              return l && u >= l.length && (l = void 0), { value: l && l[u++], done: !l };
            }
          };
        throw new TypeError(r ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }
      function Tt(l, r) {
        var i = typeof Symbol == "function" && l[Symbol.iterator];
        if (!i)
          return l;
        var u = i.call(l), c, g = [], _;
        try {
          for (; (r === void 0 || r-- > 0) && !(c = u.next()).done; )
            g.push(c.value);
        } catch (w) {
          _ = { error: w };
        } finally {
          try {
            c && !c.done && (i = u.return) && i.call(u);
          } finally {
            if (_)
              throw _.error;
          }
        }
        return g;
      }
      function Nn(l, r, i) {
        if (i || arguments.length === 2)
          for (var u = 0, c = r.length, g; u < c; u++)
            (g || !(u in r)) && (g || (g = Array.prototype.slice.call(r, 0, u)), g[u] = r[u]);
        return l.concat(g || Array.prototype.slice.call(r));
      }
      typeof SuppressedError == "function" && SuppressedError, n.ActionType = void 0, function(l) {
        l.OnZoom = "onZoom", l.OnScroll = "onScroll", l.OnVisibleRangeChange = "onVisibleRangeChange", l.OnTooltipIconClick = "onTooltipIconClick", l.OnCrosshairChange = "onCrosshairChange", l.OnCandleBarClick = "onCandleBarClick", l.OnPaneDrag = "onPaneDrag";
      }(n.ActionType || (n.ActionType = {}));
      var Vr = (
        /** @class */
        function() {
          function l() {
            this._callbacks = [];
          }
          return l.prototype.subscribe = function(r) {
            var i, u = (i = this._callbacks.indexOf(r)) !== null && i !== void 0 ? i : -1;
            u < 0 && this._callbacks.push(r);
          }, l.prototype.unsubscribe = function(r) {
            var i;
            if (r !== void 0) {
              var u = (i = this._callbacks.indexOf(r)) !== null && i !== void 0 ? i : -1;
              u > -1 && this._callbacks.splice(u, 1);
            } else
              this._callbacks = [];
          }, l.prototype.execute = function(r) {
            this._callbacks.forEach(function(i) {
              i(r);
            });
          }, l.prototype.isEmpty = function() {
            return this._callbacks.length === 0;
          }, l;
        }()
      ), si = 1, Gr = (/* @__PURE__ */ new Date()).getTime();
      function Wr(l) {
        var r = (/* @__PURE__ */ new Date()).getTime();
        return r === Gr ? ++si : si = 1, Gr = r, "".concat(l ?? "").concat(r, "_").concat(si);
      }
      function wn(l, r) {
        var i, u = document.createElement(l), c = r ?? {};
        for (var g in c)
          u.style[g] = (i = c[g]) !== null && i !== void 0 ? i : "";
        return u;
      }
      var Kn;
      function Gn(l) {
        var r, i, u;
        return Math.ceil((u = (i = (r = l.ownerDocument) === null || r === void 0 ? void 0 : r.defaultView) === null || i === void 0 ? void 0 : i.devicePixelRatio) !== null && u !== void 0 ? u : 2);
      }
      function Yr(l, r, i) {
        return "".concat(r ?? "normal", " ").concat(l ?? 12, "px ").concat(i ?? "Helvetica Neue");
      }
      function jr(l, r, i, u) {
        if (Kn === void 0) {
          var c = document.createElement("canvas"), g = Gn(c);
          Kn = c.getContext("2d"), Kn.scale(g, g);
        }
        return Kn.font = Yr(r, i, u), Math.round(Kn.measureText(l).width);
      }
      function Mi(l, r, i, u, c, g) {
        {
          var _ = u !== "" ? "Call api ".concat(u).concat(c !== "" || g !== "" ? ", " : ".") : "", w = c !== "" ? "invalid parameter ".concat(c).concat(g !== "" ? ", " : ".") : "", k = g !== "" ? g : "";
          console.log(l, r, i, _, w, k);
        }
      }
      function Di(l, r, i) {
        Mi("%c klinecharts warning%c %s%s%s", "padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#FF9600", "color:#FF9600", l, r, i ?? "");
      }
      function qn(l, r, i) {
        Mi("%c klinecharts error%c %s%s%s", "padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#EF5350;", "color:#EF5350;", l, r, i ?? "");
      }
      function Xr() {
        Mi("%c Welcome to klinecharts. Version is 1.0.6", "border-radius:4px;border:dashed 1px #1677FF;line-height:70px;padding:0 20px;margin:16px 0;font-size:14px;color:#1677FF;", "", "", "", "");
      }
      function ma(l, r, i) {
        var u = 0, c = 0;
        for (c = l.length - 1; u !== c; ) {
          var g = Math.floor((c + u) / 2), _ = c - u, w = l[g][r];
          if (i === l[u][r])
            return u;
          if (i === l[c][r])
            return c;
          if (i === w)
            return g;
          if (i > w ? u = g : c = g, _ <= 2)
            break;
        }
        return u;
      }
      function li(l) {
        var r = Math.floor(Qn(l)), i = Er(r), u = l / i, c = 0;
        return u < 1.5 ? c = 1 : u < 2.5 ? c = 2 : u < 3.5 ? c = 3 : u < 4.5 ? c = 4 : u < 5.5 ? c = 5 : u < 6.5 ? c = 6 : c = 8, l = c * i, r >= -20 ? +l.toFixed(r < 0 ? -r : 0) : l;
      }
      function _a(l, r) {
        r == null && (r = 10), r = Math.min(Math.max(0, r), 20);
        var i = (+l).toFixed(r);
        return +i;
      }
      function Zs(l) {
        var r = l.toString(), i = r.indexOf("e");
        if (i > 0) {
          var u = +r.slice(i + 1);
          return u < 0 ? -u : 0;
        } else {
          var c = r.indexOf(".");
          return c < 0 ? 0 : r.length - 1 - c;
        }
      }
      function ui(l, r, i) {
        var u = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER];
        return l.forEach(function(c) {
          var g, _;
          u[0] = Math.max((g = c[r]) !== null && g !== void 0 ? g : c, u[0]), u[1] = Math.min((_ = c[i]) !== null && _ !== void 0 ? _ : c, u[1]);
        }), u;
      }
      function Qn(l) {
        return Math.log(l) / Math.log(10);
      }
      function Er(l) {
        return Math.pow(10, l);
      }
      function Qi() {
        return { from: 0, to: 0, realFrom: 0, realTo: 0 };
      }
      var So = {
        MIN: 1,
        MAX: 50
      }, Ji = 6, cs = 50, ea = (
        /** @class */
        function() {
          function l(r) {
            this._dateTimeFormat = this._buildDateTimeFormat(), this._zoomEnabled = !0, this._scrollEnabled = !0, this._loading = !0, this._loadMoreCallback = null, this._more = !0, this._totalBarSpace = 0, this._barSpace = Ji, this._offsetRightDistance = cs, this._startScrollOffsetRightBarCount = 0, this._minVisibleBarCount = { left: 2, right: 2 }, this._visibleRange = Qi(), this._chartStore = r, this._gapBarSpace = this._calcGapBarSpace(), this._offsetRightBarCount = this._offsetRightDistance / this._barSpace;
          }
          return l.prototype._calcGapBarSpace = function() {
            var r = Math.floor(this._barSpace * 0.82), i = Math.floor(this._barSpace), u = Math.min(r, i - 1);
            return Math.max(1, u);
          }, l.prototype.adjustVisibleRange = function() {
            var r, i = this._chartStore.getDataList(), u = i.length, c = this._totalBarSpace / this._barSpace, g = c - Math.min(this._minVisibleBarCount.left, u);
            this._offsetRightBarCount > g && (this._offsetRightBarCount = g);
            var _ = -u + Math.min(this._minVisibleBarCount.right, u);
            this._offsetRightBarCount < _ && (this._offsetRightBarCount = _);
            var w = Math.round(this._offsetRightBarCount + u + 0.5);
            w > u && (w = u);
            var k = Math.round(w - c) - 1;
            k < 0 && (k = 0);
            var I = this._offsetRightBarCount > 0 ? Math.round(u + this._offsetRightBarCount - c) - 1 : k;
            if (this._visibleRange = { from: k, to: w, realFrom: I, realTo: w }, this._chartStore.getActionStore().execute(n.ActionType.OnVisibleRangeChange, this._visibleRange), this._chartStore.adjustVisibleDataList(), k === 0 && this._more && !this._loading && this._loadMoreCallback !== null) {
              this._loading = !0;
              var D = i[0];
              this._loadMoreCallback((r = D == null ? void 0 : D.timestamp) !== null && r !== void 0 ? r : null);
            }
          }, l.prototype.setMore = function(r) {
            return this._more = r, this;
          }, l.prototype.setLoading = function(r) {
            return this._loading = r, this;
          }, l.prototype.getDateTimeFormat = function() {
            return this._dateTimeFormat;
          }, l.prototype._buildDateTimeFormat = function(r) {
            var i = {
              hour12: !1,
              year: "numeric",
              month: "2-digit",
              day: "2-digit",
              hour: "2-digit",
              minute: "2-digit",
              second: "2-digit"
            };
            r !== void 0 && (i.timeZone = r);
            var u = null;
            try {
              u = new Intl.DateTimeFormat("en", i);
            } catch {
              Di("", "", "Timezone is error!!!");
            }
            return u;
          }, l.prototype.setTimezone = function(r) {
            var i = this._buildDateTimeFormat(r);
            i !== null && (this._dateTimeFormat = i);
          }, l.prototype.getTimezone = function() {
            return this._dateTimeFormat.resolvedOptions().timeZone;
          }, l.prototype.getBarSpace = function() {
            return {
              bar: this._barSpace,
              halfBar: this._barSpace / 2,
              gapBar: this._gapBarSpace,
              halfGapBar: this._gapBarSpace / 2
            };
          }, l.prototype.setBarSpace = function(r, i) {
            r < So.MIN || r > So.MAX || this._barSpace === r || (this._barSpace = r, this._gapBarSpace = this._calcGapBarSpace(), i == null || i(), this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0));
          }, l.prototype.setTotalBarSpace = function(r) {
            return this._totalBarSpace !== r && (this._totalBarSpace = r, this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0)), this;
          }, l.prototype.setOffsetRightDistance = function(r, i) {
            return this._offsetRightDistance = r, this._offsetRightBarCount = r / this._barSpace, (i ?? !1) && (this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0)), this;
          }, l.prototype.resetOffsetRightDistance = function() {
            this.setOffsetRightDistance(this._offsetRightDistance);
          }, l.prototype.getInitialOffsetRightDistance = function() {
            return this._offsetRightDistance;
          }, l.prototype.getOffsetRightDistance = function() {
            return Math.max(0, this._offsetRightBarCount * this._barSpace);
          }, l.prototype.getOffsetRightBarCount = function() {
            return this._offsetRightBarCount;
          }, l.prototype.setOffsetRightBarCount = function(r) {
            return this._offsetRightBarCount = r, this;
          }, l.prototype.setLeftMinVisibleBarCount = function(r) {
            return this._minVisibleBarCount.left = r, this;
          }, l.prototype.setRightMinVisibleBarCount = function(r) {
            return this._minVisibleBarCount.right = r, this;
          }, l.prototype.getVisibleRange = function() {
            return this._visibleRange;
          }, l.prototype.startScroll = function() {
            this._startScrollOffsetRightBarCount = this._offsetRightBarCount;
          }, l.prototype.scroll = function(r) {
            if (this._scrollEnabled) {
              var i = r / this._barSpace;
              this._chartStore.getActionStore().execute(n.ActionType.OnScroll), this._offsetRightBarCount = this._startScrollOffsetRightBarCount - i, this.adjustVisibleRange(), this._chartStore.getTooltipStore().recalculateCrosshair(!0), this._chartStore.getChart().adjustPaneViewport(!1, !0, !0, !0);
            }
          }, l.prototype.getDataByDataIndex = function(r) {
            var i;
            return (i = this._chartStore.getDataList()[r]) !== null && i !== void 0 ? i : null;
          }, l.prototype.coordinateToFloatIndex = function(r) {
            var i = this._chartStore.getDataList().length, u = (this._totalBarSpace - r) / this._barSpace, c = i + this._offsetRightBarCount - u;
            return Math.round(c * 1e6) / 1e6;
          }, l.prototype.dataIndexToTimestamp = function(r) {
            var i, u = this.getDataByDataIndex(r);
            return (i = u == null ? void 0 : u.timestamp) !== null && i !== void 0 ? i : null;
          }, l.prototype.timestampToDataIndex = function(r) {
            var i = this._chartStore.getDataList();
            return i.length === 0 ? 0 : ma(i, "timestamp", r);
          }, l.prototype.dataIndexToCoordinate = function(r) {
            var i = this._chartStore.getDataList().length, u = i + this._offsetRightBarCount - r;
            return this._totalBarSpace - (u - 0.5) * this._barSpace;
          }, l.prototype.coordinateToDataIndex = function(r) {
            return Math.ceil(this.coordinateToFloatIndex(r)) - 1;
          }, l.prototype.zoom = function(r, i) {
            var u = this, c;
            if (this._zoomEnabled) {
              if ((i == null ? void 0 : i.x) === void 0) {
                var g = this._chartStore.getTooltipStore().getCrosshair();
                i = { x: (c = g == null ? void 0 : g.x) !== null && c !== void 0 ? c : this._totalBarSpace / 2 };
              }
              this._chartStore.getActionStore().execute(n.ActionType.OnZoom);
              var _ = this.coordinateToFloatIndex(i.x), w = this._barSpace + r * (this._barSpace / 10);
              this.setBarSpace(w, function() {
                u._offsetRightBarCount += _ - u.coordinateToFloatIndex(i == null ? void 0 : i.x);
              });
            }
          }, l.prototype.setZoomEnabled = function(r) {
            return this._zoomEnabled = r, this;
          }, l.prototype.getZoomEnabled = function() {
            return this._zoomEnabled;
          }, l.prototype.setScrollEnabled = function(r) {
            return this._scrollEnabled = r, this;
          }, l.prototype.getScrollEnabled = function() {
            return this._scrollEnabled;
          }, l.prototype.setLoadMoreCallback = function(r) {
            return this._loadMoreCallback = r, this;
          }, l.prototype.clear = function() {
            this._more = !0, this._loading = !0, this._visibleRange = Qi();
          }, l;
        }()
      );
      n.IndicatorSeries = void 0, function(l) {
        l.Normal = "normal", l.Price = "price", l.Volume = "volume";
      }(n.IndicatorSeries || (n.IndicatorSeries = {}));
      function Lr(l, r, i, u, c) {
        var g = r.result, _ = r.figures, w = r.styles, k = ve(w, "circles", u.circles), I = k.length, D = ve(w, "bars", u.bars), R = D.length, W = ve(w, "lines", u.lines), j = W.length, Y = 0, te = 0, q = 0, ie;
        _.forEach(function(pe) {
          var ye;
          switch (pe.type) {
            case "circle": {
              var Pe = k[Y % I];
              ie = nt(nt({}, Pe), { color: Pe.noChangeColor }), Y++;
              break;
            }
            case "bar": {
              var Oe = D[te % R];
              ie = nt(nt({}, Oe), { color: Oe.noChangeColor }), te++;
              break;
            }
            case "line": {
              ie = W[q % j], q++;
              break;
            }
          }
          if (H(ie)) {
            var Ze = {
              prev: { kLineData: l[i - 1], indicatorData: g[i - 1] },
              current: { kLineData: l[i], indicatorData: g[i] },
              next: { kLineData: l[i + 1], indicatorData: g[i + 1] }
            }, Be = (ye = pe.styles) === null || ye === void 0 ? void 0 : ye.call(pe, Ze, r, u);
            c(pe, nt(nt({}, ie), Be));
          }
        });
      }
      var xa = (
        /** @class */
        function() {
          function l(r) {
            this.result = [], this._precisionFlag = !1;
            var i = r.name, u = r.shortName, c = r.series, g = r.calcParams, _ = r.figures, w = r.precision, k = r.shouldOhlc, I = r.shouldFormatBigNumber, D = r.visible, R = r.minValue, W = r.maxValue, j = r.styles, Y = r.extendData, te = r.regenerateFigures, q = r.createTooltipDataSource, ie = r.draw;
            this.name = i, this.shortName = u ?? i, this.series = c ?? n.IndicatorSeries.Normal, this.precision = w ?? 4, this.calcParams = g ?? [], this.figures = _ ?? [], this.shouldOhlc = k ?? !1, this.shouldFormatBigNumber = I ?? !1, this.visible = D ?? !0, this.minValue = R ?? null, this.maxValue = W ?? null, this.styles = j ?? {}, this.extendData = Y, this.regenerateFigures = te ?? null, this.createTooltipDataSource = q ?? null, this.draw = ie ?? null;
          }
          return l.prototype.setShortName = function(r) {
            return this.shortName !== r ? (this.shortName = r, !0) : !1;
          }, l.prototype.setSeries = function(r) {
            return this.series !== r ? (this.series = r, !0) : !1;
          }, l.prototype.setPrecision = function(r, i) {
            var u = i ?? !1, c = Math.floor(r);
            return c !== this.precision && r >= 0 && (!u || u && !this._precisionFlag) ? (this.precision = c, u || (this._precisionFlag = !0), !0) : !1;
          }, l.prototype.setCalcParams = function(r) {
            var i, u;
            return this.calcParams = r, this.figures = (u = (i = this.regenerateFigures) === null || i === void 0 ? void 0 : i.call(this, r)) !== null && u !== void 0 ? u : this.figures, !0;
          }, l.prototype.setShouldOhlc = function(r) {
            return this.shouldOhlc !== r ? (this.shouldOhlc = r, !0) : !1;
          }, l.prototype.setShouldFormatBigNumber = function(r) {
            return this.shouldFormatBigNumber !== r ? (this.shouldFormatBigNumber = r, !0) : !1;
          }, l.prototype.setVisible = function(r) {
            return this.visible !== r ? (this.visible = r, !0) : !1;
          }, l.prototype.setStyles = function(r) {
            return r !== null ? (y(this.styles, r), !0) : !1;
          }, l.prototype.setExtendData = function(r) {
            return this.extendData !== r ? (this.extendData = r, !0) : !1;
          }, l.prototype.setFigures = function(r) {
            return this.figures !== r ? (this.figures = r, !0) : !1;
          }, l.prototype.setMinValue = function(r) {
            return this.minValue !== r ? (this.minValue = r, !0) : !1;
          }, l.prototype.setMaxValue = function(r) {
            return this.maxValue !== r ? (this.maxValue = r, !0) : !1;
          }, l.prototype.setRegenerateFigures = function(r) {
            return this.regenerateFigures !== r ? (this.regenerateFigures = r, !0) : !1;
          }, l.prototype.setCreateTooltipDataSource = function(r) {
            return this.createTooltipDataSource !== r ? (this.createTooltipDataSource = r, !0) : !1;
          }, l.prototype.setDraw = function(r) {
            return this.draw !== r ? (this.draw = r, !0) : !1;
          }, l.prototype.calcIndicator = function(r) {
            return _n(this, void 0, void 0, function() {
              var i;
              return Et(this, function(u) {
                switch (u.label) {
                  case 0:
                    return u.trys.push([0, 2, , 3]), [4, this.calc(r, this)];
                  case 1:
                    return i = u.sent(), this.result = i, [2, !0];
                  case 2:
                    return u.sent(), [2, !1];
                  case 3:
                    return [
                      2
                      /*return*/
                    ];
                }
              });
            });
          }, l.extend = function(r) {
            var i = (
              /** @class */
              function(u) {
                Le(c, u);
                function c() {
                  return u.call(this, r) || this;
                }
                return c.prototype.calc = function(g, _) {
                  return r.calc(g, _);
                }, c;
              }(l)
            );
            return i;
          }, l;
        }()
      ), ba = {
        name: "AVP",
        shortName: "AVP",
        series: n.IndicatorSeries.Price,
        precision: 2,
        figures: [
          { key: "avp", title: "AVP: ", type: "line" }
        ],
        calc: function(l) {
          var r = 0, i = 0;
          return l.map(function(u) {
            var c, g, _ = {}, w = (c = u == null ? void 0 : u.turnover) !== null && c !== void 0 ? c : 0, k = (g = u == null ? void 0 : u.volume) !== null && g !== void 0 ? g : 0;
            return r += w, i += k, i !== 0 && (_.avp = r / i), _;
          });
        }
      }, Ca = {
        name: "AO",
        shortName: "AO",
        calcParams: [5, 34],
        figures: [{
          key: "ao",
          title: "AO: ",
          type: "bar",
          baseValue: 0,
          styles: function(l, r, i) {
            var u, c, g, _, w = l.prev, k = l.current, I = (c = (u = w.indicatorData) === null || u === void 0 ? void 0 : u.ao) !== null && c !== void 0 ? c : Number.MIN_SAFE_INTEGER, D = (_ = (g = k.indicatorData) === null || g === void 0 ? void 0 : g.ao) !== null && _ !== void 0 ? _ : Number.MIN_SAFE_INTEGER, R;
            D > I ? R = ve(r.styles, "bars[0].upColor", i.bars[0].upColor) : R = ve(r.styles, "bars[0].downColor", i.bars[0].downColor);
            var W = D > I ? n.PolygonType.Stroke : n.PolygonType.Fill;
            return { color: R, style: W, borderColor: R };
          }
        }],
        calc: function(l, r) {
          var i = r.calcParams, u = Math.max(i[0], i[1]), c = 0, g = 0, _ = 0, w = 0;
          return l.map(function(k, I) {
            var D = {}, R = (k.low + k.high) / 2;
            if (c += R, g += R, I >= i[0] - 1) {
              _ = c / i[0];
              var W = l[I - (i[0] - 1)];
              c -= (W.low + W.high) / 2;
            }
            if (I >= i[1] - 1) {
              w = g / i[1];
              var W = l[I - (i[1] - 1)];
              g -= (W.low + W.high) / 2;
            }
            return I >= u - 1 && (D.ao = _ - w), D;
          });
        }
      }, wo = {
        name: "BIAS",
        shortName: "BIAS",
        calcParams: [6, 12, 24],
        figures: [
          { key: "bias1", title: "BIAS6: ", type: "line" },
          { key: "bias2", title: "BIAS12: ", type: "line" },
          { key: "bias3", title: "BIAS24: ", type: "line" }
        ],
        regenerateFigures: function(l) {
          return l.map(function(r, i) {
            return { key: "bias".concat(i + 1), title: "BIAS".concat(r, ": "), type: "line" };
          });
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures, c = [];
          return l.map(function(g, _) {
            var w = {}, k = g.close;
            return i.forEach(function(I, D) {
              var R;
              if (c[D] = ((R = c[D]) !== null && R !== void 0 ? R : 0) + k, _ >= I - 1) {
                var W = c[D] / i[D];
                w[u[D].key] = (k - W) / W * 100, c[D] -= l[_ - (I - 1)].close;
              }
            }), w;
          });
        }
      };
      function Ja(l, r) {
        var i = l.length, u = 0;
        return l.forEach(function(c) {
          var g = c.close - r;
          u += g * g;
        }), u = Math.abs(u), Math.sqrt(u / i);
      }
      var ci = {
        name: "BOLL",
        shortName: "BOLL",
        series: n.IndicatorSeries.Price,
        calcParams: [20, 2],
        precision: 2,
        shouldOhlc: !0,
        figures: [
          { key: "up", title: "UP: ", type: "line" },
          { key: "mid", title: "MID: ", type: "line" },
          { key: "dn", title: "DN: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = i[0] - 1, c = 0;
          return l.map(function(g, _) {
            var w = g.close, k = {};
            if (c += w, _ >= u) {
              k.mid = c / i[0];
              var I = Ja(l.slice(_ - u, _ + 1), k.mid);
              k.up = k.mid + i[1] * I, k.dn = k.mid - i[1] * I, c -= l[_ - u].close;
            }
            return k;
          });
        }
      }, To = {
        name: "BRAR",
        shortName: "BRAR",
        calcParams: [26],
        figures: [
          { key: "br", title: "BR: ", type: "line" },
          { key: "ar", title: "AR: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0, g = 0, _ = 0;
          return l.map(function(w, k) {
            var I, D, R = {}, W = w.high, j = w.low, Y = w.open, te = ((I = l[k - 1]) !== null && I !== void 0 ? I : w).close;
            if (g += W - Y, _ += Y - j, u += W - te, c += te - j, k >= i[0] - 1) {
              _ !== 0 ? R.ar = g / _ * 100 : R.ar = 0, c !== 0 ? R.br = u / c * 100 : R.br = 0;
              var q = l[k - (i[0] - 1)], ie = q.high, pe = q.low, ye = q.open, Pe = ((D = l[k - i[0]]) !== null && D !== void 0 ? D : l[k - (i[0] - 1)]).close;
              u -= ie - Pe, c -= Pe - pe, g -= ie - ye, _ -= ye - pe;
            }
            return R;
          });
        }
      }, eo = {
        name: "BBI",
        shortName: "BBI",
        series: n.IndicatorSeries.Price,
        precision: 2,
        calcParams: [3, 6, 12, 24],
        shouldOhlc: !0,
        figures: [
          { key: "bbi", title: "BBI: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = Math.max.apply(Math, Nn([], Tt(i), !1)), c = [], g = [];
          return l.map(function(_, w) {
            var k = {}, I = _.close;
            if (i.forEach(function(R, W) {
              var j;
              c[W] = ((j = c[W]) !== null && j !== void 0 ? j : 0) + I, w >= R - 1 && (g[W] = c[W] / R, c[W] -= l[w - (R - 1)].close);
            }), w >= u - 1) {
              var D = 0;
              g.forEach(function(R) {
                D += R;
              }), k.bbi = D / 4;
            }
            return k;
          });
        }
      }, to = {
        name: "CCI",
        shortName: "CCI",
        calcParams: [20],
        figures: [
          { key: "cci", title: "CCI: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = i[0] - 1, c = 0, g = [];
          return l.map(function(_, w) {
            var k = {}, I = (_.high + _.low + _.close) / 3;
            if (c += I, g.push(I), w >= u) {
              var D = c / i[0], R = g.slice(w - u, w + 1), W = 0;
              R.forEach(function(te) {
                W += Math.abs(te - D);
              });
              var j = W / i[0];
              k.cci = j !== 0 ? (I - D) / j / 0.015 : 0;
              var Y = (l[w - u].high + l[w - u].low + l[w - u].close) / 3;
              c -= Y;
            }
            return k;
          });
        }
      }, hs = {
        name: "CR",
        shortName: "CR",
        calcParams: [26, 10, 20, 40, 60],
        figures: [
          { key: "cr", title: "CR: ", type: "line" },
          { key: "ma1", title: "MA1: ", type: "line" },
          { key: "ma2", title: "MA2: ", type: "line" },
          { key: "ma3", title: "MA3: ", type: "line" },
          { key: "ma4", title: "MA4: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = Math.ceil(i[1] / 2.5 + 1), c = Math.ceil(i[2] / 2.5 + 1), g = Math.ceil(i[3] / 2.5 + 1), _ = Math.ceil(i[4] / 2.5 + 1), w = 0, k = [], I = 0, D = [], R = 0, W = [], j = 0, Y = [], te = [];
          return l.forEach(function(q, ie) {
            var pe, ye, Pe, Oe, Ze, Be = {}, ze = (pe = l[ie - 1]) !== null && pe !== void 0 ? pe : q, ut = (ze.high + ze.close + ze.low + ze.open) / 4, ht = Math.max(0, q.high - ut), st = Math.max(0, ut - q.low);
            ie >= i[0] - 1 && (st !== 0 ? Be.cr = ht / st * 100 : Be.cr = 0, w += Be.cr, I += Be.cr, R += Be.cr, j += Be.cr, ie >= i[0] + i[1] - 2 && (k.push(w / i[1]), ie >= i[0] + i[1] + u - 3 && (Be.ma1 = k[k.length - 1 - u]), w -= (ye = te[ie - (i[1] - 1)].cr) !== null && ye !== void 0 ? ye : 0), ie >= i[0] + i[2] - 2 && (D.push(I / i[2]), ie >= i[0] + i[2] + c - 3 && (Be.ma2 = D[D.length - 1 - c]), I -= (Pe = te[ie - (i[2] - 1)].cr) !== null && Pe !== void 0 ? Pe : 0), ie >= i[0] + i[3] - 2 && (W.push(R / i[3]), ie >= i[0] + i[3] + g - 3 && (Be.ma3 = W[W.length - 1 - g]), R -= (Oe = te[ie - (i[3] - 1)].cr) !== null && Oe !== void 0 ? Oe : 0), ie >= i[0] + i[4] - 2 && (Y.push(j / i[4]), ie >= i[0] + i[4] + _ - 3 && (Be.ma4 = Y[Y.length - 1 - _]), j -= (Ze = te[ie - (i[4] - 1)].cr) !== null && Ze !== void 0 ? Ze : 0)), te.push(Be);
          }), te;
        }
      }, ko = {
        name: "DMA",
        shortName: "DMA",
        calcParams: [10, 50, 10],
        figures: [
          { key: "dma", title: "DMA: ", type: "line" },
          { key: "ama", title: "AMA: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = Math.max(i[0], i[1]), c = 0, g = 0, _ = 0, w = [];
          return l.forEach(function(k, I) {
            var D, R = {}, W = k.close;
            c += W, g += W;
            var j = 0, Y = 0;
            if (I >= i[0] - 1 && (j = c / i[0], c -= l[I - (i[0] - 1)].close), I >= i[1] - 1 && (Y = g / i[1], g -= l[I - (i[1] - 1)].close), I >= u - 1) {
              var te = j - Y;
              R.dma = te, _ += te, I >= u + i[2] - 2 && (R.ama = _ / i[2], _ -= (D = w[I - (i[2] - 1)].dma) !== null && D !== void 0 ? D : 0);
            }
            w.push(R);
          }), w;
        }
      }, ds = {
        name: "DMI",
        shortName: "DMI",
        calcParams: [14, 6],
        figures: [
          { key: "pdi", title: "PDI: ", type: "line" },
          { key: "mdi", title: "MDI: ", type: "line" },
          { key: "adx", title: "ADX: ", type: "line" },
          { key: "adxr", title: "ADXR: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0, g = 0, _ = 0, w = 0, k = 0, I = 0, D = 0, R = [];
          return l.forEach(function(W, j) {
            var Y, te, q = {}, ie = (Y = l[j - 1]) !== null && Y !== void 0 ? Y : W, pe = ie.close, ye = W.high, Pe = W.low, Oe = ye - Pe, Ze = Math.abs(ye - pe), Be = Math.abs(pe - Pe), ze = ye - ie.high, ut = ie.low - Pe, ht = Math.max(Math.max(Oe, Ze), Be), st = ze > 0 && ze > ut ? ze : 0, pt = ut > 0 && ut > ze ? ut : 0;
            if (u += ht, c += st, g += pt, j >= i[0] - 1) {
              j > i[0] - 1 ? (_ = _ - _ / i[0] + ht, w = w - w / i[0] + st, k = k - k / i[0] + pt) : (_ = u, w = c, k = g);
              var It = 0, wt = 0;
              _ !== 0 && (It = w * 100 / _, wt = k * 100 / _), q.pdi = It, q.mdi = wt;
              var Bt = 0;
              wt + It !== 0 && (Bt = Math.abs(wt - It) / (wt + It) * 100), I += Bt, j >= i[0] * 2 - 2 && (j > i[0] * 2 - 2 ? D = (D * (i[0] - 1) + Bt) / i[0] : D = I / i[0], q.adx = D, j >= i[0] * 2 + i[1] - 3 && (q.adxr = (((te = R[j - (i[1] - 1)].adx) !== null && te !== void 0 ? te : 0) + D) / 2));
            }
            R.push(q);
          }), R;
        }
      }, Po = {
        name: "EMV",
        shortName: "EMV",
        calcParams: [14, 9],
        figures: [
          { key: "emv", title: "EMV: ", type: "line" },
          { key: "maEmv", title: "MAEMV: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = [];
          return l.map(function(g, _) {
            var w, k = {};
            if (_ > 0) {
              var I = l[_ - 1], D = g.high, R = g.low, W = (w = g.volume) !== null && w !== void 0 ? w : 0, j = (D + R) / 2 - (I.high + I.low) / 2;
              if (W === 0 || D - R === 0)
                k.emv = 0;
              else {
                var Y = W / 1e8 / (D - R);
                k.emv = j / Y;
              }
              u += k.emv, c.push(k.emv), _ >= i[0] && (k.maEmv = u / i[0], u -= c[_ - i[0]]);
            }
            return k;
          });
        }
      }, fs = {
        name: "EMA",
        shortName: "EMA",
        series: n.IndicatorSeries.Price,
        calcParams: [6, 12, 20],
        precision: 2,
        shouldOhlc: !0,
        figures: [
          { key: "ema1", title: "EMA6: ", type: "line" },
          { key: "ema2", title: "EMA12: ", type: "line" },
          { key: "ema3", title: "EMA20: ", type: "line" }
        ],
        regenerateFigures: function(l) {
          return l.map(function(r, i) {
            return { key: "ema".concat(i + 1), title: "EMA".concat(r, ": "), type: "line" };
          });
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures, c = 0, g = [];
          return l.map(function(_, w) {
            var k = {}, I = _.close;
            return c += I, i.forEach(function(D, R) {
              w >= D - 1 && (w > D - 1 ? g[R] = (2 * I + (D - 1) * g[R]) / (D + 1) : g[R] = c / D, k[u[R].key] = g[R]);
            }), k;
          });
        }
      }, ps = {
        name: "MTM",
        shortName: "MTM",
        calcParams: [12, 6],
        figures: [
          { key: "mtm", title: "MTM: ", type: "line" },
          { key: "maMtm", title: "MAMTM: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = [];
          return l.forEach(function(g, _) {
            var w, k = {};
            if (_ >= i[0]) {
              var I = g.close, D = l[_ - i[0]].close;
              k.mtm = I - D, u += k.mtm, _ >= i[0] + i[1] - 1 && (k.maMtm = u / i[1], u -= (w = c[_ - (i[1] - 1)].mtm) !== null && w !== void 0 ? w : 0);
            }
            c.push(k);
          }), c;
        }
      }, Io = {
        name: "MA",
        shortName: "MA",
        series: n.IndicatorSeries.Price,
        calcParams: [5, 10, 30, 60],
        precision: 2,
        shouldOhlc: !0,
        figures: [
          { key: "ma5", title: "MA5: ", type: "line" },
          { key: "ma10", title: "MA10: ", type: "line" },
          { key: "ma30", title: "MA30: ", type: "line" },
          { key: "ma60", title: "MA60: ", type: "line" }
        ],
        regenerateFigures: function(l) {
          return l.map(function(r, i) {
            return { key: "ma".concat(i + 1), title: "MA".concat(r, ": "), type: "line" };
          });
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures, c = [];
          return l.map(function(g, _) {
            var w = {}, k = g.close;
            return i.forEach(function(I, D) {
              var R;
              c[D] = ((R = c[D]) !== null && R !== void 0 ? R : 0) + k, _ >= I - 1 && (w[u[D].key] = c[D] / I, c[D] -= l[_ - (I - 1)].close);
            }), w;
          });
        }
      }, Sa = {
        name: "MACD",
        shortName: "MACD",
        calcParams: [12, 26, 9],
        figures: [
          { key: "dif", title: "DIF: ", type: "line" },
          { key: "dea", title: "DEA: ", type: "line" },
          {
            key: "macd",
            title: "MACD: ",
            type: "bar",
            baseValue: 0,
            styles: function(l, r, i) {
              var u, c, g, _, w = l.prev, k = l.current, I = (c = (u = w.indicatorData) === null || u === void 0 ? void 0 : u.macd) !== null && c !== void 0 ? c : Number.MIN_SAFE_INTEGER, D = (_ = (g = k.indicatorData) === null || g === void 0 ? void 0 : g.macd) !== null && _ !== void 0 ? _ : Number.MIN_SAFE_INTEGER, R;
              D > 0 ? R = ve(r.styles, "bars[0].upColor", i.bars[0].upColor) : D < 0 ? R = ve(r.styles, "bars[0].downColor", i.bars[0].downColor) : R = ve(r.styles, "bars[0].noChangeColor", i.bars[0].noChangeColor);
              var W = I < D ? n.PolygonType.Stroke : n.PolygonType.Fill;
              return { style: W, color: R, borderColor: R };
            }
          }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c, g, _ = 0, w = 0, k = 0, I = Math.max(i[0], i[1]);
          return l.map(function(D, R) {
            var W = {}, j = D.close;
            return u += j, R >= i[0] - 1 && (R > i[0] - 1 ? c = (2 * j + (i[0] - 1) * c) / (i[0] + 1) : c = u / i[0]), R >= i[1] - 1 && (R > i[1] - 1 ? g = (2 * j + (i[1] - 1) * g) / (i[1] + 1) : g = u / i[1]), R >= I - 1 && (_ = c - g, W.dif = _, w += _, R >= I + i[2] - 2 && (R > I + i[2] - 2 ? k = (_ * 2 + k * (i[2] - 1)) / (i[2] + 1) : k = w / i[2], W.macd = (_ - k) * 2, W.dea = k)), W;
          });
        }
      }, no = {
        name: "OBV",
        shortName: "OBV",
        calcParams: [30],
        figures: [
          { key: "obv", title: "OBV: ", type: "line" },
          { key: "maObv", title: "MAOBV: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0, g = [];
          return l.forEach(function(_, w) {
            var k, I, D, R, W = (k = l[w - 1]) !== null && k !== void 0 ? k : _;
            _.close < W.close ? c -= (I = _.volume) !== null && I !== void 0 ? I : 0 : _.close > W.close && (c += (D = _.volume) !== null && D !== void 0 ? D : 0);
            var j = { obv: c };
            u += c, w >= i[0] - 1 && (j.maObv = u / i[0], u -= (R = g[w - (i[0] - 1)].obv) !== null && R !== void 0 ? R : 0), g.push(j);
          }), g;
        }
      }, Eo = {
        name: "PVT",
        shortName: "PVT",
        figures: [
          { key: "pvt", title: "PVT: ", type: "line" }
        ],
        calc: function(l) {
          var r = 0;
          return l.map(function(i, u) {
            var c, g, _ = {}, w = i.close, k = (c = i.volume) !== null && c !== void 0 ? c : 1, I = ((g = l[u - 1]) !== null && g !== void 0 ? g : i).close, D = 0, R = I * k;
            return R !== 0 && (D = (w - I) / R), r += D, _.pvt = r, _;
          });
        }
      }, Us = {
        name: "PSY",
        shortName: "PSY",
        calcParams: [12, 6],
        figures: [
          { key: "psy", title: "PSY: ", type: "line" },
          { key: "maPsy", title: "MAPSY: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0, g = [], _ = [];
          return l.forEach(function(w, k) {
            var I, D, R = {}, W = ((I = l[k - 1]) !== null && I !== void 0 ? I : w).close, j = w.close - W > 0 ? 1 : 0;
            g.push(j), u += j, k >= i[0] - 1 && (R.psy = u / i[0] * 100, c += R.psy, k >= i[0] + i[1] - 2 && (R.maPsy = c / i[1], c -= (D = _[k - (i[1] - 1)].psy) !== null && D !== void 0 ? D : 0), u -= g[k - (i[0] - 1)]), _.push(R);
          }), _;
        }
      }, vs = {
        name: "ROC",
        shortName: "ROC",
        calcParams: [12, 6],
        figures: [
          { key: "roc", title: "ROC: ", type: "line" },
          { key: "maRoc", title: "MAROC: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = [], c = 0;
          return l.forEach(function(g, _) {
            var w, k, I = {};
            if (_ >= i[0] - 1) {
              var D = g.close, R = ((w = l[_ - i[0]]) !== null && w !== void 0 ? w : l[_ - (i[0] - 1)]).close;
              R !== 0 ? I.roc = (D - R) / R * 100 : I.roc = 0, c += I.roc, _ >= i[0] - 1 + i[1] - 1 && (I.maRoc = c / i[1], c -= (k = u[_ - (i[1] - 1)].roc) !== null && k !== void 0 ? k : 0);
            }
            u.push(I);
          }), u;
        }
      }, Ks = {
        name: "RSI",
        shortName: "RSI",
        calcParams: [6, 12, 24],
        figures: [
          { key: "rsi1", title: "RSI1: ", type: "line" },
          { key: "rsi2", title: "RSI2: ", type: "line" },
          { key: "rsi3", title: "RSI3: ", type: "line" }
        ],
        regenerateFigures: function(l) {
          return l.map(function(r, i) {
            var u = i + 1;
            return { key: "rsi".concat(u), title: "RSI".concat(u, ": "), type: "line" };
          });
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures, c = [], g = [];
          return l.map(function(_, w) {
            var k, I = {}, D = ((k = l[w - 1]) !== null && k !== void 0 ? k : _).close, R = _.close - D;
            return i.forEach(function(W, j) {
              var Y, te, q;
              if (R > 0 ? c[j] = ((Y = c[j]) !== null && Y !== void 0 ? Y : 0) + R : g[j] = ((te = g[j]) !== null && te !== void 0 ? te : 0) + Math.abs(R), w >= W - 1) {
                g[j] !== 0 ? I[u[j].key] = 100 - 100 / (1 + c[j] / g[j]) : I[u[j].key] = 0;
                var ie = l[w - (W - 1)], pe = (q = l[w - W]) !== null && q !== void 0 ? q : ie, ye = ie.close - pe.close;
                ye > 0 ? c[j] -= ye : g[j] -= Math.abs(ye);
              }
            }), I;
          });
        }
      }, Lo = {
        name: "SMA",
        shortName: "SMA",
        series: n.IndicatorSeries.Price,
        calcParams: [12, 2],
        precision: 2,
        figures: [
          { key: "sma", title: "SMA: ", type: "line" }
        ],
        shouldOhlc: !0,
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0;
          return l.map(function(g, _) {
            var w = {}, k = g.close;
            return u += k, _ >= i[0] - 1 && (_ > i[0] - 1 ? c = (k * i[1] + c * (i[0] - i[1] + 1)) / (i[0] + 1) : c = u / i[0], w.sma = c), w;
          });
        }
      }, gs = {
        name: "KDJ",
        shortName: "KDJ",
        calcParams: [9, 3, 3],
        figures: [
          { key: "k", title: "K: ", type: "line" },
          { key: "d", title: "D: ", type: "line" },
          { key: "j", title: "J: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = [];
          return l.forEach(function(c, g) {
            var _, w, k, I, D = {}, R = c.close;
            if (g >= i[0] - 1) {
              var W = ui(l.slice(g - (i[0] - 1), g + 1), "high", "low"), j = W[0], Y = W[1], te = j - Y, q = (R - Y) / (te === 0 ? 1 : te) * 100;
              D.k = ((i[1] - 1) * ((w = (_ = u[g - 1]) === null || _ === void 0 ? void 0 : _.k) !== null && w !== void 0 ? w : 50) + q) / i[1], D.d = ((i[2] - 1) * ((I = (k = u[g - 1]) === null || k === void 0 ? void 0 : k.d) !== null && I !== void 0 ? I : 50) + D.k) / i[2], D.j = 3 * D.k - 2 * D.d;
            }
            u.push(D);
          }), u;
        }
      }, mi = {
        name: "SAR",
        shortName: "SAR",
        series: n.IndicatorSeries.Price,
        calcParams: [2, 2, 20],
        precision: 2,
        shouldOhlc: !0,
        figures: [
          {
            key: "sar",
            title: "SAR: ",
            type: "circle",
            styles: function(l, r, i) {
              var u, c, g = l.current, _ = (c = (u = g.indicatorData) === null || u === void 0 ? void 0 : u.sar) !== null && c !== void 0 ? c : Number.MIN_SAFE_INTEGER, w = g.kLineData, k = ((w == null ? void 0 : w.high) + (w == null ? void 0 : w.low)) / 2, I = _ < k ? ve(r.styles, "circles[0].upColor", i.circles[0].upColor) : ve(r.styles, "circles[0].downColor", i.circles[0].downColor);
              return { color: I };
            }
          }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = i[0] / 100, c = i[1] / 100, g = i[2] / 100, _ = u, w = -100, k = !1, I = 0;
          return l.map(function(D, R) {
            var W = I, j = D.high, Y = D.low;
            if (k) {
              (w === -100 || w < j) && (w = j, _ = Math.min(_ + c, g)), I = W + _ * (w - W);
              var te = Math.min(l[Math.max(1, R) - 1].low, Y);
              I > D.low ? (I = w, _ = u, w = -100, k = !k) : I > te && (I = te);
            } else {
              (w === -100 || w > Y) && (w = Y, _ = Math.min(_ + c, g)), I = W + _ * (w - W);
              var q = Math.max(l[Math.max(1, R) - 1].high, j);
              I < D.high ? (I = w, _ = 0, w = -100, k = !k) : I < q && (I = q);
            }
            return { sar: I };
          });
        }
      }, Gs = {
        name: "TRIX",
        shortName: "TRIX",
        calcParams: [12, 9],
        figures: [
          { key: "trix", title: "TRIX: ", type: "line" },
          { key: "maTrix", title: "MATRIX: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c, g, _, w = 0, k = 0, I = 0, D = [];
          return l.forEach(function(R, W) {
            var j, Y = {}, te = R.close;
            if (u += te, W >= i[0] - 1 && (W > i[0] - 1 ? c = (2 * te + (i[0] - 1) * c) / (i[0] + 1) : c = u / i[0], w += c, W >= i[0] * 2 - 2 && (W > i[0] * 2 - 2 ? g = (2 * c + (i[0] - 1) * g) / (i[0] + 1) : g = w / i[0], k += g, W >= i[0] * 3 - 3))) {
              var q = void 0, ie = 0;
              W > i[0] * 3 - 3 ? (q = (2 * g + (i[0] - 1) * _) / (i[0] + 1), ie = (q - _) / _ * 100) : q = k / i[0], _ = q, Y.trix = ie, I += ie, W >= i[0] * 3 + i[1] - 4 && (Y.maTrix = I / i[1], I -= (j = D[W - (i[1] - 1)].trix) !== null && j !== void 0 ? j : 0);
            }
            D.push(Y);
          }), D;
        }
      }, ys = {
        name: "VOL",
        shortName: "VOL",
        series: n.IndicatorSeries.Volume,
        calcParams: [5, 10, 20],
        shouldFormatBigNumber: !0,
        precision: 0,
        minValue: 0,
        figures: [
          { key: "ma1", title: "MA5: ", type: "line" },
          { key: "ma2", title: "MA10: ", type: "line" },
          { key: "ma3", title: "MA20: ", type: "line" },
          {
            key: "volume",
            title: "VOLUME: ",
            type: "bar",
            baseValue: 0,
            styles: function(l, r, i) {
              var u = l.current.kLineData, c;
              return u.close > u.open ? c = ve(r.styles, "bars[0].upColor", i.bars[0].upColor) : u.close < u.open ? c = ve(r.styles, "bars[0].downColor", i.bars[0].downColor) : c = ve(r.styles, "bars[0].noChangeColor", i.bars[0].noChangeColor), { color: c };
            }
          }
        ],
        regenerateFigures: function(l) {
          var r = l.map(function(i, u) {
            return { key: "ma".concat(u + 1), title: "MA".concat(i, ": "), type: "line" };
          });
          return r.push({
            key: "volume",
            title: "VOLUME: ",
            type: "bar",
            baseValue: 0,
            styles: function(i, u, c) {
              var g = i.current.kLineData, _;
              return g.close > g.open ? _ = ve(u.styles, "bars[0].upColor", c.bars[0].upColor) : g.close < g.open ? _ = ve(u.styles, "bars[0].downColor", c.bars[0].downColor) : _ = ve(u.styles, "bars[0].noChangeColor", c.bars[0].noChangeColor), { color: _ };
            }
          }), r;
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures, c = [];
          return l.map(function(g, _) {
            var w, k = (w = g.volume) !== null && w !== void 0 ? w : 0, I = { volume: k };
            return i.forEach(function(D, R) {
              var W, j;
              c[R] = ((W = c[R]) !== null && W !== void 0 ? W : 0) + k, _ >= D - 1 && (I[u[R].key] = c[R] / D, c[R] -= (j = l[_ - (D - 1)].volume) !== null && j !== void 0 ? j : 0);
            }), I;
          });
        }
      }, fr = {
        name: "VR",
        shortName: "VR",
        calcParams: [26, 6],
        figures: [
          { key: "vr", title: "VR: ", type: "line" },
          { key: "maVr", title: "MAVR: ", type: "line" }
        ],
        calc: function(l, r) {
          var i = r.calcParams, u = 0, c = 0, g = 0, _ = 0, w = [];
          return l.forEach(function(k, I) {
            var D, R, W, j, Y, te = {}, q = k.close, ie = ((D = l[I - 1]) !== null && D !== void 0 ? D : k).close, pe = (R = k.volume) !== null && R !== void 0 ? R : 0;
            if (q > ie ? u += pe : q < ie ? c += pe : g += pe, I >= i[0] - 1) {
              var ye = g / 2;
              c + ye === 0 ? te.vr = 0 : te.vr = (u + ye) / (c + ye) * 100, _ += te.vr, I >= i[0] + i[1] - 2 && (te.maVr = _ / i[1], _ -= (W = w[I - (i[1] - 1)].vr) !== null && W !== void 0 ? W : 0);
              var Pe = l[I - (i[0] - 1)], Oe = (j = l[I - i[0]]) !== null && j !== void 0 ? j : Pe, Ze = Pe.close, Be = (Y = Pe.volume) !== null && Y !== void 0 ? Y : 0;
              Ze > Oe.close ? u -= Be : Ze < Oe.close ? c -= Be : g -= Be;
            }
            w.push(te);
          }), w;
        }
      }, wr = {
        name: "WR",
        shortName: "WR",
        calcParams: [6, 10, 14],
        figures: [
          { key: "wr1", title: "WR1: ", type: "line" },
          { key: "wr2", title: "WR2: ", type: "line" },
          { key: "wr3", title: "WR3: ", type: "line" }
        ],
        regenerateFigures: function(l) {
          return l.map(function(r, i) {
            return { key: "wr".concat(i + 1), title: "WR".concat(i + 1, ": "), type: "line" };
          });
        },
        calc: function(l, r) {
          var i = r.calcParams, u = r.figures;
          return l.map(function(c, g) {
            var _ = {}, w = c.close;
            return i.forEach(function(k, I) {
              var D = k - 1;
              if (g >= D) {
                var R = ui(l.slice(g - D, g + 1), "high", "low"), W = R[0], j = R[1], Y = W - j;
                _[u[I].key] = Y === 0 ? 0 : (w - W) / Y * 100;
              }
            }), _;
          });
        }
      }, Tr = {}, ta = [
        ba,
        Ca,
        wo,
        ci,
        To,
        eo,
        to,
        hs,
        ko,
        ds,
        Po,
        fs,
        ps,
        Io,
        Sa,
        no,
        Eo,
        Us,
        vs,
        Ks,
        Lo,
        gs,
        mi,
        Gs,
        ys,
        fr,
        wr
      ];
      ta.forEach(function(l) {
        Tr[l.name] = xa.extend(l);
      });
      function ms(l) {
        Tr[l.name] = xa.extend(l);
      }
      function _s(l) {
        var r;
        return (r = Tr[l]) !== null && r !== void 0 ? r : null;
      }
      function rr() {
        return Object.keys(Tr);
      }
      var xs = (
        /** @class */
        function() {
          function l(r) {
            this._instances = /* @__PURE__ */ new Map(), this._chartStore = r;
          }
          return l.prototype._overrideInstance = function(r, i) {
            var u = i.shortName, c = i.series, g = i.calcParams, _ = i.precision, w = i.figures, k = i.minValue, I = i.maxValue, D = i.shouldOhlc, R = i.shouldFormatBigNumber, W = i.visible, j = i.styles, Y = i.extendData, te = i.regenerateFigures, q = i.createTooltipDataSource, ie = i.draw, pe = i.calc, ye = !1;
            u !== void 0 && r.setShortName(u) && (ye = !0), c !== void 0 && r.setSeries(c) && (ye = !0);
            var Pe = !1;
            return g !== void 0 && r.setCalcParams(g) && (ye = !0, Pe = !0), w !== void 0 && r.setFigures(w) && (ye = !0, Pe = !0), k !== void 0 && r.setMinValue(k) && (ye = !0), I !== void 0 && r.setMinValue(I) && (ye = !0), _ !== void 0 && r.setPrecision(_) && (ye = !0), D !== void 0 && r.setShouldOhlc(D) && (ye = !0), R !== void 0 && r.setShouldFormatBigNumber(R) && (ye = !0), W !== void 0 && r.setVisible(W) && (ye = !0), j !== void 0 && r.setStyles(j) && (ye = !0), Y !== void 0 && r.setExtendData(Y) && (ye = !0, Pe = !0), te !== void 0 && r.setRegenerateFigures(te) && (ye = !0), q !== void 0 && r.setCreateTooltipDataSource(q) && (ye = !0), ie !== void 0 && r.setDraw(ie) && (ye = !0), pe !== void 0 && (r.calc = pe, Pe = !0), [ye, Pe];
          }, l.prototype.addInstance = function(r, i, u) {
            var c;
            return _n(this, void 0, void 0, function() {
              var g, _, w, k;
              return Et(this, function(I) {
                switch (I.label) {
                  case 0:
                    return g = r.name, _ = this._instances.get(i), (c = _ == null ? void 0 : _.has(g)) !== null && c !== void 0 && c ? [4, Promise.reject(new Error("Duplicate indicators."))] : [3, 2];
                  case 1:
                    return [2, I.sent()];
                  case 2:
                    return _ === void 0 && (_ = /* @__PURE__ */ new Map(), this._instances.set(i, _)), w = _s(g), k = new w(), this._overrideInstance(k, r), u || _.clear(), _.set(g, k), [4, k.calcIndicator(this._chartStore.getDataList())];
                  case 3:
                    return [2, I.sent()];
                }
              });
            });
          }, l.prototype.getInstances = function(r) {
            var i;
            return (i = this._instances.get(r)) !== null && i !== void 0 ? i : /* @__PURE__ */ new Map();
          }, l.prototype.removeInstance = function(r, i) {
            var u = !1, c = this._instances.get(r);
            return c !== void 0 && (i !== void 0 ? c.has(i) && (c.delete(i), u = !0) : (c.clear(), u = !0), c.size === 0 && this._instances.delete(r)), u;
          }, l.prototype.hasInstances = function(r) {
            return this._instances.has(r);
          }, l.prototype.calcInstance = function(r, i) {
            var u;
            return _n(this, void 0, void 0, function() {
              var c, g, _, w, k = this;
              return Et(this, function(I) {
                switch (I.label) {
                  case 0:
                    return c = [], r !== void 0 ? i !== void 0 ? (g = this._instances.get(i), (u = g == null ? void 0 : g.has(r)) !== null && u !== void 0 && u && (_ = g == null ? void 0 : g.get(r), c.push(_.calcIndicator(this._chartStore.getDataList())))) : this._instances.forEach(function(D) {
                      if (D.has(r)) {
                        var R = D == null ? void 0 : D.get(r);
                        c.push(R.calcIndicator(k._chartStore.getDataList()));
                      }
                    }) : this._instances.forEach(function(D) {
                      D.forEach(function(R) {
                        c.push(R.calcIndicator(k._chartStore.getDataList()));
                      });
                    }), [4, Promise.all(c)];
                  case 1:
                    return w = I.sent(), [2, w.includes(!0)];
                }
              });
            });
          }, l.prototype.getInstanceByPaneId = function(r, i) {
            var u;
            if (r !== void 0) {
              var c = this._instances.get(r);
              return i !== void 0 ? (u = c == null ? void 0 : c.get(i)) !== null && u !== void 0 ? u : null : c ?? null;
            }
            return this._instances;
          }, l.prototype.setSeriesPrecision = function(r) {
            this._instances.forEach(function(i) {
              i.forEach(function(u) {
                u.series === n.IndicatorSeries.Price && u.setPrecision(r.price, !0), u.series === n.IndicatorSeries.Volume && u.setPrecision(r.volume, !0);
              });
            });
          }, l.prototype.override = function(r, i) {
            return _n(this, void 0, void 0, function() {
              var u, c, g, _, w, k, I = this;
              return Et(this, function(D) {
                switch (D.label) {
                  case 0:
                    return u = r.name, c = /* @__PURE__ */ new Map(), i !== null ? (g = this._instances.get(i), g !== void 0 && c.set(i, g)) : c = this._instances, _ = !1, w = [], c.forEach(function(R) {
                      var W = R.get(u);
                      if (W !== void 0) {
                        var j = I._overrideInstance(W, r);
                        j[1] ? w.push(W.calcIndicator(I._chartStore.getDataList())) : j[0] && (_ = !0);
                      }
                    }), [4, Promise.all(w)];
                  case 1:
                    return k = D.sent(), [2, [_, k.includes(!0)]];
                }
              });
            });
          }, l;
        }()
      ), pr = (
        /** @class */
        function() {
          function l(r) {
            this._crosshair = {}, this._activeIcon = null, this._chartStore = r;
          }
          return l.prototype.setCrosshair = function(r, i) {
            var u = this._chartStore.getDataList(), c = r ?? {}, g, _;
            c.x !== void 0 ? (g = this._chartStore.getTimeScaleStore().coordinateToDataIndex(c.x), g < 0 ? _ = 0 : g > u.length - 1 ? _ = u.length - 1 : _ = g) : (g = u.length - 1, _ = g);
            var w = u[_], k = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(g), I = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId };
            this._crosshair = nt(nt({}, c), { realX: k, kLineData: w, realDataIndex: g, dataIndex: _ }), (I.x !== c.x || I.y !== c.y || I.paneId !== c.paneId) && (w !== null && this._chartStore.getChart().crosshairChange(this._crosshair), (i ?? !1) || this._chartStore.getChart().updatePane(
              1
              /* UpdateLevel.Overlay */
            ));
          }, l.prototype.recalculateCrosshair = function(r) {
            this.setCrosshair(this._crosshair, r);
          }, l.prototype.getCrosshair = function() {
            return this._crosshair;
          }, l.prototype.setActiveIcon = function(r) {
            this._activeIcon = r ?? null;
          }, l.prototype.getActiveIcon = function() {
            return this._activeIcon;
          }, l.prototype.clear = function() {
            this.setCrosshair({}, !0), this.setActiveIcon();
          }, l;
        }()
      );
      n.OverlayMode = void 0, function(l) {
        l.Normal = "normal", l.WeakMagnet = "weak_magnet", l.StrongMagnet = "strong_magnet";
      }(n.OverlayMode || (n.OverlayMode = {}));
      function Ao() {
        return [
          "mouseClickEvent",
          "mouseDoubleClickEvent",
          "mouseRightClickEvent",
          "tapEvent",
          "doubleTapEvent",
          "mouseDownEvent",
          "touchStartEvent",
          "mouseMoveEvent",
          "touchMoveEvent"
        ];
      }
      var bs = 1, na = -1, Cs = "overlay_", qr = "overlay_figure_", Ss = Number.MAX_SAFE_INTEGER, Fi = (
        /** @class */
        function() {
          function l(r) {
            this.currentStep = bs, this.points = [], this._prevPressedPoint = null, this._prevPressedPoints = [];
            var i = r.mode, u = r.modeSensitivity, c = r.extendData, g = r.styles, _ = r.name, w = r.totalStep, k = r.lock, I = r.visible, D = r.zLevel, R = r.needDefaultPointFigure, W = r.needDefaultXAxisFigure, j = r.needDefaultYAxisFigure, Y = r.createPointFigures, te = r.createXAxisFigures, q = r.createYAxisFigures, ie = r.performEventPressedMove, pe = r.performEventMoveForDrawing, ye = r.onDrawStart, Pe = r.onDrawing, Oe = r.onDrawEnd, Ze = r.onClick, Be = r.onDoubleClick, ze = r.onRightClick, ut = r.onPressedMoveStart, ht = r.onPressedMoving, st = r.onPressedMoveEnd, pt = r.onMouseEnter, It = r.onMouseLeave, wt = r.onRemoved, Bt = r.onSelected, Wt = r.onDeselected;
            this.name = _, this.totalStep = w === void 0 || w < 2 ? 1 : w, this.lock = k ?? !1, this.visible = I ?? !0, this.zLevel = D ?? 0, this.needDefaultPointFigure = R ?? !1, this.needDefaultXAxisFigure = W ?? !1, this.needDefaultYAxisFigure = j ?? !1, this.mode = i ?? n.OverlayMode.Normal, this.modeSensitivity = u ?? 8, this.extendData = c, this.styles = g ?? {}, this.createPointFigures = Y ?? null, this.createXAxisFigures = te ?? null, this.createYAxisFigures = q ?? null, this.performEventPressedMove = ie ?? null, this.performEventMoveForDrawing = pe ?? null, this.onDrawStart = ye ?? null, this.onDrawing = Pe ?? null, this.onDrawEnd = Oe ?? null, this.onClick = Ze ?? null, this.onDoubleClick = Be ?? null, this.onRightClick = ze ?? null, this.onPressedMoveStart = ut ?? null, this.onPressedMoving = ht ?? null, this.onPressedMoveEnd = st ?? null, this.onMouseEnter = pt ?? null, this.onMouseLeave = It ?? null, this.onRemoved = wt ?? null, this.onSelected = Bt ?? null, this.onDeselected = Wt ?? null;
          }
          return l.prototype.setId = function(r) {
            return this.id === void 0 ? (this.id = r, !0) : !1;
          }, l.prototype.setGroupId = function(r) {
            return this.groupId === void 0 ? (this.groupId = r, !0) : !1;
          }, l.prototype.setDefaultZLevel = function(r) {
            return this.defaultZLevel === void 0 ? (this.defaultZLevel = r, !0) : !1;
          }, l.prototype.setPaneId = function(r) {
            this.paneId = r;
          }, l.prototype.setExtendData = function(r) {
            return r !== this.extendData ? (this.extendData = r, !0) : !1;
          }, l.prototype.setStyles = function(r) {
            return r !== null ? (y(this.styles, r), !0) : !1;
          }, l.prototype.setPoints = function(r) {
            if (r.length > 0) {
              var i = void 0;
              if (this.points = Nn([], Tt(r), !1), r.length >= this.totalStep - 1 ? (this.currentStep = na, i = this.totalStep - 1) : (this.currentStep = r.length + 1, i = r.length), this.performEventMoveForDrawing !== null)
                for (var u = 0; u < i; u++)
                  this.performEventMoveForDrawing({
                    currentStep: u + 2,
                    mode: this.mode,
                    points: this.points,
                    performPointIndex: u,
                    performPoint: this.points[u]
                  });
              return this.currentStep === na && this.performEventPressedMove !== null && this.performEventPressedMove({
                currentStep: this.currentStep,
                mode: this.mode,
                points: this.points,
                performPointIndex: this.points.length - 1,
                performPoint: this.points[this.points.length - 1]
              }), !0;
            }
            return !1;
          }, l.prototype.setLock = function(r) {
            return this.lock !== r ? (this.lock = r, !0) : !1;
          }, l.prototype.setVisible = function(r) {
            return this.visible !== r ? (this.visible = r, !0) : !1;
          }, l.prototype.resetZLevel = function() {
            this.zLevel = this.defaultZLevel;
          }, l.prototype.setZLevel = function(r) {
            return this.zLevel !== r ? (this.zLevel = r, !0) : !1;
          }, l.prototype.setMode = function(r) {
            return this.mode !== r ? (this.mode = r, !0) : !1;
          }, l.prototype.setModeSensitivity = function(r) {
            return this.modeSensitivity !== r ? (this.modeSensitivity = r, !0) : !1;
          }, l.prototype.setOnDrawStartCallback = function(r) {
            return this.onDrawStart !== r ? (this.onDrawStart = r, !0) : !1;
          }, l.prototype.setOnDrawingCallback = function(r) {
            return this.onDrawing !== r ? (this.onDrawing = r, !0) : !1;
          }, l.prototype.setOnDrawEndCallback = function(r) {
            return this.onDrawEnd !== r ? (this.onDrawEnd = r, !0) : !1;
          }, l.prototype.setOnClickCallback = function(r) {
            return this.onClick !== r ? (this.onClick = r, !0) : !1;
          }, l.prototype.setOnDoubleClickCallback = function(r) {
            return this.onDoubleClick !== r ? (this.onDoubleClick = r, !0) : !1;
          }, l.prototype.setOnRightClickCallback = function(r) {
            return this.onRightClick !== r ? (this.onRightClick = r, !0) : !1;
          }, l.prototype.setOnPressedMoveStartCallback = function(r) {
            return this.onPressedMoveStart !== r ? (this.onPressedMoveStart = r, !0) : !1;
          }, l.prototype.setOnPressedMovingCallback = function(r) {
            return this.onPressedMoving !== r ? (this.onPressedMoving = r, !0) : !1;
          }, l.prototype.setOnPressedMoveEndCallback = function(r) {
            return this.onPressedMoveEnd !== r ? (this.onPressedMoveEnd = r, !0) : !1;
          }, l.prototype.setOnMouseEnterCallback = function(r) {
            return this.onMouseEnter !== r ? (this.onMouseEnter = r, !0) : !1;
          }, l.prototype.setOnMouseLeaveCallback = function(r) {
            return this.onMouseLeave !== r ? (this.onMouseLeave = r, !0) : !1;
          }, l.prototype.setOnRemovedCallback = function(r) {
            return this.onRemoved !== r ? (this.onRemoved = r, !0) : !1;
          }, l.prototype.setOnSelectedCallback = function(r) {
            return this.onSelected !== r ? (this.onSelected = r, !0) : !1;
          }, l.prototype.setOnDeselectedCallback = function(r) {
            return this.onDeselected !== r ? (this.onDeselected = r, !0) : !1;
          }, l.prototype.nextStep = function() {
            this.currentStep === this.totalStep - 1 ? this.currentStep = na : this.currentStep++;
          }, l.prototype.forceComplete = function() {
            this.currentStep = na;
          }, l.prototype.isDrawing = function() {
            return this.currentStep !== na;
          }, l.prototype.isStart = function() {
            return this.currentStep === bs;
          }, l.prototype.eventMoveForDrawing = function(r) {
            var i, u = this.currentStep - 1, c = {};
            r.timestamp !== void 0 && (c.timestamp = r.timestamp), r.dataIndex !== void 0 && (c.dataIndex = r.dataIndex), r.value !== void 0 && (c.value = r.value), this.points[u] = c, (i = this.performEventMoveForDrawing) === null || i === void 0 || i.call(this, {
              currentStep: this.currentStep,
              mode: this.mode,
              points: this.points,
              performPointIndex: u,
              performPoint: c
            });
          }, l.prototype.eventPressedPointMove = function(r, i) {
            var u;
            r.dataIndex !== void 0 && (this.points[i].dataIndex = r.dataIndex, this.points[i].timestamp = r.timestamp), r.value !== void 0 && (this.points[i].value = r.value), (u = this.performEventPressedMove) === null || u === void 0 || u.call(this, {
              currentStep: this.currentStep,
              points: this.points,
              mode: this.mode,
              performPointIndex: i,
              performPoint: this.points[i]
            });
          }, l.prototype.startPressedMove = function(r) {
            this._prevPressedPoint = nt({}, r), this._prevPressedPoints = b(this.points);
          }, l.prototype.eventPressedOtherMove = function(r, i, u) {
            if (this._prevPressedPoint !== null) {
              var c;
              r.dataIndex !== void 0 && this._prevPressedPoint.dataIndex !== void 0 && (c = r.dataIndex - this._prevPressedPoint.dataIndex);
              var g;
              if (r.value !== void 0 && this._prevPressedPoint.value !== void 0 && (g = r.value - this._prevPressedPoint.value), u !== void 0) {
                var _ = this._prevPressedPoints.find(function(w) {
                  var k, I = nt({}, w);
                  g !== void 0 && w.value !== void 0 && (I.value = w.value + g), w.dataIndex === void 0 && w.timestamp !== void 0 && (w.dataIndex = i.timestampToDataIndex(w.timestamp)), c !== void 0 && w.dataIndex !== void 0 && (I.dataIndex = w.dataIndex + c, I.timestamp = (k = i.dataIndexToTimestamp(I.dataIndex)) !== null && k !== void 0 ? k : void 0);
                  var D = u.length - 1;
                  return I.timestamp === void 0 || I.timestamp !== void 0 && I.timestamp > u[D].timestamp;
                });
                if (_ !== void 0)
                  return;
              }
              this.points = this._prevPressedPoints.map(function(w) {
                var k, I = nt({}, w);
                return g !== void 0 && w.value !== void 0 && (I.value = w.value + g), w.dataIndex === void 0 && w.timestamp !== void 0 && (w.dataIndex = i.timestampToDataIndex(w.timestamp)), c !== void 0 && w.dataIndex !== void 0 && (I.dataIndex = w.dataIndex + c, I.timestamp = (k = i.dataIndexToTimestamp(I.dataIndex)) !== null && k !== void 0 ? k : void 0), I;
              });
            }
          }, l.extend = function(r) {
            var i = (
              /** @class */
              function(u) {
                Le(c, u);
                function c() {
                  return u.call(this, r) || this;
                }
                return c;
              }(l)
            );
            return i;
          }, l;
        }()
      ), ro = {
        name: "fibonacciLine",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding, u = l.overlay, c = l.precision, g = l.thousandsSeparator, _ = u.points;
          if (r.length > 0) {
            var w = [], k = [], I = 0, D = i.width;
            if (r.length > 1 && _[0].value !== void 0 && _[1].value !== void 0) {
              var R = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0], W = r[0].y - r[1].y, j = _[0].value - _[1].value;
              R.forEach(function(Y) {
                var te, q = r[1].y + W * Y, ie = ke((((te = _[1].value) !== null && te !== void 0 ? te : 0) + j * Y).toFixed(c.price), g);
                w.push({ coordinates: [{ x: I, y: q }, { x: D, y: q }] }), k.push({
                  x: I,
                  y: q,
                  text: "".concat(ie, " (").concat((Y * 100).toFixed(1), "%)"),
                  baseline: "bottom"
                });
              });
            }
            return [
              {
                type: "line",
                attrs: w
              },
              {
                type: "text",
                isCheckEvent: !1,
                attrs: k
              }
            ];
          }
          return [];
        }
      }, ra = {
        name: "horizontalRayLine",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding, u = { x: 0, y: r[0].y };
          return r[1] !== void 0 && r[0].x < r[1].x && (u.x = i.width), [
            {
              type: "line",
              attrs: { coordinates: [r[0], u] }
            }
          ];
        },
        performEventPressedMove: function(l) {
          var r = l.points, i = l.performPoint;
          r[0].value = i.value, r[1].value = i.value;
        },
        performEventMoveForDrawing: function(l) {
          var r = l.currentStep, i = l.points, u = l.performPoint;
          r === 2 && (i[0].value = u.value);
        }
      }, Mo = {
        name: "horizontalSegment",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = [];
          return r.length === 2 && i.push({ coordinates: r }), [
            {
              type: "line",
              attrs: i
            }
          ];
        },
        performEventPressedMove: function(l) {
          var r = l.points, i = l.performPoint;
          r[0].value = i.value, r[1].value = i.value;
        },
        performEventMoveForDrawing: function(l) {
          var r = l.currentStep, i = l.points, u = l.performPoint;
          r === 2 && (i[0].value = u.value);
        }
      }, Do = {
        name: "horizontalStraightLine",
        totalStep: 2,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return [{
            type: "line",
            attrs: {
              coordinates: [
                {
                  x: 0,
                  y: r[0].y
                },
                {
                  x: i.width,
                  y: r[0].y
                }
              ]
            }
          }];
        }
      }, wa = (
        /** @class */
        function() {
          function l() {
            this._children = [], this._callbacks = /* @__PURE__ */ new Map();
          }
          return l.prototype.registerEvent = function(r, i) {
            return this._callbacks.set(r, i), this;
          }, l.prototype.onEvent = function(r, i, u) {
            var c = this._callbacks.get(r);
            return c !== void 0 && this.checkEventOn(i) ? c(i, u) : !1;
          }, l.prototype.checkEventOn = function(r) {
            var i, u;
            try {
              for (var c = ct(this._children), g = c.next(); !g.done; g = c.next()) {
                var _ = g.value;
                if (_.checkEventOn(r))
                  return !0;
              }
            } catch (w) {
              i = { error: w };
            } finally {
              try {
                g && !g.done && (u = c.return) && u.call(c);
              } finally {
                if (i)
                  throw i.error;
              }
            }
            return !1;
          }, l.prototype.dispatchEvent = function(r, i, u) {
            var c = this._children.length - 1;
            if (c > -1) {
              for (var g = c; g > -1; g--)
                if (this._children[g].dispatchEvent(r, i, u))
                  return !0;
            }
            return this.onEvent(r, i, u);
          }, l.prototype.addChild = function(r) {
            return this._children.push(r), this;
          }, l.prototype.clear = function() {
            this._children = [];
          }, l;
        }()
      ), Dn = 2, _i = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i) {
            var u = l.call(this) || this;
            return u.attrs = i.attrs, u.styles = i.styles, u;
          }
          return r.prototype.checkEventOn = function(i) {
            return this.checkEventOnImp(i, this.attrs, this.styles);
          }, r.prototype.draw = function(i) {
            this.drawImp(i, this.attrs, this.styles);
          }, r.extend = function(i) {
            var u = (
              /** @class */
              function(c) {
                Le(g, c);
                function g() {
                  return c !== null && c.apply(this, arguments) || this;
                }
                return g.prototype.checkEventOnImp = function(_, w, k) {
                  return i.checkEventOn(_, w, k);
                }, g.prototype.drawImp = function(_, w, k) {
                  i.draw(_, w, k);
                }, g;
              }(r)
            );
            return u;
          }, r;
        }(wa)
      );
      function Ta(l, r) {
        return Math.sqrt(Math.pow(l.x + r.x, 2) + Math.pow(l.y + r.y, 2));
      }
      function ia(l) {
        var r = Ta(l[0], l[1]), i = Ta(l[1], l[2]), u = r + i, c = [l[2].x - l[0].x, l[2].y - l[0].y];
        return [
          {
            x: l[1].x - c[0] * 0.5 * r / u,
            y: l[1].y - c[1] * 0.5 * r / u
          },
          {
            x: l[1].x + c[0] * 0.5 * r / u,
            y: l[1].y + c[1] * 0.5 * r / u
          }
        ];
      }
      function Fo(l, r) {
        var i = r.coordinates;
        if (i.length > 1)
          for (var u = 1; u < i.length; u++) {
            var c = i[u - 1], g = i[u];
            if (c.x === g.x) {
              if (Math.abs(c.y - l.y) + Math.abs(g.y - l.y) - Math.abs(c.y - g.y) < Dn + Dn && Math.abs(l.x - c.x) < Dn)
                return !0;
            } else {
              var _ = Pa(c, g), w = ka(_, l), k = Math.abs(w - l.y);
              if (Math.abs(c.x - l.x) + Math.abs(g.x - l.x) - Math.abs(c.x - g.x) < Dn + Dn && k * k / (_[0] * _[0] + 1) < Dn * Dn)
                return !0;
            }
          }
        return !1;
      }
      function ka(l, r) {
        return l != null ? r.x * l[0] + l[1] : r.y;
      }
      function xi(l, r, i) {
        var u = Pa(l, r);
        return ka(u, i);
      }
      function Pa(l, r) {
        var i = l.x - r.x;
        if (i !== 0) {
          var u = (l.y - r.y) / i, c = l.y - u * l.x;
          return [u, c];
        }
        return null;
      }
      function Ia(l, r, i) {
        var u = r.coordinates, c = u.length;
        if (c > 1) {
          var g = i.style, _ = g === void 0 ? n.LineType.Solid : g, w = i.smooth, k = i.size, I = k === void 0 ? 1 : k, D = i.color, R = D === void 0 ? "currentColor" : D, W = i.dashedValue, j = W === void 0 ? [2, 2] : W;
          if (l.lineWidth = I, l.strokeStyle = R, _ === n.LineType.Dashed ? l.setLineDash(j) : l.setLineDash([]), l.beginPath(), l.moveTo(u[0].x, u[0].y), w ?? !1) {
            for (var Y = [], te = 1; te < c - 1; te++)
              Y = Y.concat(ia([u[te - 1], u[te], u[te + 1]]));
            l.quadraticCurveTo(Y[0].x, Y[0].y, u[1].x, u[1].y);
            for (var q = 2; q < c - 1; q++)
              l.bezierCurveTo(Y[(q - 2) * 2 + 1].x, Y[(q - 2) * 2 + 1].y, Y[(q - 1) * 2].x, Y[(q - 1) * 2].y, u[q].x, u[q].y);
            l.quadraticCurveTo(Y[(q - 2) * 2 + 1].x, Y[(q - 2) * 2 + 1].y, u[q].x, u[q].y);
          } else
            for (var q = 1; q < u.length; q++)
              l.lineTo(u[q].x, u[q].y);
          l.stroke(), l.closePath();
        }
      }
      var $o = {
        name: "line",
        checkEventOn: Fo,
        draw: function(l, r, i) {
          Ia(l, r, i);
        }
      };
      function aa(l, r, i) {
        var u = i ?? 0, c = [];
        if (l.length > 1)
          if (l[0].x === l[1].x) {
            var g = 0, _ = r.height;
            if (c.push({ coordinates: [{ x: l[0].x, y: g }, { x: l[0].x, y: _ }] }), l.length > 2) {
              c.push({ coordinates: [{ x: l[2].x, y: g }, { x: l[2].x, y: _ }] });
              for (var w = l[0].x - l[2].x, k = 0; k < u; k++) {
                var I = w * (k + 1);
                c.push({ coordinates: [{ x: l[0].x + I, y: g }, { x: l[0].x + I, y: _ }] });
              }
            }
          } else {
            var D = 0, R = r.width, W = Pa(l[0], l[1]), j = W[0], Y = W[1];
            if (c.push({ coordinates: [{ x: D, y: D * j + Y }, { x: R, y: R * j + Y }] }), l.length > 2) {
              var te = l[2].y - j * l[2].x;
              c.push({ coordinates: [{ x: D, y: D * j + te }, { x: R, y: R * j + te }] });
              for (var w = Y - te, k = 0; k < u; k++) {
                var q = Y + w * (k + 1);
                c.push({ coordinates: [{ x: D, y: D * j + q }, { x: R, y: R * j + q }] });
              }
            }
          }
        return c;
      }
      var Ea = {
        name: "parallelStraightLine",
        totalStep: 4,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return [
            {
              type: "line",
              attrs: aa(r, i)
            }
          ];
        }
      }, ws = {
        name: "priceChannelLine",
        totalStep: 4,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return [
            {
              type: "line",
              attrs: aa(r, i, 1)
            }
          ];
        }
      }, Ts = {
        name: "priceLine",
        totalStep: 2,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding, u = l.precision, c = l.overlay, g = l.thousandsSeparator, _ = c.points[0].value, w = _ === void 0 ? 0 : _;
          return [
            {
              type: "line",
              attrs: { coordinates: [r[0], { x: i.width, y: r[0].y }] }
            },
            {
              type: "text",
              ignoreEvent: !0,
              attrs: { x: r[0].x, y: r[0].y, text: ke(w.toFixed(u.price), g), baseline: "bottom" }
            }
          ];
        }
      };
      function Ro(l, r) {
        if (l.length > 1) {
          var i = void 0;
          return l[0].x === l[1].x && l[0].y !== l[1].y ? l[0].y < l[1].y ? i = {
            x: l[0].x,
            y: r.height
          } : i = {
            x: l[0].x,
            y: 0
          } : l[0].x > l[1].x ? i = {
            x: 0,
            y: xi(l[0], l[1], { x: 0, y: l[0].y })
          } : i = {
            x: r.width,
            y: xi(l[0], l[1], { x: r.width, y: l[0].y })
          }, { coordinates: [l[0], i] };
        }
        return [];
      }
      var Oo = {
        name: "rayLine",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return [
            {
              type: "line",
              attrs: Ro(r, i)
            }
          ];
        }
      }, bi = {
        name: "segment",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates;
          return r.length === 2 ? [
            {
              type: "line",
              attrs: { coordinates: r }
            }
          ] : [];
        }
      }, Qr = {
        name: "straightLine",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return r.length === 2 ? r[0].x === r[1].x ? [
            {
              type: "line",
              attrs: {
                coordinates: [
                  {
                    x: r[0].x,
                    y: 0
                  },
                  {
                    x: r[0].x,
                    y: i.height
                  }
                ]
              }
            }
          ] : [
            {
              type: "line",
              attrs: {
                coordinates: [
                  {
                    x: 0,
                    y: xi(r[0], r[1], { x: 0, y: r[0].y })
                  },
                  {
                    x: i.width,
                    y: xi(r[0], r[1], { x: i.width, y: r[0].y })
                  }
                ]
              }
            }
          ] : [];
        }
      }, ks = {
        name: "verticalRayLine",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          if (r.length === 2) {
            var u = { x: r[0].x, y: 0 };
            return r[0].y < r[1].y && (u.y = i.height), [
              {
                type: "line",
                attrs: { coordinates: [r[0], u] }
              }
            ];
          }
          return [];
        },
        performEventPressedMove: function(l) {
          var r = l.points, i = l.performPoint;
          r[0].timestamp = i.timestamp, r[0].dataIndex = i.dataIndex, r[1].timestamp = i.timestamp, r[1].dataIndex = i.dataIndex;
        },
        performEventMoveForDrawing: function(l) {
          var r = l.currentStep, i = l.points, u = l.performPoint;
          r === 2 && (i[0].timestamp = u.timestamp, i[0].dataIndex = u.dataIndex);
        }
      }, La = {
        name: "verticalSegment",
        totalStep: 3,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates;
          return r.length === 2 ? [
            {
              type: "line",
              attrs: { coordinates: r }
            }
          ] : [];
        },
        performEventPressedMove: function(l) {
          var r = l.points, i = l.performPoint;
          r[0].timestamp = i.timestamp, r[0].dataIndex = i.dataIndex, r[1].timestamp = i.timestamp, r[1].dataIndex = i.dataIndex;
        },
        performEventMoveForDrawing: function(l) {
          var r = l.currentStep, i = l.points, u = l.performPoint;
          r === 2 && (i[0].timestamp = u.timestamp, i[0].dataIndex = u.dataIndex);
        }
      }, io = {
        name: "verticalStraightLine",
        totalStep: 2,
        needDefaultPointFigure: !0,
        needDefaultXAxisFigure: !0,
        needDefaultYAxisFigure: !0,
        createPointFigures: function(l) {
          var r = l.coordinates, i = l.bounding;
          return [
            {
              type: "line",
              attrs: {
                coordinates: [
                  {
                    x: r[0].x,
                    y: 0
                  },
                  {
                    x: r[0].x,
                    y: i.height
                  }
                ]
              }
            }
          ];
        }
      }, oa = {
        name: "simpleAnnotation",
        totalStep: 2,
        styles: {
          text: {
            borderSize: 1,
            borderRadius: 2,
            borderColor: "#1677FF",
            paddingLeft: 4,
            paddingRight: 4,
            paddingTop: 4,
            paddingBottom: 4,
            backgroundColor: "#1677FF"
          },
          line: { style: n.LineType.Dashed }
        },
        createPointFigures: function(l) {
          var r, i = l.overlay, u = l.coordinates, c;
          H(i.extendData) && (T(i.extendData) ? c = i.extendData(i) : c = (r = i.extendData) !== null && r !== void 0 ? r : "");
          var g = u[0].x, _ = u[0].y - 6, w = _ - 50, k = w - 5;
          return [
            {
              type: "line",
              attrs: { coordinates: [{ x: g, y: _ }, { x: g, y: w }] },
              ignoreEvent: !0
            },
            {
              type: "polygon",
              attrs: { coordinates: [{ x: g, y: w }, { x: g - 4, y: k }, { x: g + 4, y: k }] },
              ignoreEvent: !0
            },
            {
              type: "text",
              attrs: { x: g, y: k, text: c ?? "", align: "center", baseline: "bottom" },
              ignoreEvent: !0
            }
          ];
        }
      }, Ps = {
        name: "simpleTag",
        totalStep: 2,
        styles: {
          text: {
            borderSize: 1,
            borderRadius: 2,
            borderColor: "#1677FF",
            paddingLeft: 4,
            paddingRight: 4,
            paddingTop: 4,
            paddingBottom: 4,
            backgroundColor: "#1677FF"
          }
        },
        createPointFigures: function(l) {
          var r = l.bounding, i = l.coordinates;
          return {
            type: "line",
            attrs: {
              coordinates: [
                { x: 0, y: i[0].y },
                { x: r.width, y: i[0].y }
              ]
            },
            ignoreEvent: !0
          };
        },
        createYAxisFigures: function(l) {
          var r, i, u = l.overlay, c = l.coordinates, g = l.bounding, _ = l.yAxis, w = l.precision, k = (r = _ == null ? void 0 : _.isFromZero()) !== null && r !== void 0 ? r : !1, I, D;
          k ? (I = "left", D = 0) : (I = "right", D = g.width);
          var R;
          return H(u.extendData) && (T(u.extendData) ? R = u.extendData(u) : R = (i = u.extendData) !== null && i !== void 0 ? i : ""), !H(R) && u.points[0].value !== void 0 && (R = re(u.points[0].value, w.price)), { type: "text", attrs: { x: D, y: c[0].y, text: R ?? "", align: I, baseline: "middle" } };
        }
      }, $i = {}, Is = [
        ro,
        ra,
        Mo,
        Do,
        Ea,
        ws,
        Ts,
        Oo,
        bi,
        Qr,
        ks,
        La,
        io,
        oa,
        Ps
      ];
      Is.forEach(function(l) {
        $i[l.name] = Fi.extend(l);
      });
      function Bo(l) {
        $i[l.name] = Fi.extend(l);
      }
      function Es(l) {
        var r;
        return (r = $i[l]) !== null && r !== void 0 ? r : null;
      }
      function Ls(l) {
        var r;
        return (r = $i[l]) !== null && r !== void 0 ? r : null;
      }
      function As() {
        return Object.keys($i);
      }
      function Aa(l) {
        var r = {
          width: 0,
          height: 0,
          left: 0,
          right: 0,
          top: 0,
          bottom: 0
        };
        return l !== void 0 && y(r, l), r;
      }
      var Vt = {
        MAIN: "main",
        XAXIS: "xAxis",
        YAXIS: "yAxis",
        SEPARATOR: "separator"
      }, No = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this) || this;
            return c._bounding = Aa(), c._pane = u, c._init(i), c;
          }
          return r.prototype._init = function(i) {
            if (this._container = wn("div", this.getContainerStyle()), this.insertBefore()) {
              var u = i.lastChild;
              u !== null ? i.insertBefore(this._container, u) : i.appendChild(this._container);
            } else
              i.appendChild(this._container);
            this.initDom(this._container);
          }, r.prototype.setBounding = function(i) {
            return y(this._bounding, i), this;
          }, r.prototype.getContainer = function() {
            return this._container;
          }, r.prototype.getBounding = function() {
            return this._bounding;
          }, r.prototype.getPane = function() {
            return this._pane;
          }, r.prototype.update = function(i) {
            this.updateImp(
              this._container,
              this._bounding,
              i ?? 3
              /* UpdateLevel.Drawer */
            );
          }, r.prototype.insertBefore = function() {
            return !1;
          }, r;
        }(wa)
      );
      function zo(l, r) {
        var i = 0;
        return function() {
          var u = Date.now();
          u - i > (r ?? 20) && (l.apply(this, arguments), i = u);
        };
      }
      var hi = 7, sa = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this, i, u) || this;
            return c._dragFlag = !1, c._dragStartY = 0, c._topPaneHeight = 0, c._currentPaneHeight = 0, c._pressedMouseMoveEvent = zo(c._pressedTouchMouseMoveEvent, 20), c.registerEvent("touchStartEvent", c._mouseDownEvent.bind(c)).registerEvent("touchMoveEvent", c._pressedMouseMoveEvent.bind(c)).registerEvent("touchEndEvent", c._mouseUpEvent.bind(c)).registerEvent("mouseDownEvent", c._mouseDownEvent.bind(c)).registerEvent("mouseUpEvent", c._mouseUpEvent.bind(c)).registerEvent("pressedMouseMoveEvent", c._pressedMouseMoveEvent.bind(c)).registerEvent("mouseEnterEvent", c._mouseEnterEvent.bind(c)).registerEvent("mouseLeaveEvent", c._mouseLeaveEvent.bind(c)), c;
          }
          return r.prototype.getName = function() {
            return Vt.SEPARATOR;
          }, r.prototype.checkEventOn = function() {
            return !0;
          }, r.prototype._mouseDownEvent = function(i) {
            var u, c;
            this._dragFlag = !0, this._dragStartY = i.pageY;
            var g = this.getPane();
            return this._topPaneHeight = (c = (u = g.getTopPane()) === null || u === void 0 ? void 0 : u.getBounding().height) !== null && c !== void 0 ? c : 0, this._currentPaneHeight = g.getBounding().height, !0;
          }, r.prototype._mouseUpEvent = function() {
            return this._dragFlag = !1, this._mouseLeaveEvent();
          }, r.prototype._pressedTouchMouseMoveEvent = function(i) {
            var u = i.pageY - this._dragStartY, c = this.getPane(), g = c.getTopPane(), _ = u < 0;
            if (g !== null && c.getOptions().dragEnabled) {
              var w = void 0, k = void 0, I = void 0, D = void 0;
              _ ? (w = g, k = c, I = this._topPaneHeight, D = this._currentPaneHeight) : (w = c, k = g, I = this._currentPaneHeight, D = this._topPaneHeight);
              var R = w.getOptions().minHeight;
              if (I > R) {
                var W = Math.max(I - Math.abs(u), R), j = I - W;
                w.setBounding({ height: W }), k.setBounding({ height: D + j });
                var Y = c.getChart();
                Y.getChartStore().getActionStore().execute(n.ActionType.OnPaneDrag, { paneId: c.getId }), Y.adjustPaneViewport(!0, !0, !0, !0, !0);
              }
            }
            return !0;
          }, r.prototype._mouseEnterEvent = function() {
            var i = this.getPane();
            if (i.getOptions().dragEnabled) {
              var u = i.getChart(), c = u.getStyles().separator;
              return this._moveDom.style.background = c.activeBackgroundColor, !0;
            }
            return !1;
          }, r.prototype._mouseLeaveEvent = function() {
            return this._dragFlag ? !1 : (this._moveDom.style.background = "", !0);
          }, r.prototype.getContainerStyle = function() {
            return {
              margin: "0",
              padding: "0",
              position: "relative",
              boxSizing: "border-box"
            };
          }, r.prototype.insertBefore = function() {
            return !0;
          }, r.prototype.initDom = function(i) {
            this._moveDom = wn("div", {
              width: "100%",
              height: "".concat(hi, "px"),
              margin: "0",
              padding: "0",
              position: "absolute",
              top: "-3px",
              zIndex: "20",
              boxSizing: "border-box",
              cursor: "ns-resize"
            }), i.appendChild(this._moveDom);
          }, r.prototype.updateImp = function(i, u, c) {
            if (c === 4 || c === 2) {
              var g = this.getPane().getChart().getStyles().separator;
              this._moveDom.style.top = "".concat(-Math.floor((hi - g.size) / 2), "px"), this._moveDom.style.height = "".concat(hi, "px");
              var _ = g.fill;
              i.style.backgroundColor = g.color, i.style.height = "".concat(g.size, "px"), i.style.marginLeft = "".concat(_ ? 0 : u.left, "px"), i.style.width = _ ? "100%" : "".concat(u.width, "px");
            }
          }, r.prototype.getImage = function() {
            var i = this.getPane().getChart().getStyles().separator, u = this.getContainer().offsetWidth, c = i.size, g = wn("canvas", {
              width: "".concat(u, "px"),
              height: "".concat(c, "px"),
              boxSizing: "border-box"
            }), _ = g.getContext("2d"), w = Gn(g);
            return g.width = u * w, g.height = c * w, _.scale(w, w), _.fillStyle = i.color, _.fillRect(this.getBounding().left, 0, u, c), g;
          }, r;
        }(No)
      ), js = 30, Vo = 100, Qt = {
        CANDLE: "candle_pane",
        INDICATOR: "indicator_pane_",
        XAXIS: "xaxis_pane"
      }, ao = (
        /** @class */
        function() {
          function l(r, i, u, c, g) {
            this._yAxisWidget = null, this._separatorWidget = null, this._axis = this.createAxisComponent(), this._bounding = Aa(), this._options = { minHeight: js, dragEnabled: !0, gap: { top: 0.2, bottom: 0.1 }, axisOptions: { scrollZoomEnabled: !0 } }, this._chart = i, this._id = u, this._topPane = c ?? null, this._bottomPane = g ?? null, this._init(r);
          }
          return l.prototype._init = function(r) {
            this._container = r, this._seriesContainer = wn("div", {
              width: "100%",
              margin: "0",
              padding: "0",
              position: "relative",
              overflow: "hidden",
              boxSizing: "border-box"
            }), this._separatorWidget = this.createSeparatorWidget(r);
            var i = r.lastChild;
            i !== null ? r.insertBefore(this._seriesContainer, i) : r.appendChild(this._seriesContainer), this._mainWidget = this.createMainWidget(this._seriesContainer), this._yAxisWidget = this.createYAxisWidget(this._seriesContainer);
          }, l.prototype.getContainer = function() {
            return this._seriesContainer;
          }, l.prototype.getId = function() {
            return this._id;
          }, l.prototype.setOptions = function(r) {
            var i, u, c;
            y(this._options, r);
            var g, _;
            return this.getId() === Qt.XAXIS ? (g = this.getMainWidget().getContainer(), _ = "ew-resize") : (g = (i = this.getYAxisWidget()) === null || i === void 0 ? void 0 : i.getContainer(), _ = "ns-resize"), !((c = (u = r.axisOptions) === null || u === void 0 ? void 0 : u.scrollZoomEnabled) !== null && c !== void 0) || c ? g.style.cursor = _ : g.style.cursor = "default", this;
          }, l.prototype.getOptions = function() {
            return this._options;
          }, l.prototype.getChart = function() {
            return this._chart;
          }, l.prototype.getAxisComponent = function() {
            return this._axis;
          }, l.prototype.setBounding = function(r, i, u) {
            var c, g, _;
            y(this._bounding, r);
            var w = 0;
            if (this._separatorWidget !== null) {
              w = this._chart.getStyles().separator.size;
              var k = nt(nt({}, r), { height: hi });
              r.top !== void 0 && (k.top = r.top - Math.floor((hi - w) / 2)), this._separatorWidget.setBounding(k);
            }
            var I = {};
            return r.height !== void 0 && (I.height = r.height - w), r.top !== void 0 && (I.top = r.top + w), this._mainWidget.setBounding(I), (c = this._yAxisWidget) === null || c === void 0 || c.setBounding(I), i !== void 0 && (this._mainWidget.setBounding(i), (g = this._separatorWidget) === null || g === void 0 || g.setBounding(i)), u !== void 0 && ((_ = this._yAxisWidget) === null || _ === void 0 || _.setBounding(u)), this;
          }, l.prototype.getTopPane = function() {
            return this._topPane;
          }, l.prototype.setTopPane = function(r) {
            return this._topPane = r, this;
          }, l.prototype.getBottomPane = function() {
            return this._bottomPane;
          }, l.prototype.setBottomPane = function(r) {
            return this._bottomPane = r, this;
          }, l.prototype.getBounding = function() {
            return this._bounding;
          }, l.prototype.getMainWidget = function() {
            return this._mainWidget;
          }, l.prototype.getYAxisWidget = function() {
            return this._yAxisWidget;
          }, l.prototype.getSeparatorWidget = function() {
            return this._separatorWidget;
          }, l.prototype.update = function(r) {
            var i, u;
            this._bounding.width !== this._seriesContainer.offsetWidth && (this._seriesContainer.style.width = "".concat(this._bounding.width, "px"));
            var c = this._mainWidget.getBounding().height;
            c !== this._seriesContainer.offsetHeight && (this._seriesContainer.style.height = "".concat(c, "px"));
            var g = r ?? 3;
            this._mainWidget.update(g), (i = this._yAxisWidget) === null || i === void 0 || i.update(g), (u = this._separatorWidget) === null || u === void 0 || u.update(g);
          }, l.prototype.getImage = function(r) {
            var i = this._bounding, u = i.width, c = i.height, g = wn("canvas", {
              width: "".concat(u, "px"),
              height: "".concat(c, "px"),
              boxSizing: "border-box"
            }), _ = g.getContext("2d"), w = Gn(g);
            g.width = u * w, g.height = c * w, _.scale(w, w);
            var k = 0;
            if (this._separatorWidget != null) {
              var I = this.getChart().getStyles().separator.size;
              k = I, _.drawImage(this._separatorWidget.getImage(), 0, 0, u, I);
            }
            var D = this._mainWidget.getBounding();
            if (_.drawImage(this._mainWidget.getImage(r), D.left, k, D.width, D.height), this._yAxisWidget !== null) {
              var R = this._yAxisWidget.getBounding();
              _.drawImage(this._yAxisWidget.getImage(r), R.left, k, R.width, R.height);
            }
            return g;
          }, l.prototype.destroy = function() {
            this._container.removeChild(this._seriesContainer), this._separatorWidget !== null && this._container.removeChild(this._separatorWidget.getContainer());
          }, l.prototype.createSeparatorWidget = function(r) {
            return null;
          }, l.prototype.createYAxisWidget = function(r) {
            return null;
          }, l;
        }()
      ), oo = (
        /** @class */
        function() {
          function l(r) {
            this._instances = /* @__PURE__ */ new Map(), this._counter = /* @__PURE__ */ new Map(), this._progressInstanceInfo = null, this._pressedInstanceInfo = {
              paneId: "",
              instance: null,
              figureType: 0,
              figureKey: "",
              figureIndex: -1,
              attrsIndex: -1
            }, this._hoverInstanceInfo = {
              paneId: "",
              instance: null,
              figureType: 0,
              figureKey: "",
              figureIndex: -1,
              attrsIndex: -1
            }, this._clickInstanceInfo = {
              paneId: "",
              instance: null,
              figureType: 0,
              figureKey: "",
              figureIndex: -1,
              attrsIndex: -1
            }, this._chartStore = r;
          }
          return l.prototype._overrideInstance = function(r, i) {
            var u = i.id, c = i.groupId, g = i.points, _ = i.styles, w = i.lock, k = i.visible, I = i.zLevel, D = i.mode, R = i.modeSensitivity, W = i.extendData, j = i.onDrawStart, Y = i.onDrawing, te = i.onDrawEnd, q = i.onClick, ie = i.onDoubleClick, pe = i.onRightClick, ye = i.onPressedMoveStart, Pe = i.onPressedMoving, Oe = i.onPressedMoveEnd, Ze = i.onMouseEnter, Be = i.onMouseLeave, ze = i.onRemoved, ut = i.onSelected, ht = i.onDeselected, st = !1, pt = !1;
            return u !== void 0 && r.setId(u), c !== void 0 && r.setGroupId(c), g !== void 0 && r.setPoints(g) && (st = !0), _ !== void 0 && r.setStyles(_) && (st = !0), w !== void 0 && r.setLock(w), k !== void 0 && r.setVisible(k) && (st = !0), I !== void 0 && r.setZLevel(I) && (st = !0, pt = !0), D !== void 0 && r.setMode(D), R !== void 0 && r.setModeSensitivity(R), W !== void 0 && r.setExtendData(W) && (st = !0), j !== void 0 && r.setOnDrawStartCallback(j), Y !== void 0 && r.setOnDrawingCallback(Y), te !== void 0 && r.setOnDrawEndCallback(te), q !== void 0 && r.setOnClickCallback(q), ie !== void 0 && r.setOnDoubleClickCallback(ie), pe !== void 0 && r.setOnRightClickCallback(pe), ye !== void 0 && r.setOnPressedMoveStartCallback(ye), Pe !== void 0 && r.setOnPressedMovingCallback(Pe), Oe !== void 0 && r.setOnPressedMoveEndCallback(Oe), Ze !== void 0 && r.setOnMouseEnterCallback(Ze), Be !== void 0 && r.setOnMouseLeaveCallback(Be), ze !== void 0 && r.setOnRemovedCallback(ze), ut !== void 0 && r.setOnSelectedCallback(ut), ht !== void 0 && r.setOnDeselectedCallback(ht), [st, pt];
          }, l.prototype.getInstanceById = function(r) {
            var i, u;
            try {
              for (var c = ct(this._instances), g = c.next(); !g.done; g = c.next()) {
                var _ = g.value, w = _[1], k = w.find(function(I) {
                  return I.id === r;
                });
                if (k !== void 0)
                  return k;
              }
            } catch (I) {
              i = { error: I };
            } finally {
              try {
                g && !g.done && (u = c.return) && u.call(c);
              } finally {
                if (i)
                  throw i.error;
              }
            }
            return this._progressInstanceInfo !== null && this._progressInstanceInfo.instance.id === r ? this._progressInstanceInfo.instance : null;
          }, l.prototype._sort = function(r) {
            var i;
            r !== void 0 ? (i = this._instances.get(r)) === null || i === void 0 || i.sort(function(u, c) {
              return u.defaultZLevel - c.defaultZLevel;
            }).sort(function(u, c) {
              return u.zLevel - c.zLevel;
            }) : this._instances.forEach(function(u) {
              u.sort(function(c, g) {
                return c.defaultZLevel - g.defaultZLevel;
              }).sort(function(c, g) {
                return c.zLevel - g.zLevel;
              });
            });
          }, l.prototype.addInstances = function(r, i, u) {
            var c = this, g = r.map(function(_) {
              var w, k, I, D, R, W = (w = _.id) !== null && w !== void 0 ? w : Wr(Cs);
              if (c.getInstanceById(W) === null) {
                var j = Es(_.name);
                if (j !== null) {
                  var Y = new j(), te = ((k = c._counter.get(i)) !== null && k !== void 0 ? k : 0) + 1;
                  c._counter.set(i, te), Y.setDefaultZLevel(te), Y.setPaneId(i);
                  var q = (I = _.groupId) !== null && I !== void 0 ? I : W;
                  return _.id = W, _.groupId = q, c._overrideInstance(Y, _), Y.isDrawing() ? c._progressInstanceInfo = { paneId: i, instance: Y, appointPaneFlag: u } : (c._instances.has(i) || c._instances.set(i, []), (D = c._instances.get(i)) === null || D === void 0 || D.push(Y)), Y.isStart() && ((R = Y.onDrawStart) === null || R === void 0 || R.call(Y, { overlay: Y })), W;
                }
              }
              return null;
            });
            return g.some(function(_) {
              return _ !== null;
            }) && (this._sort(), this._chartStore.getChart().updatePane(1, i)), g;
          }, l.prototype.getProgressInstanceInfo = function() {
            return this._progressInstanceInfo;
          }, l.prototype.progressInstanceComplete = function() {
            var r;
            if (this._progressInstanceInfo !== null) {
              var i = this._progressInstanceInfo, u = i.instance, c = i.paneId;
              u.isDrawing() || (this._instances.has(c) || this._instances.set(c, []), (r = this._instances.get(c)) === null || r === void 0 || r.push(u), this._sort(c), this._progressInstanceInfo = null);
            }
          }, l.prototype.updateProgressInstanceInfo = function(r, i) {
            this._progressInstanceInfo !== null && (i !== void 0 && i && (this._progressInstanceInfo.appointPaneFlag = i), this._progressInstanceInfo.paneId = r, this._progressInstanceInfo.instance.setPaneId(r));
          }, l.prototype.getInstances = function(r) {
            var i;
            if (r === void 0) {
              var u = [];
              return this._instances.forEach(function(c) {
                u = u.concat(c);
              }), u;
            }
            return (i = this._instances.get(r)) !== null && i !== void 0 ? i : [];
          }, l.prototype.override = function(r) {
            var i = this, u = r.id, c = r.groupId, g = r.name, _ = !1, w = !1, k = function(R) {
              var W = i._overrideInstance(R, r);
              W[0] && (_ = !0), W[1] && (w = !0);
            };
            if (u !== void 0) {
              var I = this.getInstanceById(u);
              I !== null && k(I);
            } else if (this._instances.forEach(function(R) {
              R.forEach(function(W) {
                (g !== void 0 && W.name === g || c !== void 0 && W.groupId === c || g === void 0 && c === void 0) && k(W);
              });
            }), this._progressInstanceInfo !== null) {
              var D = this._progressInstanceInfo.instance;
              (g !== void 0 && D.name === g || c !== void 0 && D.groupId === c || g === void 0 && c === void 0) && k(D);
            }
            w && this._sort(), _ && this._chartStore.getChart().updatePane(
              1
              /* UpdateLevel.Overlay */
            );
          }, l.prototype.removeInstance = function(r) {
            var i, u, c, g = function(Y, te) {
              if (Y.id !== void 0) {
                if (te.id !== Y.id)
                  return !1;
              } else if (Y.groupId !== void 0) {
                if (te.groupId !== Y.groupId)
                  return !1;
              } else if (Y.name !== void 0 && te.name !== Y.name)
                return !1;
              return !0;
            }, _ = [];
            if (this._progressInstanceInfo !== null) {
              var w = this._progressInstanceInfo.instance;
              (r === void 0 || r !== void 0 && g(r, w)) && (_.push(this._progressInstanceInfo.paneId), (c = w.onRemoved) === null || c === void 0 || c.call(w, { overlay: w }), this._progressInstanceInfo = null);
            }
            if (r !== void 0) {
              var k = /* @__PURE__ */ new Map(), I = function(Y) {
                var te = Y[1], q = te.filter(function(ie) {
                  var pe;
                  return g(r, ie) ? (_.includes(Y[0]) || _.push(Y[0]), (pe = ie.onRemoved) === null || pe === void 0 || pe.call(ie, { overlay: ie }), !1) : !0;
                });
                q.length > 0 && k.set(Y[0], q);
              };
              try {
                for (var D = ct(this._instances), R = D.next(); !R.done; R = D.next()) {
                  var W = R.value;
                  I(W);
                }
              } catch (Y) {
                i = { error: Y };
              } finally {
                try {
                  R && !R.done && (u = D.return) && u.call(D);
                } finally {
                  if (i)
                    throw i.error;
                }
              }
              this._instances = k;
            } else
              this._instances.forEach(function(Y, te) {
                _.push(te), Y.forEach(function(q) {
                  var ie;
                  (ie = q.onRemoved) === null || ie === void 0 || ie.call(q, { overlay: q });
                });
              }), this._instances.clear();
            if (_.length > 0) {
              var j = this._chartStore.getChart();
              _.forEach(function(Y) {
                j.updatePane(1, Y);
              }), j.updatePane(1, Qt.XAXIS);
            }
          }, l.prototype.setPressedInstanceInfo = function(r) {
            this._pressedInstanceInfo = r;
          }, l.prototype.getPressedInstanceInfo = function() {
            return this._pressedInstanceInfo;
          }, l.prototype.setHoverInstanceInfo = function(r, i) {
            var u, c, g = this._hoverInstanceInfo, _ = g.instance, w = g.figureType, k = g.figureKey, I = g.figureIndex;
            if (((_ == null ? void 0 : _.id) !== ((u = r.instance) === null || u === void 0 ? void 0 : u.id) || w !== r.figureType || I !== r.figureIndex) && (this._hoverInstanceInfo = r, (_ == null ? void 0 : _.id) !== ((c = r.instance) === null || c === void 0 ? void 0 : c.id))) {
              var D = !1, R = !1;
              _ !== null && (R = !0, _.resetZLevel(), T(_.onMouseLeave) && (_.onMouseLeave(nt({ overlay: _, figureKey: k, figureIndex: I }, i)), D = !0)), r.instance !== null && (R = !0, r.instance.setZLevel(Ss), T(r.instance.onMouseEnter) && (r.instance.onMouseEnter(nt({ overlay: r.instance, figureKey: r.figureKey, figureIndex: r.figureIndex }, i)), D = !0)), R && this._sort(), D || this._chartStore.getChart().updatePane(
                1
                /* UpdateLevel.Overlay */
              );
            }
          }, l.prototype.getHoverInstanceInfo = function() {
            return this._hoverInstanceInfo;
          }, l.prototype.setClickInstanceInfo = function(r, i) {
            var u, c, g, _, w, k, I, D, R, W = this._clickInstanceInfo, j = W.paneId, Y = W.instance, te = W.figureType, q = W.figureKey, ie = W.figureIndex;
            if ((c = (u = r.instance) === null || u === void 0 ? void 0 : u.isDrawing()) !== null && c !== void 0 && c || (_ = (g = r.instance) === null || g === void 0 ? void 0 : g.onClick) === null || _ === void 0 || _.call(g, nt({ overlay: r.instance, figureKey: r.figureKey, figureIndex: r.figureIndex }, i)), ((Y == null ? void 0 : Y.id) !== ((w = r.instance) === null || w === void 0 ? void 0 : w.id) || te !== r.figureType || ie !== r.figureIndex) && (this._clickInstanceInfo = r, (Y == null ? void 0 : Y.id) !== ((k = r.instance) === null || k === void 0 ? void 0 : k.id))) {
              (I = Y == null ? void 0 : Y.onDeselected) === null || I === void 0 || I.call(Y, nt({ overlay: Y, figureKey: q, figureIndex: ie }, i)), (R = (D = r.instance) === null || D === void 0 ? void 0 : D.onSelected) === null || R === void 0 || R.call(D, nt({ overlay: r.instance, figureKey: r.figureKey, figureIndex: r.figureIndex }, i));
              var pe = this._chartStore.getChart();
              pe.updatePane(1, r.paneId), j !== r.paneId && pe.updatePane(1, j), pe.updatePane(1, Qt.XAXIS);
            }
          }, l.prototype.getClickInstanceInfo = function() {
            return this._clickInstanceInfo;
          }, l.prototype.isEmpty = function() {
            return this._instances.size === 0 && this._progressInstanceInfo === null;
          }, l.prototype.isDrawing = function() {
            var r, i;
            return this._progressInstanceInfo !== null && ((i = (r = this._progressInstanceInfo) === null || r === void 0 ? void 0 : r.instance.isDrawing()) !== null && i !== void 0 ? i : !1);
          }, l;
        }()
      ), qs = (
        /** @class */
        function() {
          function l() {
            this._actions = /* @__PURE__ */ new Map();
          }
          return l.prototype.execute = function(r, i) {
            var u;
            (u = this._actions.get(r)) === null || u === void 0 || u.execute(i);
          }, l.prototype.subscribe = function(r, i) {
            var u;
            this._actions.has(r) || this._actions.set(r, new Vr()), (u = this._actions.get(r)) === null || u === void 0 || u.subscribe(i);
          }, l.prototype.unsubscribe = function(r, i) {
            var u = this._actions.get(r);
            u !== void 0 && (u.unsubscribe(i), u.isEmpty() && this._actions.delete(r));
          }, l.prototype.has = function(r) {
            var i = this._actions.get(r);
            return i !== void 0 && !i.isEmpty();
          }, l;
        }()
      ), Wo = {
        grid: {
          horizontal: {
            color: "#EDEDED"
          },
          vertical: {
            color: "#EDEDED"
          }
        },
        candle: {
          priceMark: {
            high: {
              color: "#76808F"
            },
            low: {
              color: "#76808F"
            }
          },
          tooltip: {
            rect: {
              color: "#FEFEFE",
              borderColor: "#F2F3F5"
            },
            text: {
              color: "#76808F"
            }
          }
        },
        indicator: {
          tooltip: {
            text: {
              color: "#76808F"
            }
          }
        },
        xAxis: {
          axisLine: {
            color: "#DDDDDD"
          },
          tickText: {
            color: "#76808F"
          },
          tickLine: {
            color: "#DDDDDD"
          }
        },
        yAxis: {
          axisLine: {
            color: "#DDDDDD"
          },
          tickText: {
            color: "#76808F"
          },
          tickLine: {
            color: "#DDDDDD"
          }
        },
        separator: {
          color: "#DDDDDD"
        },
        crosshair: {
          horizontal: {
            line: {
              color: "#76808F"
            },
            text: {
              borderColor: "#686D76",
              backgroundColor: "#686D76"
            }
          },
          vertical: {
            line: {
              color: "#76808F"
            },
            text: {
              borderColor: "#686D76",
              backgroundColor: "#686D76"
            }
          }
        }
      }, la = {
        grid: {
          horizontal: {
            color: "#292929"
          },
          vertical: {
            color: "#292929"
          }
        },
        candle: {
          priceMark: {
            high: {
              color: "#929AA5"
            },
            low: {
              color: "#929AA5"
            }
          },
          tooltip: {
            rect: {
              color: "rgba(10, 10, 10, .6)",
              borderColor: "rgba(10, 10, 10, .6)"
            },
            text: {
              color: "#929AA5"
            }
          }
        },
        indicator: {
          tooltip: {
            text: {
              color: "#929AA5"
            }
          }
        },
        xAxis: {
          axisLine: {
            color: "#333333"
          },
          tickText: {
            color: "#929AA5"
          },
          tickLine: {
            color: "#333333"
          }
        },
        yAxis: {
          axisLine: {
            color: "#333333"
          },
          tickText: {
            color: "#929AA5"
          },
          tickLine: {
            color: "#333333"
          }
        },
        separator: {
          color: "#333333"
        },
        crosshair: {
          horizontal: {
            line: {
              color: "#929AA5"
            },
            text: {
              borderColor: "#373a40",
              backgroundColor: "#373a40"
            }
          },
          vertical: {
            line: {
              color: "#929AA5"
            },
            text: {
              borderColor: "#373a40",
              backgroundColor: "#373a40"
            }
          }
        }
      }, xn = {
        light: Wo,
        dark: la
      };
      function bn(l, r) {
        xn[l] = r;
      }
      function Ms(l) {
        var r;
        return (r = xn[l]) !== null && r !== void 0 ? r : null;
      }
      var Yo = (
        /** @class */
        function() {
          function l(r, i) {
            this._styles = Ue(), this._customApi = dt(), this._locale = ft, this._precision = { price: 2, volume: 0 }, this._thousandsSeparator = ",", this._dataList = [], this._timeScaleStore = new ea(this), this._indicatorStore = new xs(this), this._overlayStore = new oo(this), this._tooltipStore = new pr(this), this._actionStore = new qs(), this._visibleDataList = [], this._chart = r, this.setOptions(i);
          }
          return l.prototype.adjustVisibleDataList = function() {
            this._visibleDataList = [];
            for (var r = this._timeScaleStore.getVisibleRange(), i = r.from, u = r.to, c = i; c < u; c++) {
              var g = this._dataList[c], _ = this._timeScaleStore.dataIndexToCoordinate(c);
              this._visibleDataList.push({
                dataIndex: c,
                x: _,
                data: g
              });
            }
          }, l.prototype.setOptions = function(r) {
            if (r !== void 0) {
              var i = r.locale, u = r.timezone, c = r.styles, g = r.customApi;
              i !== void 0 && (this._locale = i), u !== void 0 && this._timeScaleStore.setTimezone(u), c !== void 0 && (oe(c) ? y(this._styles, Ms(c)) : y(this._styles, c)), g !== void 0 && y(this._customApi, g), r.thousandsSeparator !== void 0 && (this._thousandsSeparator = r.thousandsSeparator);
            }
            return this;
          }, l.prototype.getStyles = function() {
            return this._styles;
          }, l.prototype.getLocale = function() {
            return this._locale;
          }, l.prototype.getCustomApi = function() {
            return this._customApi;
          }, l.prototype.getThousandsSeparator = function() {
            return this._thousandsSeparator;
          }, l.prototype.getPrecision = function() {
            return this._precision;
          }, l.prototype.setPrecision = function(r) {
            return this._precision = r, this._indicatorStore.setSeriesPrecision(r), this;
          }, l.prototype.getDataList = function() {
            return this._dataList;
          }, l.prototype.getVisibleDataList = function() {
            return this._visibleDataList;
          }, l.prototype.addData = function(r, i, u) {
            if (S(r)) {
              this._timeScaleStore.setLoading(!1), this._timeScaleStore.setMore(u ?? !0);
              var c = this._dataList.length === 0;
              this._dataList = r.concat(this._dataList), c && this._timeScaleStore.resetOffsetRightDistance(), this._timeScaleStore.adjustVisibleRange();
            } else {
              var g = this._dataList.length;
              if (i >= g) {
                this._dataList.push(r);
                var _ = this._timeScaleStore.getOffsetRightBarCount();
                _ < 0 && this._timeScaleStore.setOffsetRightBarCount(--_), this._timeScaleStore.adjustVisibleRange();
              } else
                this._dataList[i] = r, this.adjustVisibleDataList();
            }
            this._tooltipStore.recalculateCrosshair(!0);
          }, l.prototype.clear = function() {
            this._dataList = [], this._visibleDataList = [], this._timeScaleStore.clear(), this._tooltipStore.clear();
          }, l.prototype.getTimeScaleStore = function() {
            return this._timeScaleStore;
          }, l.prototype.getIndicatorStore = function() {
            return this._indicatorStore;
          }, l.prototype.getOverlayStore = function() {
            return this._overlayStore;
          }, l.prototype.getTooltipStore = function() {
            return this._tooltipStore;
          }, l.prototype.getActionStore = function() {
            return this._actionStore;
          }, l.prototype.getChart = function() {
            return this._chart;
          }, l;
        }()
      );
      function Ma(l) {
        return window.requestAnimationFrame == null ? window.setTimeout(l, 20) : window.requestAnimationFrame(l);
      }
      function Da(l) {
        window.cancelAnimationFrame == null && window.clearTimeout(l), window.cancelAnimationFrame(l);
      }
      var Ri = -1, Fa = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            var i = l !== null && l.apply(this, arguments) || this;
            return i._mainRequestAnimationId = Ri, i._overlayRequestAnimationId = Ri, i;
          }
          return r.prototype.getContainerStyle = function() {
            return {
              margin: "0",
              padding: "0",
              position: "absolute",
              top: "0",
              overflow: "hidden",
              boxSizing: "border-box"
            };
          }, r.prototype.initDom = function(i) {
            this._mainCanvas = wn("canvas", {
              position: "absolute",
              top: "0",
              left: "0",
              zIndex: "2",
              boxSizing: "border-box"
            }), this._mainCtx = this._mainCanvas.getContext("2d"), this._overlayCanvas = wn("canvas", {
              position: "absolute",
              top: "0",
              left: "0",
              zIndex: "2",
              boxSizing: "border-box"
            }), this._overlayCtx = this._overlayCanvas.getContext("2d"), i.appendChild(this._mainCanvas), i.appendChild(this._overlayCanvas);
          }, r.prototype._optimalUpdateMain = function(i, u) {
            var c = this;
            this._mainRequestAnimationId !== Ri && (Da(this._mainRequestAnimationId), this._mainRequestAnimationId = Ri), this._mainRequestAnimationId = Ma(function() {
              if (i !== c._mainCanvas.offsetWidth || u !== c._mainCanvas.offsetHeight) {
                c._mainCtx.clearRect(0, 0, c._mainCanvas.offsetWidth, c._mainCanvas.offsetHeight);
                var g = Gn(c._mainCanvas), _ = Math.floor(i * g), w = Math.floor(u * g);
                c._mainCanvas.style.width = "".concat(i, "px"), c._mainCanvas.style.height = "".concat(u, "px"), c._mainCanvas.width = _, c._mainCanvas.height = w, c._mainCtx.scale(g, g);
              } else
                c._mainCtx.clearRect(0, 0, c._mainCanvas.offsetWidth, c._mainCanvas.offsetHeight);
              c.updateMain(c._mainCtx);
            });
          }, r.prototype._optimalUpdateOverlay = function(i, u) {
            var c = this;
            this._overlayRequestAnimationId !== Ri && (Da(this._overlayRequestAnimationId), this._overlayRequestAnimationId = Ri), this._overlayRequestAnimationId = Ma(function() {
              if (i !== c._overlayCanvas.offsetWidth || u !== c._overlayCanvas.offsetHeight) {
                c._overlayCtx.clearRect(0, 0, c._overlayCanvas.offsetWidth, c._overlayCanvas.offsetHeight);
                var g = Gn(c._overlayCanvas), _ = Math.floor(i * g), w = Math.floor(u * g);
                c._overlayCanvas.style.width = "".concat(i, "px"), c._overlayCanvas.style.height = "".concat(u, "px"), c._overlayCanvas.width = _, c._overlayCanvas.height = w, c._overlayCtx.scale(g, g);
              } else
                c._overlayCtx.clearRect(0, 0, c._overlayCanvas.offsetWidth, c._overlayCanvas.offsetHeight);
              c.updateOverlay(c._overlayCtx);
            });
          }, r.prototype.updateImp = function(i, u, c) {
            var g = u.width, _ = u.height, w = u.left;
            i.style.left = "".concat(w, "px");
            var k = c;
            switch ((g !== i.offsetWidth || _ !== i.offsetHeight) && (i.style.width = "".concat(g, "px"), i.style.height = "".concat(_, "px"), k = 3), k) {
              case 0: {
                this._optimalUpdateMain(g, _);
                break;
              }
              case 1: {
                this._optimalUpdateOverlay(g, _);
                break;
              }
              case 3:
              case 4: {
                this._optimalUpdateMain(g, _), this._optimalUpdateOverlay(g, _);
                break;
              }
            }
          }, r.prototype.getImage = function(i) {
            var u = this.getBounding(), c = u.width, g = u.height, _ = wn("canvas", {
              width: "".concat(c, "px"),
              height: "".concat(g, "px"),
              boxSizing: "border-box"
            }), w = _.getContext("2d"), k = Gn(_);
            return _.width = c * k, _.height = g * k, w.scale(k, k), w.drawImage(this._mainCanvas, 0, 0, c, g), i && w.drawImage(this._overlayCanvas, 0, 0, c, g), _;
          }, r;
        }(No)
      );
      function $a(l, r) {
        var i = l.x - r.x, u = l.y - r.y, c = r.r;
        return !(i * i + u * u > c * c);
      }
      function Xo(l, r, i) {
        var u = r.x, c = r.y, g = r.r, _ = i.style, w = _ === void 0 ? n.PolygonType.Fill : _, k = i.color, I = k === void 0 ? "currentColor" : k, D = i.borderSize, R = D === void 0 ? 1 : D, W = i.borderColor, j = W === void 0 ? "currentColor" : W, Y = i.borderStyle, te = Y === void 0 ? n.LineType.Solid : Y, q = i.borderDashedValue, ie = q === void 0 ? [2, 2] : q;
        (w === n.PolygonType.Fill || i.style === n.PolygonType.StrokeFill) && (l.fillStyle = I, l.beginPath(), l.arc(u, c, g, 0, Math.PI * 2), l.closePath(), l.fill()), (w === n.PolygonType.Stroke || i.style === n.PolygonType.StrokeFill) && (l.strokeStyle = j, l.lineWidth = R, te === n.LineType.Dashed ? l.setLineDash(ie) : l.setLineDash([]), l.beginPath(), l.arc(u, c, g, 0, Math.PI * 2), l.closePath(), l.stroke());
      }
      var jn = {
        name: "circle",
        checkEventOn: $a,
        draw: function(l, r, i) {
          Xo(l, r, i);
        }
      };
      function Ra(l, r) {
        for (var i = !1, u = r.coordinates, c = 0, g = u.length - 1; c < u.length; g = c++)
          u[c].y > l.y != u[g].y > l.y && l.x < (u[g].x - u[c].x) * (l.y - u[c].y) / (u[g].y - u[c].y) + u[c].x && (i = !i);
        return i;
      }
      function Hr(l, r, i) {
        var u = r.coordinates, c = i.style, g = c === void 0 ? n.PolygonType.Fill : c, _ = i.color, w = _ === void 0 ? "currentColor" : _, k = i.borderSize, I = k === void 0 ? 1 : k, D = i.borderColor, R = D === void 0 ? "currentColor" : D, W = i.borderStyle, j = W === void 0 ? n.LineType.Solid : W, Y = i.borderDashedValue, te = Y === void 0 ? [2, 2] : Y;
        if (g === n.PolygonType.Fill || i.style === n.PolygonType.StrokeFill) {
          l.fillStyle = w, l.beginPath(), l.moveTo(u[0].x, u[0].y);
          for (var q = 1; q < u.length; q++)
            l.lineTo(u[q].x, u[q].y);
          l.closePath(), l.fill();
        }
        if (g === n.PolygonType.Stroke || i.style === n.PolygonType.StrokeFill) {
          l.strokeStyle = R, l.lineWidth = I, j === n.LineType.Dashed ? l.setLineDash(te) : l.setLineDash([]), l.beginPath(), l.moveTo(u[0].x, u[0].y);
          for (var q = 1; q < u.length; q++)
            l.lineTo(u[q].x, u[q].y);
          l.closePath(), l.stroke();
        }
      }
      var Ds = {
        name: "polygon",
        checkEventOn: Ra,
        draw: function(l, r, i) {
          Hr(l, r, i);
        }
      };
      function so(l) {
        return l === "transparent";
      }
      function p(l, r) {
        var i = r.x, u = r.width;
        u < Dn * 2 && (i -= Dn, u = Dn * 2);
        var c = r.y, g = r.height;
        return g < Dn * 2 && (c -= Dn, g = Dn * 2), l.x >= i && l.x <= i + u && l.y >= c && l.y <= c + g;
      }
      function o(l, r, i) {
        var u = r.x, c = r.y, g = r.width, _ = r.height, w = i.style, k = w === void 0 ? n.PolygonType.Fill : w, I = i.color, D = I === void 0 ? "transparent" : I, R = i.borderSize, W = R === void 0 ? 1 : R, j = i.borderColor, Y = j === void 0 ? "transparent" : j, te = i.borderStyle, q = te === void 0 ? n.LineType.Solid : te, ie = i.borderRadius, pe = ie === void 0 ? 0 : ie, ye = i.borderDashedValue, Pe = ye === void 0 ? [2, 2] : ye;
        if (k === n.PolygonType.Fill || i.style === n.PolygonType.StrokeFill) {
          var Oe = !0;
          oe(D) && (Oe = !so(D)), Oe && (l.fillStyle = D, l.beginPath(), l.moveTo(u + pe, c), l.arcTo(u + g, c, u + g, c + _, pe), l.arcTo(u + g, c + _, u, c + _, pe), l.arcTo(u, c + _, u, c, pe), l.arcTo(u, c, u + g, c, pe), l.closePath(), l.fill());
        }
        (k === n.PolygonType.Stroke || i.style === n.PolygonType.StrokeFill) && !so(Y) && W >= 0 && (l.strokeStyle = Y, l.lineWidth = W, q === n.LineType.Dashed ? l.setLineDash(Pe) : l.setLineDash([]), l.beginPath(), l.moveTo(u + pe, c), l.arcTo(u + g, c, u + g, c + _, pe), l.arcTo(u + g, c + _, u, c + _, pe), l.arcTo(u, c + _, u, c, pe), l.arcTo(u, c, u + g, c, pe), l.closePath(), l.stroke());
      }
      var s = {
        name: "rect",
        checkEventOn: p,
        draw: function(l, r, i) {
          o(l, r, i);
        }
      };
      function d(l, r) {
        var i = r.size, u = i === void 0 ? 12 : i, c = r.paddingLeft, g = c === void 0 ? 0 : c, _ = r.paddingTop, w = _ === void 0 ? 0 : _, k = r.paddingRight, I = k === void 0 ? 0 : k, D = r.paddingBottom, R = D === void 0 ? 0 : D, W = r.weight, j = W === void 0 ? "normal" : W, Y = r.family, te = l.x, q = l.y, ie = l.text, pe = l.align, ye = pe === void 0 ? "left" : pe, Pe = l.baseline, Oe = Pe === void 0 ? "top" : Pe, Ze = l.width, Be = l.height, ze = Ze ?? g + jr(ie, u, j, Y) + I, ut = Be ?? w + u + R, ht;
        switch (ye) {
          case "left":
          case "start": {
            ht = te;
            break;
          }
          case "right":
          case "end": {
            ht = te - ze;
            break;
          }
          default: {
            ht = te - ze / 2;
            break;
          }
        }
        var st;
        switch (Oe) {
          case "top":
          case "hanging": {
            st = q;
            break;
          }
          case "bottom":
          case "ideographic":
          case "alphabetic": {
            st = q - ut;
            break;
          }
          default: {
            st = q - ut / 2;
            break;
          }
        }
        return { x: ht, y: st, width: ze, height: ut };
      }
      function h(l, r, i) {
        var u = d(r, i), c = u.x, g = u.y, _ = u.width, w = u.height;
        return l.x >= c && l.x <= c + _ && l.y >= g && l.y <= g + w;
      }
      function m(l, r, i) {
        var u = r.text, c = i.color, g = c === void 0 ? "currentColor" : c, _ = i.size, w = _ === void 0 ? 12 : _, k = i.family, I = i.weight, D = i.paddingLeft, R = D === void 0 ? 0 : D, W = i.paddingTop, j = W === void 0 ? 0 : W, Y = i.paddingRight, te = Y === void 0 ? 0 : Y, q = d(r, i);
        o(l, q, nt(nt({}, i), { color: i.backgroundColor })), l.textAlign = "left", l.textBaseline = "top", l.font = Yr(w, I, k), l.fillStyle = g, l.fillText(u, q.x + R, q.y + j, q.width - R - te);
      }
      var x = {
        name: "text",
        checkEventOn: function(l, r, i) {
          return h(l, r, i);
        },
        draw: function(l, r, i) {
          m(l, r, i);
        }
      }, C = x, L = m;
      function A(l, r) {
        var i = l.x - r.x, u = l.y - r.y;
        return Math.sqrt(i * i + u * u);
      }
      function F(l, r) {
        if (Math.abs(A(l, r) - r.r) < Dn) {
          var i = r.r, u = r.startAngle, c = r.endAngle, g = i * Math.cos(u) + r.x, _ = i * Math.sin(u) + r.y, w = i * Math.cos(c) + r.x, k = i * Math.sin(c) + r.y;
          return l.x <= Math.max(g, w) + Dn && l.x >= Math.min(g, w) - Dn && l.y <= Math.max(_, k) + Dn && l.y >= Math.min(_, k) - Dn;
        }
        return !1;
      }
      function B(l, r, i) {
        var u = r.x, c = r.y, g = r.r, _ = r.startAngle, w = r.endAngle, k = i.style, I = k === void 0 ? n.LineType.Solid : k, D = i.size, R = D === void 0 ? 1 : D, W = i.color, j = W === void 0 ? "currentColor" : W, Y = i.dashedValue, te = Y === void 0 ? [2, 2] : Y;
        l.lineWidth = R, l.strokeStyle = j, I === n.LineType.Dashed ? l.setLineDash(te) : l.setLineDash([]), l.beginPath(), l.arc(u, c, g, _, w), l.stroke(), l.closePath();
      }
      var V = {
        name: "arc",
        checkEventOn: F,
        draw: function(l, r, i) {
          B(l, r, i);
        }
      }, Z = {}, J = [jn, $o, Ds, s, x, C, V];
      J.forEach(function(l) {
        Z[l.name] = _i.extend(l);
      });
      function Q() {
        return Object.keys(Z);
      }
      function ne(l) {
        Z[l.name] = _i.extend(l);
      }
      function de(l) {
        var r;
        return (r = Z[l]) !== null && r !== void 0 ? r : null;
      }
      function be(l) {
        var r;
        return (r = Z[l]) !== null && r !== void 0 ? r : null;
      }
      var me = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i) {
            var u = l.call(this) || this;
            return u._widget = i, u;
          }
          return r.prototype.getWidget = function() {
            return this._widget;
          }, r.prototype.createFigure = function(i, u, c, g) {
            var _ = de(i);
            if (_ !== null) {
              var w = new _({ name: i, attrs: u, styles: c });
              if (g !== void 0) {
                for (var k in g)
                  g.hasOwnProperty(k) && w.registerEvent(k, g[k]);
                this.addChild(w);
              }
              return w;
            }
            return null;
          }, r.prototype.draw = function(i) {
            this.clear(), this.drawImp(i);
          }, r;
        }(wa)
      ), Me = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u = this, c, g = this.getWidget(), _ = this.getWidget().getPane(), w = _.getChart(), k = g.getBounding(), I = w.getStyles().grid, D = I.show;
            if (D) {
              i.save(), i.globalCompositeOperation = "destination-over";
              var R = I.horizontal, W = R.show;
              if (W) {
                var j = _.getAxisComponent();
                j.getTicks().forEach(function(ie) {
                  var pe;
                  (pe = u.createFigure("line", {
                    coordinates: [
                      { x: 0, y: ie.coord },
                      { x: k.width, y: ie.coord }
                    ]
                  }, R)) === null || pe === void 0 || pe.draw(i);
                });
              }
              var Y = I.vertical, te = Y.show;
              if (te) {
                var q = (c = w.getPaneById(Qt.XAXIS)) === null || c === void 0 ? void 0 : c.getAxisComponent();
                q.getTicks().forEach(function(ie) {
                  var pe;
                  (pe = u.createFigure("line", {
                    coordinates: [
                      { x: ie.coord, y: 0 },
                      { x: ie.coord, y: k.height }
                    ]
                  }, Y)) === null || pe === void 0 || pe.draw(i);
                });
              }
              i.restore();
            }
          }, r;
        }(me)
      ), Re = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.eachChildren = function(i) {
            var u = this.getWidget().getPane(), c = u.getChart().getChartStore(), g = c.getVisibleDataList(), _ = c.getTimeScaleStore().getBarSpace();
            g.forEach(function(w, k) {
              i(w, _, k);
            });
          }, r;
        }(me)
      ), He = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            var i = l !== null && l.apply(this, arguments) || this;
            return i._boundCandleBarClickEvent = function(u) {
              return function() {
                return i.getWidget().getPane().getChart().getChartStore().getActionStore().execute(n.ActionType.OnCandleBarClick, u), !1;
              };
            }, i;
          }
          return r.prototype.drawImp = function(i) {
            var u = this, c = this.getWidget().getPane(), g = c.getId() === Qt.CANDLE, _ = c.getChart().getChartStore(), w = this.getCandleBarOptions(_);
            if (w !== null) {
              var k = c.getAxisComponent();
              this.eachChildren(function(I, D) {
                u._drawCandleBar(i, k, I, D, w, g);
              });
            }
          }, r.prototype.getCandleBarOptions = function(i) {
            var u = i.getStyles().candle;
            return {
              type: u.type,
              styles: u.bar
            };
          }, r.prototype._drawCandleBar = function(i, u, c, g, _, w) {
            var k = this, I = c.data, D = c.x, R = I.open, W = I.high, j = I.low, Y = I.close, te = g.halfGapBar, q = g.gapBar, ie = _.type, pe = _.styles, ye, Pe, Oe;
            Y > R ? (ye = pe.upColor, Pe = pe.upBorderColor, Oe = pe.upWickColor) : Y < R ? (ye = pe.downColor, Pe = pe.downBorderColor, Oe = pe.downWickColor) : (ye = pe.noChangeColor, Pe = pe.noChangeBorderColor, Oe = pe.noChangeWickColor);
            var Ze = u.convertToPixel(R), Be = u.convertToPixel(Y), ze = [
              Ze,
              Be,
              u.convertToPixel(W),
              u.convertToPixel(j)
            ];
            ze.sort(function(st, pt) {
              return st - pt;
            });
            var ut = Math.max(1, ze[2] - ze[1]), ht = [];
            ie !== n.CandleType.Ohlc ? (ht.push({
              name: "rect",
              attrs: {
                x: D - 0.5,
                y: ze[0],
                width: 1,
                height: ze[1] - ze[0]
              },
              styles: { color: Oe }
            }), ie === n.CandleType.CandleStroke || ie === n.CandleType.CandleUpStroke && R < Y || ie === n.CandleType.CandleDownStroke && R > Y ? ht.push({
              name: "rect",
              attrs: {
                x: D - te + 0.5,
                y: ze[1],
                width: q - 1,
                height: ut
              },
              styles: {
                style: n.PolygonType.Stroke,
                borderColor: Pe
              }
            }) : ht.push({
              name: "rect",
              attrs: {
                x: D - te + 0.5,
                y: ze[1],
                width: q - 1,
                height: ut
              },
              styles: {
                style: n.PolygonType.StrokeFill,
                color: ye,
                borderColor: Pe
              }
            }), ht.push({
              name: "rect",
              attrs: {
                x: D - 0.5,
                y: ze[2],
                width: 1,
                height: ze[3] - ze[2]
              },
              styles: { color: Oe }
            })) : ht = [
              {
                name: "rect",
                attrs: {
                  x: D - 0.5,
                  y: ze[0],
                  width: 1,
                  height: ze[3] - ze[0]
                },
                styles: { color: ye }
              },
              {
                name: "rect",
                attrs: {
                  x: D - te,
                  y: Ze,
                  width: te,
                  height: 1
                },
                styles: { color: ye }
              },
              {
                name: "rect",
                attrs: {
                  x: D,
                  y: Be,
                  width: te,
                  height: 1
                },
                styles: { color: ye }
              }
            ], ht.forEach(function(st) {
              var pt, It = st.attrs, wt = st.styles, Bt;
              w && (Bt = {
                mouseClickEvent: k._boundCandleBarClickEvent(c)
              }), (pt = k.createFigure("rect", It, wt, Bt)) === null || pt === void 0 || pt.draw(i);
            });
          }, r;
        }(Re)
      ), Ke = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getCandleBarOptions = function(i) {
            var u, c, g = this.getWidget().getPane(), _ = g.getAxisComponent();
            if (!_.isInCandle()) {
              var w = i.getIndicatorStore().getInstances(g.getId());
              try {
                for (var k = ct(w), I = k.next(); !I.done; I = k.next()) {
                  var D = I.value, R = D[1];
                  if (R.shouldOhlc && R.visible) {
                    var W = R.styles, j = i.getStyles().indicator, Y = ve(W, "ohlc.upColor", j.ohlc.upColor), te = ve(W, "ohlc.downColor", j.ohlc.downColor), q = ve(W, "ohlc.noChangeColor", j.ohlc.noChangeColor);
                    return {
                      type: n.CandleType.Ohlc,
                      styles: {
                        upColor: Y,
                        downColor: te,
                        noChangeColor: q,
                        upBorderColor: Y,
                        downBorderColor: te,
                        noChangeBorderColor: q,
                        upWickColor: Y,
                        downWickColor: te,
                        noChangeWickColor: q
                      }
                    };
                  }
                }
              } catch (ie) {
                u = { error: ie };
              } finally {
                try {
                  I && !I.done && (c = k.return) && c.call(k);
                } finally {
                  if (u)
                    throw u.error;
                }
              }
            }
            return null;
          }, r.prototype.drawImp = function(i) {
            var u = this, c;
            l.prototype.drawImp.call(this, i);
            var g = this.getWidget(), _ = g.getPane(), w = _.getChart(), k = g.getBounding(), I = (c = w.getPaneById(Qt.XAXIS)) === null || c === void 0 ? void 0 : c.getAxisComponent(), D = _.getAxisComponent(), R = w.getChartStore(), W = R.getDataList(), j = R.getTimeScaleStore(), Y = j.getVisibleRange(), te = R.getIndicatorStore().getInstances(_.getId()), q = R.getStyles().indicator;
            te.forEach(function(ie) {
              var pe;
              if (ie.visible) {
                var ye = !1;
                if (ie.draw !== null && (i.save(), ye = (pe = ie.draw({
                  ctx: i,
                  kLineDataList: W,
                  indicator: ie,
                  visibleRange: Y,
                  bounding: k,
                  barSpace: j.getBarSpace(),
                  defaultStyles: q,
                  xAxis: I,
                  yAxis: D
                })) !== null && pe !== void 0 ? pe : !1, i.restore()), !ye) {
                  var Pe = ie.result;
                  u.eachChildren(function(Oe, Ze) {
                    var Be, ze, ut, ht = Ze.halfGapBar, st = Ze.gapBar, pt = Oe.dataIndex, It = Oe.x, wt = I.convertToPixel(pt - 1), Bt = I.convertToPixel(pt + 1), Wt = (Be = Pe[pt - 1]) !== null && Be !== void 0 ? Be : {}, Tn = (ze = Pe[pt]) !== null && ze !== void 0 ? ze : {}, Fn = (ut = Pe[pt + 1]) !== null && ut !== void 0 ? ut : {}, zn = { x: wt }, En = { x: It }, Nt = { x: Bt };
                    ie.figures.forEach(function(un) {
                      var en = un.key;
                      zn[en] = D.convertToPixel(Wt[en]), En[en] = D.convertToPixel(Tn[en]), Nt[en] = D.convertToPixel(Fn[en]);
                    }), Lr(W, ie, pt, q, function(un, en) {
                      var $n, ar, gr;
                      if (H(Tn[un.key])) {
                        var tn = En[un.key], nn = ($n = un.attrs) === null || $n === void 0 ? void 0 : $n.call(un, {
                          coordinate: { prev: zn, current: En, next: Nt },
                          bounding: k,
                          barSpace: Ze,
                          xAxis: I,
                          yAxis: D
                        });
                        if (!H(nn))
                          switch (un.type) {
                            case "circle": {
                              nn = { x: It, y: tn, r: ht };
                              break;
                            }
                            case "rect":
                            case "bar": {
                              var ei = (ar = un.baseValue) !== null && ar !== void 0 ? ar : D.getExtremum().min, Rr = D.convertToPixel(ei), cn = Math.abs(Rr - tn);
                              ei !== Tn[un.key] && (cn = Math.max(1, cn));
                              var kr = void 0;
                              tn > Rr ? kr = Rr : kr = tn, nn = {
                                x: It - ht,
                                y: kr,
                                width: st,
                                height: cn
                              };
                              break;
                            }
                            case "line": {
                              z(En[un.key]) && z(Nt[un.key]) && (nn = {
                                coordinates: [
                                  { x: En.x, y: En[un.key] },
                                  { x: Nt.x, y: Nt[un.key] }
                                ]
                              });
                              break;
                            }
                          }
                        if (H(nn)) {
                          var Zr = un.type;
                          (gr = u.createFigure(Zr === "bar" ? "rect" : Zr, nn, en)) === null || gr === void 0 || gr.draw(i);
                        }
                      }
                    });
                  });
                }
              }
            });
          }, r;
        }(He)
      ), rt = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u = this.getWidget(), c = u.getPane(), g = u.getBounding(), _ = u.getPane().getChart().getChartStore(), w = _.getTooltipStore().getCrosshair(), k = _.getStyles().crosshair;
            if (w.paneId !== void 0 && k.show) {
              if (w.paneId === c.getId()) {
                var I = w.y;
                this._drawLine(i, [
                  { x: 0, y: I },
                  { x: g.width, y: I }
                ], k.horizontal);
              }
              var D = w.realX;
              this._drawLine(i, [
                { x: D, y: 0 },
                { x: D, y: g.height }
              ], k.vertical);
            }
          }, r.prototype._drawLine = function(i, u, c) {
            var g;
            if (c.show) {
              var _ = c.line;
              _.show && ((g = this.createFigure("line", { coordinates: u }, _)) === null || g === void 0 || g.draw(i));
            }
          }, r;
        }(me)
      ), ot = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            var i = l !== null && l.apply(this, arguments) || this;
            return i._boundIconClickEvent = function(u, c) {
              return function() {
                var g = i.getWidget().getPane();
                return g.getChart().getChartStore().getActionStore().execute(n.ActionType.OnTooltipIconClick, nt(nt({}, u), { iconId: c })), !0;
              };
            }, i._boundIconMouseMoveEvent = function(u, c) {
              return function() {
                var g = i.getWidget().getPane(), _ = g.getChart().getChartStore().getTooltipStore();
                return _.setActiveIcon(nt(nt({}, u), { iconId: c })), !0;
              };
            }, i;
          }
          return r.prototype.drawImp = function(i) {
            var u = this.getWidget(), c = u.getPane(), g = c.getChart().getChartStore(), _ = g.getTooltipStore().getCrosshair();
            if (_.kLineData !== void 0) {
              var w = u.getBounding(), k = g.getCustomApi(), I = g.getThousandsSeparator(), D = g.getIndicatorStore().getInstances(c.getId()), R = g.getTooltipStore().getActiveIcon(), W = g.getStyles().indicator;
              this.drawIndicatorTooltip(i, c.getId(), g.getDataList(), _, R, D, k, I, w, W);
            }
          }, r.prototype.drawIndicatorTooltip = function(i, u, c, g, _, w, k, I, D, R, W) {
            var j = this, Y = R.tooltip, te = 0;
            if (this.isDrawTooltip(g, Y)) {
              var q = Y.text, ie = 0, pe = W ?? 0, ye = 0;
              w.forEach(function(Pe) {
                var Oe = j.getIndicatorTooltipData(c, g, Pe, k, I, R), Ze = Oe.name, Be = Oe.calcParamsText, ze = Oe.values, ut = Oe.icons, ht = Ze.length > 0, st = ze.length > 0;
                if (ht || st) {
                  var pt = Tt(j.classifyTooltipIcons(ut), 3), It = pt[0], wt = pt[1], Bt = pt[2], Wt = Tt(j.drawStandardTooltipIcons(i, D, { paneId: u, indicatorName: Pe.name, iconId: "" }, _, It, ie, pe, ye), 4), Tn = Wt[0], Fn = Wt[1], zn = Wt[2], En = Wt[3];
                  if (ie = Tn, pe = Fn, te += En, ye = zn, ht) {
                    var Nt = Ze;
                    Be.length > 0 && (Nt = "".concat(Nt).concat(Be));
                    var un = Tt(j.drawStandardTooltipLabels(i, D, [{ title: { text: "", color: q.color }, value: { text: Nt, color: q.color } }], ie, pe, ye, q), 4), en = un[0], $n = un[1], ar = un[2], gr = un[3];
                    ie = en, pe = $n, te += gr, ye = ar;
                  }
                  var tn = Tt(j.drawStandardTooltipIcons(i, D, { paneId: u, indicatorName: Pe.name, iconId: "" }, _, wt, ie, pe, ye), 4), nn = tn[0], ei = tn[1], Rr = tn[2], cn = tn[3];
                  if (ie = nn, pe = ei, te += cn, ye = Rr, st) {
                    var kr = Tt(j.drawStandardTooltipLabels(i, D, ze, ie, pe, ye, q), 4), Zr = kr[0], wi = kr[1], Ti = kr[2], yr = kr[3];
                    ie = Zr, pe = wi, te += yr, ye = Ti;
                  }
                  var mr = Tt(j.drawStandardTooltipIcons(i, D, { paneId: u, indicatorName: Pe.name, iconId: "" }, _, Bt, ie, pe, ye), 4), Or = mr[1], Bi = mr[2], Ni = mr[3];
                  ie = 0, te += Ni, pe = Or + Bi, ye = 0;
                }
              });
            }
            return te;
          }, r.prototype.drawStandardTooltipIcons = function(i, u, c, g, _, w, k, I) {
            var D = this, R = w, W = k, j = 0, Y = 0, te = 0;
            return _.length > 0 && (_.forEach(function(q) {
              var ie = q.marginLeft, pe = q.marginTop, ye = q.marginRight, Pe = q.marginBottom, Oe = q.paddingLeft, Ze = q.paddingTop, Be = q.paddingRight, ze = q.paddingBottom, ut = q.size, ht = q.fontFamily, st = q.icon;
              i.font = Yr(ut, "normal", ht), j += ie + Oe + i.measureText(st).width + Be + ye, Y = Math.max(Y, pe + Ze + ut + ze + Pe);
            }), R + j > u.width ? (R = _[0].marginLeft, W += I, te = Y) : te = Math.max(0, Y - I), _.forEach(function(q) {
              var ie, pe = q.marginLeft, ye = q.marginTop, Pe = q.marginRight, Oe = q.paddingLeft, Ze = q.paddingTop, Be = q.paddingRight, ze = q.paddingBottom, ut = q.color, ht = q.activeColor, st = q.size, pt = q.fontFamily, It = q.icon, wt = q.backgroundColor, Bt = q.activeBackgroundColor;
              R += pe;
              var Wt = (g == null ? void 0 : g.paneId) === c.paneId && (g == null ? void 0 : g.indicatorName) === c.indicatorName && (g == null ? void 0 : g.iconId) === q.id;
              (ie = D.createFigure("text", { text: It, x: R, y: W + ye }, {
                paddingLeft: Oe,
                paddingTop: Ze,
                paddingRight: Be,
                paddingBottom: ze,
                color: Wt ? ht : ut,
                size: st,
                family: pt,
                backgroundColor: Wt ? Bt : wt
              }, {
                mouseClickEvent: D._boundIconClickEvent(c, q.id),
                mouseMoveEvent: D._boundIconMouseMoveEvent(c, q.id)
              })) === null || ie === void 0 || ie.draw(i), R += Oe + i.measureText(It).width + Be + Pe;
            })), [R, W, Math.max(I, Y), te];
          }, r.prototype.drawStandardTooltipLabels = function(i, u, c, g, _, w, k) {
            var I = this, D = g, R = _, W = 0, j = 0, Y = w;
            if (c.length > 0) {
              var te = k.marginLeft, q = k.marginTop, ie = k.marginRight, pe = k.marginBottom, ye = k.size, Pe = k.family, Oe = k.weight;
              i.font = Yr(ye, Oe, Pe), c.forEach(function(Ze) {
                var Be, ze, ut = Ze.title, ht = Ze.value, st = i.measureText(ut.text).width, pt = i.measureText(ht.text).width, It = st + pt, wt = ye + q + pe;
                D + te + It + ie > u.width ? (D = te, R += wt, j += wt) : (D += te, j += Math.max(0, wt - Y)), W = Math.max(Y, wt), Y = W, ut.text.length > 0 && ((Be = I.createFigure("text", { x: D, y: R + q, text: ut.text }, { color: ut.color, size: ye, family: Pe, weight: Oe })) === null || Be === void 0 || Be.draw(i), D += st), (ze = I.createFigure("text", { x: D, y: R + q, text: ht.text }, { color: ht.color, size: ye, family: Pe, weight: Oe })) === null || ze === void 0 || ze.draw(i), D += pt + ie;
              });
            }
            return [D, R, W, j];
          }, r.prototype.isDrawTooltip = function(i, u) {
            var c = u.showRule;
            return c === n.TooltipShowRule.Always || c === n.TooltipShowRule.FollowCross && i.paneId !== void 0;
          }, r.prototype.getIndicatorTooltipData = function(i, u, c, g, _, w) {
            var k, I, D, R = w.tooltip, W = R.showName ? c.shortName : "", j = "", Y = c.calcParams;
            Y.length > 0 && R.showParams && (j = "(".concat(Y.join(","), ")"));
            var te = { name: W, calcParamsText: j, values: [], icons: R.icons }, q = u.dataIndex, ie = (k = c.result) !== null && k !== void 0 ? k : [], pe = [];
            if (c.visible) {
              var ye = (I = ie[q]) !== null && I !== void 0 ? I : {};
              Lr(i, c, q, w, function(wt, Bt) {
                if (wt.title !== void 0) {
                  var Wt = Bt.color, Tn = ye[wt.key];
                  H(Tn) && (Tn = re(Tn, c.precision), c.shouldFormatBigNumber && (Tn = g.formatBigNumber(Tn))), pe.push({ title: { text: wt.title, color: Wt }, value: { text: ke(Tn ?? R.defaultValue, _), color: Wt } });
                }
              }), te.values = pe;
            }
            if (c.createTooltipDataSource !== null) {
              var Pe = this.getWidget(), Oe = Pe.getPane(), Ze = Oe.getChart().getChartStore(), Be = c.createTooltipDataSource({
                kLineDataList: i,
                indicator: c,
                visibleRange: Ze.getTimeScaleStore().getVisibleRange(),
                bounding: Pe.getBounding(),
                crosshair: u,
                defaultStyles: w,
                xAxis: (D = Oe.getChart().getPaneById(Qt.XAXIS)) === null || D === void 0 ? void 0 : D.getAxisComponent(),
                yAxis: Oe.getAxisComponent()
              }), ze = Be.name, ut = Be.calcParamsText, ht = Be.values, st = Be.icons;
              if (ze !== void 0 && R.showName && (te.name = ze), ut !== void 0 && R.showParams && (te.calcParamsText = ut), st !== void 0 && (te.icons = st), ht !== void 0 && c.visible) {
                var pt = [], It = w.tooltip.text.color;
                ht.forEach(function(wt) {
                  var Bt = { text: "", color: It };
                  M(wt.title) ? Bt = wt.title : Bt.text = wt.title;
                  var Wt = { text: "", color: It };
                  M(wt.value) ? Wt = wt.value : Wt.text = wt.value, Wt.text = ke(Wt.text, _), pt.push({ title: Bt, value: Wt });
                }), te.values = pt;
              }
            }
            return te;
          }, r.prototype.classifyTooltipIcons = function(i) {
            var u = [], c = [], g = [];
            return i.forEach(function(_) {
              switch (_.position) {
                case n.TooltipIconPosition.Left: {
                  u.push(_);
                  break;
                }
                case n.TooltipIconPosition.Middle: {
                  c.push(_);
                  break;
                }
                case n.TooltipIconPosition.Right: {
                  g.push(_);
                  break;
                }
              }
            }), [u, c, g];
          }, r;
        }(me)
      ), _t = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i) {
            var u = l.call(this, i) || this;
            return u._initEvent(), u;
          }
          return r.prototype._initEvent = function() {
            var i = this, u = this.getWidget().getPane(), c = u.getId(), g = u.getChart().getChartStore().getOverlayStore();
            this.registerEvent("mouseMoveEvent", function(_) {
              var w, k = g.getProgressInstanceInfo();
              if (k !== null) {
                var I = k.instance, D = k.paneId;
                I.isStart() && (g.updateProgressInstanceInfo(c), D = c);
                var R = I.points.length - 1, W = "".concat(qr, "point_").concat(R);
                return I.isDrawing() && D === c && (I.eventMoveForDrawing(i._coordinateToPoint(k.instance, _)), (w = I.onDrawing) === null || w === void 0 || w.call(I, nt({ overlay: I, figureKey: W, figureIndex: R }, _))), i._figureMouseMoveEvent(I, 1, W, R, 0)(_);
              }
              return g.setHoverInstanceInfo({
                paneId: c,
                instance: null,
                figureType: 0,
                figureKey: "",
                figureIndex: -1,
                attrsIndex: -1
              }, _), !1;
            }).registerEvent("mouseClickEvent", function(_) {
              var w, k, I = g.getProgressInstanceInfo();
              if (I !== null) {
                var D = I.instance, R = I.paneId;
                D.isStart() && (g.updateProgressInstanceInfo(c, !0), R = c);
                var W = D.points.length - 1, j = "".concat(qr, "point_").concat(W);
                return D.isDrawing() && R === c && (D.eventMoveForDrawing(i._coordinateToPoint(D, _)), (w = D.onDrawing) === null || w === void 0 || w.call(D, nt({ overlay: D, figureKey: j, figureIndex: W }, _)), D.nextStep(), D.isDrawing() || (g.progressInstanceComplete(), (k = D.onDrawEnd) === null || k === void 0 || k.call(D, nt({ overlay: D, figureKey: j, figureIndex: W }, _)))), i._figureMouseClickEvent(D, 1, j, W, 0)(_);
              }
              return g.setClickInstanceInfo({
                paneId: c,
                instance: null,
                figureType: 0,
                figureKey: "",
                figureIndex: -1,
                attrsIndex: -1
              }, _), !1;
            }).registerEvent("mouseDoubleClickEvent", function(_) {
              var w, k = g.getProgressInstanceInfo();
              if (k !== null) {
                var I = k.instance, D = k.paneId;
                if (I.isDrawing() && D === c && (I.forceComplete(), !I.isDrawing())) {
                  g.progressInstanceComplete();
                  var R = I.points.length - 1, W = "".concat(qr, "point_").concat(R);
                  (w = I.onDrawEnd) === null || w === void 0 || w.call(I, nt({ overlay: I, figureKey: W, figureIndex: R }, _));
                }
                var j = I.points.length - 1;
                return i._figureMouseDoubleClickEvent(I, 1, "".concat(qr, "point_").concat(j), j, 0)(_);
              }
              return !1;
            }).registerEvent("mouseRightClickEvent", function(_) {
              var w = g.getProgressInstanceInfo();
              if (w !== null) {
                var k = w.instance;
                if (k.isDrawing()) {
                  var I = k.points.length - 1;
                  return i._figureMouseRightClickEvent(k, 1, "".concat(qr, "point_").concat(I), I, 0)(_);
                }
              }
              return !1;
            }).registerEvent("mouseUpEvent", function(_) {
              var w, k = g.getPressedInstanceInfo(), I = k.instance, D = k.figureIndex, R = k.figureKey;
              return I !== null && ((w = I.onPressedMoveEnd) === null || w === void 0 || w.call(I, nt({ overlay: I, figureKey: R, figureIndex: D }, _))), g.setPressedInstanceInfo({
                paneId: c,
                instance: null,
                figureType: 0,
                figureKey: "",
                figureIndex: -1,
                attrsIndex: -1
              }), !1;
            }).registerEvent("pressedMouseMoveEvent", function(_) {
              var w, k, I = g.getPressedInstanceInfo(), D = I.instance, R = I.figureType, W = I.figureIndex, j = I.figureKey;
              if (D !== null) {
                if (!D.lock && !((k = (w = D.onPressedMoving) === null || w === void 0 ? void 0 : w.call(D, nt({ overlay: D, figureIndex: W, figureKey: j }, _))) !== null && k !== void 0 && k)) {
                  var Y = i._coordinateToPoint(D, _);
                  if (R === 1)
                    D.eventPressedPointMove(Y, W);
                  else {
                    var te = i.getWidget().getPane(), q = te.getChart().getChartStore().getDataList();
                    D.eventPressedOtherMove(Y, i.getWidget().getPane().getChart().getChartStore().getTimeScaleStore(), q);
                  }
                }
                return !0;
              }
              return !1;
            });
          }, r.prototype._createFigureEvents = function(i, u, c, g, _, w) {
            var k;
            if (!i.isDrawing()) {
              var I = [];
              if (w !== void 0 && (ee(w) ? w && (I = Ao()) : I = w), I.length === 0)
                return {
                  mouseMoveEvent: this._figureMouseMoveEvent(i, u, c, g, _),
                  mouseDownEvent: this._figureMouseDownEvent(i, u, c, g, _),
                  mouseClickEvent: this._figureMouseClickEvent(i, u, c, g, _),
                  mouseRightClickEvent: this._figureMouseRightClickEvent(i, u, c, g, _),
                  mouseDoubleClickEvent: this._figureMouseDoubleClickEvent(i, u, c, g, _)
                };
              k = {}, !I.includes("mouseMoveEvent") && !I.includes("touchMoveEvent") && (k.mouseMoveEvent = this._figureMouseMoveEvent(i, u, c, g, _)), !I.includes("mouseDownEvent") && !I.includes("touchStartEvent") && (k.mouseDownEvent = this._figureMouseDownEvent(i, u, c, g, _)), !I.includes("mouseClickEvent") && !I.includes("tapEvent") && (k.mouseClickEvent = this._figureMouseClickEvent(i, u, c, g, _)), !I.includes("mouseDoubleClickEvent") && !I.includes("doubleTapEvent") && (k.mouseDoubleClickEvent = this._figureMouseDoubleClickEvent(i, u, c, g, _)), I.includes("mouseRightClickEvent") || (k.mouseRightClickEvent = this._figureMouseRightClickEvent(i, u, c, g, _));
            }
            return k;
          }, r.prototype._figureMouseMoveEvent = function(i, u, c, g, _) {
            var w = this;
            return function(k) {
              var I = w.getWidget().getPane(), D = I.getChart().getChartStore().getOverlayStore();
              return D.setHoverInstanceInfo({ paneId: I.getId(), instance: i, figureType: u, figureKey: c, figureIndex: g, attrsIndex: _ }, k), !0;
            };
          }, r.prototype._figureMouseDownEvent = function(i, u, c, g, _) {
            var w = this;
            return function(k) {
              var I, D = w.getWidget().getPane(), R = D.getId(), W = D.getChart().getChartStore().getOverlayStore();
              return i.startPressedMove(w._coordinateToPoint(i, k)), (I = i.onPressedMoveStart) === null || I === void 0 || I.call(i, nt({ overlay: i, figureIndex: g, figureKey: c }, k)), W.setPressedInstanceInfo({ paneId: R, instance: i, figureType: u, figureKey: c, figureIndex: g, attrsIndex: _ }), !0;
            };
          }, r.prototype._figureMouseClickEvent = function(i, u, c, g, _) {
            var w = this;
            return function(k) {
              var I = w.getWidget().getPane(), D = I.getId(), R = I.getChart().getChartStore().getOverlayStore();
              return R.setClickInstanceInfo({ paneId: D, instance: i, figureType: u, figureKey: c, figureIndex: g, attrsIndex: _ }, k), !0;
            };
          }, r.prototype._figureMouseDoubleClickEvent = function(i, u, c, g, _) {
            return function(w) {
              var k;
              return (k = i.onDoubleClick) === null || k === void 0 || k.call(i, nt(nt({}, w), { figureIndex: g, figureKey: c, overlay: i })), !0;
            };
          }, r.prototype._figureMouseRightClickEvent = function(i, u, c, g, _) {
            var w = this;
            return function(k) {
              var I, D;
              if (!((D = (I = i.onRightClick) === null || I === void 0 ? void 0 : I.call(i, nt({ overlay: i, figureIndex: g, figureKey: c }, k))) !== null && D !== void 0 && D)) {
                var R = w.getWidget().getPane(), W = R.getChart().getChartStore().getOverlayStore();
                W.removeInstance(i);
              }
              return !0;
            };
          }, r.prototype._coordinateToPoint = function(i, u) {
            var c, g, _ = {}, w = this.getWidget().getPane(), k = w.getChart(), I = w.getId(), D = k.getChartStore().getTimeScaleStore();
            if (this.coordinateToPointTimestampDataIndexFlag()) {
              var R = (c = k.getPaneById(Qt.XAXIS)) === null || c === void 0 ? void 0 : c.getAxisComponent(), W = R.convertFromPixel(u.x), j = (g = D.dataIndexToTimestamp(W)) !== null && g !== void 0 ? g : void 0, Y = k.getChartStore().getDataList();
              if (j === void 0) {
                var te = W < 0 ? 0 : W > Y.length - 1 ? Y.length - 1 : W;
                _.timestamp = Y[te].timestamp, _.dataIndex = te;
              } else
                _.dataIndex = W, _.timestamp = j;
            }
            if (this.coordinateToPointValueFlag()) {
              var q = w.getAxisComponent(), ie = q.convertFromPixel(u.y);
              if (i.mode !== n.OverlayMode.Normal && I === Qt.CANDLE && _.dataIndex !== void 0) {
                var pe = D.getDataByDataIndex(_.dataIndex);
                if (pe !== null) {
                  var ye = i.modeSensitivity;
                  if (ie > pe.high)
                    if (i.mode === n.OverlayMode.WeakMagnet) {
                      var Pe = q.convertToPixel(pe.high), Oe = q.convertFromPixel(Pe - ye);
                      ie < Oe && (ie = pe.high);
                    } else
                      ie = pe.high;
                  else if (ie < pe.low)
                    if (i.mode === n.OverlayMode.WeakMagnet) {
                      var Ze = q.convertToPixel(pe.low), Oe = q.convertFromPixel(Ze - ye);
                      ie > Oe && (ie = pe.low);
                    } else
                      ie = pe.low;
                  else {
                    var Be = Math.max(pe.open, pe.close), ze = Math.min(pe.open, pe.close);
                    ie > Be ? ie - Be < pe.high - ie ? ie = Be : ie = pe.high : ie < ze ? ie - pe.low < ze - ie ? ie = pe.low : ie = ze : Be - ie < ie - ze ? ie = Be : ie = ze;
                  }
                }
              }
              _.value = ie;
            }
            return _;
          }, r.prototype.coordinateToPointValueFlag = function() {
            return !0;
          }, r.prototype.coordinateToPointTimestampDataIndexFlag = function() {
            return !0;
          }, r.prototype.dispatchEvent = function(i, u, c) {
            return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing() ? this.onEvent(i, u, c) : l.prototype.dispatchEvent.call(this, i, u, c);
          }, r.prototype.checkEventOn = function() {
            return !0;
          }, r.prototype.drawImp = function(i) {
            var u = this, c, g = this.getWidget(), _ = g.getPane(), w = _.getId(), k = _.getChart(), I = _.getAxisComponent(), D = (c = k.getPaneById(Qt.XAXIS)) === null || c === void 0 ? void 0 : c.getAxisComponent(), R = g.getBounding(), W = k.getChartStore(), j = W.getCustomApi(), Y = W.getThousandsSeparator(), te = W.getTimeScaleStore(), q = te.getDateTimeFormat(), ie = te.getBarSpace(), pe = W.getPrecision(), ye = W.getStyles().overlay, Pe = W.getOverlayStore(), Oe = Pe.getHoverInstanceInfo(), Ze = Pe.getClickInstanceInfo(), Be = this.getCompleteOverlays(Pe, w);
            Be.forEach(function(ht) {
              ht.visible && u._drawOverlay(i, ht, R, ie, pe, q, j, Y, ye, D, I, Oe, Ze, te);
            });
            var ze = Pe.getProgressInstanceInfo();
            if (ze !== null) {
              var ut = this.getProgressOverlay(ze, w);
              ut !== null && ut.visible && this._drawOverlay(i, ut, R, ie, pe, q, j, Y, ye, D, I, Oe, Ze, te);
            }
          }, r.prototype._drawOverlay = function(i, u, c, g, _, w, k, I, D, R, W, j, Y, te) {
            var q = u.points, ie = q.map(function(ye) {
              var Pe, Oe, Ze = ye.dataIndex;
              ye.timestamp !== void 0 && (Ze = te.timestampToDataIndex(ye.timestamp));
              var Be = { x: 0, y: 0 };
              return Ze !== void 0 && (Be.x = (Pe = R == null ? void 0 : R.convertToPixel(Ze)) !== null && Pe !== void 0 ? Pe : 0), ye.value !== void 0 && (Be.y = (Oe = W == null ? void 0 : W.convertToPixel(ye.value)) !== null && Oe !== void 0 ? Oe : 0), Be;
            });
            if (ie.length > 0) {
              var pe = new Array().concat(this.getFigures(u, ie, c, g, _, I, w, D, R, W));
              this.drawFigures(i, u, pe, D);
            }
            this.drawDefaultFigures(i, u, ie, c, _, w, k, I, D, R, W, j, Y);
          }, r.prototype.drawFigures = function(i, u, c, g) {
            var _ = this;
            c.forEach(function(w, k) {
              var I = w.type, D = w.styles, R = w.attrs, W = w.ignoreEvent, j = [].concat(R);
              j.forEach(function(Y, te) {
                var q, ie, pe, ye = _._createFigureEvents(u, 2, (q = w.key) !== null && q !== void 0 ? q : "", k, te, W), Pe = nt(nt(nt({}, g[I]), (ie = u.styles) === null || ie === void 0 ? void 0 : ie[I]), D);
                (pe = _.createFigure(I, Y, Pe, ye)) === null || pe === void 0 || pe.draw(i);
              });
            });
          }, r.prototype.getCompleteOverlays = function(i, u) {
            return i.getInstances(u);
          }, r.prototype.getProgressOverlay = function(i, u) {
            return i.paneId === u ? i.instance : null;
          }, r.prototype.getFigures = function(i, u, c, g, _, w, k, I, D, R) {
            var W, j;
            return (j = (W = i.createPointFigures) === null || W === void 0 ? void 0 : W.call(i, { overlay: i, coordinates: u, bounding: c, barSpace: g, precision: _, thousandsSeparator: w, dateTimeFormat: k, defaultStyles: I, xAxis: D, yAxis: R })) !== null && j !== void 0 ? j : [];
          }, r.prototype.drawDefaultFigures = function(i, u, c, g, _, w, k, I, D, R, W, j, Y) {
            var te = this, q, ie;
            if (u.needDefaultPointFigure && (((q = j.instance) === null || q === void 0 ? void 0 : q.id) === u.id && j.figureType !== 0 || ((ie = Y.instance) === null || ie === void 0 ? void 0 : ie.id) === u.id && Y.figureType !== 0)) {
              var pe = u.styles, ye = nt(nt({}, D.point), pe == null ? void 0 : pe.point);
              c.forEach(function(Pe, Oe) {
                var Ze, Be, ze, ut = Pe.x, ht = Pe.y, st = ye.radius, pt = ye.color, It = ye.borderColor, wt = ye.borderSize;
                ((Ze = j.instance) === null || Ze === void 0 ? void 0 : Ze.id) === u.id && j.figureType === 1 && j.figureIndex === Oe && (st = ye.activeRadius, pt = ye.activeColor, It = ye.activeBorderColor, wt = ye.activeBorderSize), (Be = te.createFigure("circle", { x: ut, y: ht, r: st + wt }, { color: It }, te._createFigureEvents(u, 1, "".concat(qr, "point_").concat(Oe), Oe, 0))) === null || Be === void 0 || Be.draw(i), (ze = te.createFigure("circle", { x: ut, y: ht, r: st }, { color: pt })) === null || ze === void 0 || ze.draw(i);
              });
            }
          }, r;
        }(me)
      ), lt = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this, i, u) || this;
            return c._gridView = new Me(c), c._indicatorView = new Ke(c), c._crosshairLineView = new rt(c), c._tooltipView = c.createTooltipView(), c._overlayView = new _t(c), c.addChild(c._tooltipView), c.addChild(c._overlayView), c.getContainer().style.cursor = "crosshair", c.registerEvent("mouseMoveEvent", function() {
              return u.getChart().getChartStore().getTooltipStore().setActiveIcon(), !1;
            }), c;
          }
          return r.prototype.getName = function() {
            return Vt.MAIN;
          }, r.prototype.updateMain = function(i) {
            this.updateMainContent(i), this._indicatorView.draw(i), this._gridView.draw(i);
          }, r.prototype.createTooltipView = function() {
            return new ot(this);
          }, r.prototype.updateMainContent = function(i) {
          }, r.prototype.updateOverlay = function(i) {
            this._overlayView.draw(i), this._crosshairLineView.draw(i), this._tooltipView.draw(i);
          }, r;
        }(Fa)
      ), St = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u, c, g = this.getWidget(), _ = g.getPane(), w = _.getChart(), k = g.getBounding(), I = _.getAxisComponent(), D = w.getStyles().candle.area, R = [], W = [], j = Number.MAX_SAFE_INTEGER;
            this.eachChildren(function(Pe, Oe, Ze) {
              var Be = Pe.data, ze = Pe.x, ut = Oe.halfGapBar, ht = Be[D.value];
              if (z(ht)) {
                var st = I.convertToPixel(ht);
                if (Ze === 0) {
                  var pt = ze - ut;
                  W.push({ x: pt, y: k.height }), W.push({ x: pt, y: st }), R.push({ x: pt, y: st });
                }
                R.push({ x: ze, y: st }), W.push({ x: ze, y: st }), j = Math.min(j, st);
              }
            });
            var Y = W.length;
            if (Y > 0) {
              var te = W[Y - 1], q = te.x;
              R.push({ x: q, y: te.y }), W.push({ x: q, y: te.y }), W.push({ x: q, y: k.height });
            }
            if (R.length > 0 && ((u = this.createFigure("line", { coordinates: R }, {
              color: D.lineColor,
              size: D.lineSize
            })) === null || u === void 0 || u.draw(i)), W.length > 0) {
              var ie = D.backgroundColor, pe = void 0;
              if (S(ie)) {
                var ye = i.createLinearGradient(0, k.height, 0, j);
                try {
                  ie.forEach(function(Pe) {
                    var Oe = Pe.offset, Ze = Pe.color;
                    ye.addColorStop(Oe, Ze);
                  });
                } catch {
                }
                pe = ye;
              } else
                pe = ie;
              (c = this.createFigure("polygon", { coordinates: W }, { color: pe })) === null || c === void 0 || c.draw(i);
            }
          }, r;
        }(Re)
      ), Pt = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u = this.getWidget(), c = u.getPane(), g = c.getChart().getChartStore(), _ = g.getStyles().candle.priceMark, w = _.high, k = _.low;
            if (_.show && (w.show || k.show)) {
              var I = g.getThousandsSeparator(), D = g.getPrecision(), R = c.getAxisComponent(), W = Number.MIN_SAFE_INTEGER, j = 0, Y = Number.MAX_SAFE_INTEGER, te = 0;
              this.eachChildren(function(pe) {
                var ye = pe.data, Pe = pe.x;
                W < ye.high && (W = ye.high, j = Pe), Y > ye.low && (Y = ye.low, te = Pe);
              });
              var q = R.convertToPixel(W), ie = R.convertToPixel(Y);
              w.show && W !== Number.MIN_SAFE_INTEGER && this._drawMark(i, ke(re(W, D.price), I), { x: j, y: q }, q < ie ? [-2, -5] : [2, 5], w), k.show && Y !== Number.MAX_SAFE_INTEGER && this._drawMark(i, ke(re(Y, D.price), I), { x: te, y: ie }, q < ie ? [2, 5] : [-2, -5], k);
            }
          }, r.prototype._drawMark = function(i, u, c, g, _) {
            var w, k, I, D = c.x, R = c.y + g[0];
            (w = this.createFigure("line", {
              coordinates: [
                { x: D - 2, y: R + g[0] },
                { x: D, y: R },
                { x: D + 2, y: R + g[0] }
              ]
            }, { color: _.color })) === null || w === void 0 || w.draw(i);
            var W, j, Y, te = this.getWidget().getBounding().width;
            D > te / 2 ? (W = D - 5, j = W - _.textOffset, Y = "right") : (W = D + 5, Y = "left", j = W + _.textOffset);
            var q = R + g[1];
            (k = this.createFigure("line", {
              coordinates: [
                { x: D, y: R },
                { x: D, y: q },
                { x: W, y: q }
              ]
            }, { color: _.color })) === null || k === void 0 || k.draw(i), (I = this.createFigure("text", {
              x: j,
              y: q,
              text: u,
              align: Y,
              baseline: "middle"
            }, {
              color: _.color,
              size: _.textSize,
              family: _.textFamily,
              weight: _.textWeight
            })) === null || I === void 0 || I.draw(i);
          }, r;
        }(Re)
      ), Lt = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u, c = this.getWidget(), g = c.getPane(), _ = c.getBounding(), w = g.getChart().getChartStore(), k = w.getStyles().candle.priceMark, I = k.last, D = I.line;
            if (k.show && I.show && D.show) {
              var R = g.getAxisComponent(), W = w.getDataList(), j = W[W.length - 1];
              if (j != null) {
                var Y = j.close, te = j.open, q = R.convertToNicePixel(Y), ie = void 0;
                Y > te ? ie = I.upColor : Y < te ? ie = I.downColor : ie = I.noChangeColor, (u = this.createFigure("line", {
                  coordinates: [
                    { x: 0, y: q },
                    { x: _.width, y: q }
                  ]
                }, {
                  style: D.style,
                  color: ie,
                  size: D.size,
                  dashedValue: D.dashedValue
                })) === null || u === void 0 || u.draw(i);
              }
            }
          }, r;
        }(me)
      ), Yt = {
        time: "",
        open: "",
        high: "",
        low: "",
        close: "",
        volume: "",
        change: ""
      }, Cn = {
        time: "Time: ",
        open: "Open: ",
        high: "High: ",
        low: "Low: ",
        close: "Close: ",
        volume: "Volume: ",
        change: "Change: "
      }, Jt = {
        "zh-CN": Yt,
        "en-US": Cn
      };
      function Yn(l, r) {
        Jt[l] = nt(nt({}, Jt[l]), r);
      }
      function Xn() {
        return Object.keys(Jt);
      }
      function ur(l, r) {
        var i, u;
        return (u = (i = Jt[r]) === null || i === void 0 ? void 0 : i[l]) !== null && u !== void 0 ? u : l;
      }
      var Xt = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u, c = this.getWidget(), g = c.getPane(), _ = g.getId(), w = g.getChart().getChartStore(), k = w.getTooltipStore().getCrosshair();
            if (k.kLineData !== void 0) {
              var I = c.getBounding(), D = (u = g.getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding(), R = w.getDataList(), W = w.getPrecision(), j = w.getLocale(), Y = w.getCustomApi(), te = w.getThousandsSeparator(), q = w.getTooltipStore().getActiveIcon(), ie = w.getIndicatorStore().getInstances(g.getId()), pe = w.getTimeScaleStore().getDateTimeFormat(), ye = w.getStyles(), Pe = ye.candle, Oe = ye.indicator;
              if (Pe.tooltip.showType === n.TooltipShowType.Rect && Oe.tooltip.showType === n.TooltipShowType.Rect) {
                var Ze = this.isDrawTooltip(k, Pe.tooltip), Be = this.isDrawTooltip(k, Oe.tooltip);
                this._drawRectTooltip(i, R, ie, I, D, k, W, pe, j, Y, te, Ze, Be, ye, 0);
              } else if (Pe.tooltip.showType === n.TooltipShowType.Standard && Oe.tooltip.showType === n.TooltipShowType.Standard) {
                var ze = this._drawCandleStandardTooltip(i, R, _, I, k, q, W, pe, j, Y, te, Pe);
                this.drawIndicatorTooltip(i, _, R, k, q, ie, Y, te, I, Oe, ze);
              } else if (Pe.tooltip.showType === n.TooltipShowType.Rect && Oe.tooltip.showType === n.TooltipShowType.Standard) {
                var ut = this.drawIndicatorTooltip(i, _, R, k, q, ie, Y, te, I, Oe, 0), Ze = this.isDrawTooltip(k, Pe.tooltip);
                this._drawRectTooltip(i, R, ie, I, D, k, W, pe, j, Y, te, Ze, !1, ye, ut);
              } else {
                var ht = this._drawCandleStandardTooltip(i, R, _, I, k, q, W, pe, j, Y, te, Pe), Be = this.isDrawTooltip(k, Oe.tooltip);
                this._drawRectTooltip(i, R, ie, I, D, k, W, pe, j, Y, te, !1, Be, ye, ht);
              }
            }
          }, r.prototype._drawCandleStandardTooltip = function(i, u, c, g, _, w, k, I, D, R, W, j) {
            var Y, te, q, ie = j.tooltip, pe = ie.text, ye = 0;
            if (this.isDrawTooltip(_, ie)) {
              var Pe = (Y = _.dataIndex) !== null && Y !== void 0 ? Y : 0, Oe = this._getCandleTooltipData({ prev: (te = u[Pe - 1]) !== null && te !== void 0 ? te : null, current: _.kLineData, next: (q = u[Pe + 1]) !== null && q !== void 0 ? q : null }, k, I, D, R, W, j), Ze = 0, Be = 0, ze = 0, ut = Tt(this.classifyTooltipIcons(ie.icons), 3), ht = ut[0], st = ut[1], pt = ut[2], It = Tt(this.drawStandardTooltipIcons(i, g, { paneId: c, indicatorName: "", iconId: "" }, w, ht, Ze, Be, 0), 4), wt = It[0], Bt = It[1], Wt = It[2], Tn = It[3];
              Ze = wt, Be = Bt, ye += Tn, ze = Wt;
              var Fn = Tt(this.drawStandardTooltipIcons(i, g, { paneId: c, indicatorName: "", iconId: "" }, w, st, Ze, Be, ze), 4), zn = Fn[0], En = Fn[1], Nt = Fn[2], un = Fn[3];
              if (Ze = zn, Be = En, ye += un, ze = Nt, Oe.length > 0) {
                var en = Tt(this.drawStandardTooltipLabels(i, g, Oe, Ze, Be, ze, pe), 4), $n = en[0], ar = en[1], gr = en[2], tn = en[3];
                Ze = $n, Be = ar, ye += tn, ze = gr;
              }
              var nn = Tt(this.drawStandardTooltipIcons(i, g, { paneId: c, indicatorName: "", iconId: "" }, w, pt, Ze, Be, ze), 4), ei = nn[0], Rr = nn[1], cn = nn[2], kr = nn[3];
              Ze = ei, Be = Rr, ye += kr, ze = cn;
            }
            return ye;
          }, r.prototype._drawRectTooltip = function(i, u, c, g, _, w, k, I, D, R, W, j, Y, te, q) {
            var ie = this, pe, ye, Pe, Oe, Ze, Be = te.candle, ze = te.indicator, ut = Be.tooltip, ht = ze.tooltip;
            if (j || Y) {
              var st = (pe = w.dataIndex) !== null && pe !== void 0 ? pe : 0, pt = this._getCandleTooltipData({ prev: (ye = u[st - 1]) !== null && ye !== void 0 ? ye : null, current: w.kLineData, next: (Pe = u[st + 1]) !== null && Pe !== void 0 ? Pe : null }, k, I, D, R, W, Be), It = ut.text, wt = It.marginLeft, Bt = It.marginRight, Wt = It.marginTop, Tn = It.marginBottom, Fn = It.size, zn = It.weight, En = It.family, Nt = ut.rect, un = Nt.position, en = Nt.paddingLeft, $n = Nt.paddingRight, ar = Nt.paddingTop, gr = Nt.paddingBottom, tn = Nt.offsetLeft, nn = Nt.offsetRight, ei = Nt.offsetTop, Rr = Nt.offsetBottom, cn = Nt.borderSize, kr = Nt.borderRadius, Zr = Nt.borderColor, wi = Nt.color, Ti = 0, yr = 0, mr = 0;
              j && (i.font = Yr(Fn, zn, En), pt.forEach(function(Pr) {
                var ti = Pr.title, ni = Pr.value, fi = "".concat(ti.text).concat(ni.text), zi = i.measureText(fi).width + wt + Bt;
                Ti = Math.max(Ti, zi);
              }), mr += (Tn + Wt + Fn) * pt.length);
              var Or = ht.text, Bi = Or.marginLeft, Ni = Or.marginRight, Js = Or.marginTop, el = Or.marginBottom, Uo = Or.size, tl = Or.weight, nl = Or.family, Wa = [];
              if (Y && (i.font = Yr(Uo, tl, nl), c.forEach(function(Pr) {
                var ti, ni = (ti = ie.getIndicatorTooltipData(u, w, Pr, R, W, ze).values) !== null && ti !== void 0 ? ti : [];
                Wa.push(ni), ni.forEach(function(fi) {
                  var zi = fi.title, Fs = fi.value, Vi = "".concat(zi.text).concat(Fs.text), Zl = i.measureText(Vi).width + Bi + Ni;
                  Ti = Math.max(Ti, Zl), mr += Js + el + Uo;
                });
              })), yr += Ti, yr !== 0 && mr !== 0) {
                yr += cn * 2 + en + $n, mr += cn * 2 + ar + gr;
                var ki = g.width / 2, rl = un === De.Pointer && w.paneId === Qt.CANDLE, X = ((Oe = w.realX) !== null && Oe !== void 0 ? Oe : 0) > ki, _r = 0;
                if (rl) {
                  var co = w.realX;
                  X ? _r = co - nn - yr : _r = co + tn;
                } else
                  X ? (_r = tn, te.yAxis.inside && te.yAxis.position === n.YAxisPosition.Left && (_r += _.width)) : (_r = g.width - nn - yr, te.yAxis.inside && te.yAxis.position === n.YAxisPosition.Right && (_r -= _.width));
                var Rn = q + ei;
                if (rl) {
                  var jt = w.y;
                  Rn = jt - mr / 2, Rn + mr > g.height - Rr && (Rn = g.height - Rr - mr), Rn < q + ei && (Rn = q + ei);
                }
                (Ze = this.createFigure("rect", {
                  x: _r,
                  y: Rn,
                  width: yr,
                  height: mr
                }, {
                  style: n.PolygonType.StrokeFill,
                  color: wi,
                  borderColor: Zr,
                  borderSize: cn,
                  borderRadius: kr
                })) === null || Ze === void 0 || Ze.draw(i);
                var fl = _r + cn + en + wt, ca = Rn + cn + ar;
                if (j && pt.forEach(function(Pr) {
                  var ti, ni;
                  ca += Wt;
                  var fi = Pr.title;
                  (ti = ie.createFigure("text", {
                    x: fl,
                    y: ca,
                    text: fi.text
                  }, {
                    color: fi.color,
                    size: Fn,
                    family: En,
                    weight: zn
                  })) === null || ti === void 0 || ti.draw(i);
                  var zi = Pr.value;
                  (ni = ie.createFigure("text", {
                    x: _r + yr - cn - Bt - $n,
                    y: ca,
                    text: zi.text,
                    align: "right"
                  }, {
                    color: zi.color,
                    size: Fn,
                    family: En,
                    weight: zn
                  })) === null || ni === void 0 || ni.draw(i), ca += Fn + Tn;
                }), Y) {
                  var Hl = _r + cn + en + Bi;
                  Wa.forEach(function(Pr) {
                    Pr.forEach(function(ti) {
                      var ni, fi;
                      ca += Js;
                      var zi = ti.title, Fs = ti.value;
                      (ni = ie.createFigure("text", {
                        x: Hl,
                        y: ca,
                        text: zi.text
                      }, {
                        color: zi.color,
                        size: Uo,
                        family: nl,
                        weight: tl
                      })) === null || ni === void 0 || ni.draw(i), (fi = ie.createFigure("text", {
                        x: _r + yr - cn - Ni - $n,
                        y: ca,
                        text: Fs.text,
                        align: "right"
                      }, {
                        color: Fs.color,
                        size: Uo,
                        family: nl,
                        weight: tl
                      })) === null || fi === void 0 || fi.draw(i), ca += Uo + el;
                    });
                  });
                }
              }
            }
          }, r.prototype._getCandleTooltipData = function(i, u, c, g, _, w, k) {
            var I, D, R, W, j, Y = k.tooltip, te = Y.text.color, q = i.current, ie = (D = (I = i.prev) === null || I === void 0 ? void 0 : I.close) !== null && D !== void 0 ? D : q.close, pe = q.close - ie, ye = u.price, Pe = u.volume, Oe = {
              "{time}": _.formatDate(c, q.timestamp, "YYYY-MM-DD HH:mm", n.FormatDateType.Tooltip),
              "{open}": ke(re(q.open, ye), w),
              "{high}": ke(re(q.high, ye), w),
              "{low}": ke(re(q.low, ye), w),
              "{close}": ke(re(q.close, ye), w),
              "{volume}": ke(_.formatBigNumber(re((R = q.volume) !== null && R !== void 0 ? R : Y.defaultValue, Pe)), w),
              "{change}": ie === 0 ? Y.defaultValue : "".concat(re(pe / ie * 100), "%")
            }, Ze = (j = T(Y.custom) ? (W = Y.custom) === null || W === void 0 ? void 0 : W.call(Y, i, k) : Y.custom) !== null && j !== void 0 ? j : [
              { title: "time", value: "{time}" },
              { title: "open", value: "{open}" },
              { title: "high", value: "{high}" },
              { title: "low", value: "{low}" },
              { title: "close", value: "{close}" },
              { title: "volume", value: "{volume}" }
            ];
            return Ze.map(function(Be) {
              var ze, ut = Be.title, ht = Be.value, st = { text: "", color: "" };
              M(ut) ? st = nt({}, ut) : (st.text = ut, st.color = te), st.text = ur(st.text, g);
              var pt = { text: Y.defaultValue, color: "" };
              M(ht) ? pt = nt({}, ht) : (pt.text = ht, pt.color = te);
              var It = pt.text.match(/{(\S*)}/);
              if (It !== null && It.length > 1) {
                var wt = "{".concat(It[1], "}");
                pt.text = pt.text.replace(wt, (ze = Oe[wt]) !== null && ze !== void 0 ? ze : Y.defaultValue), wt === "{change}" && (pt.color = pe === 0 ? k.priceMark.last.noChangeColor : pe > 0 ? k.priceMark.last.upColor : k.priceMark.last.downColor);
              }
              return { title: st, value: pt };
            });
          }, r;
        }(ot)
      ), ln = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this, i, u) || this;
            return c._candleBarView = new He(c), c._candleAreaView = new St(c), c._candleHighLowPriceView = new Pt(c), c._candleLastPriceLineView = new Lt(c), c.addChild(c._candleBarView), c;
          }
          return r.prototype.updateMainContent = function(i) {
            var u = this.getPane().getChart().getStyles().candle;
            u.type !== n.CandleType.Area ? (this._candleBarView.draw(i), this._candleHighLowPriceView.draw(i)) : this._candleAreaView.draw(i), this._candleLastPriceLineView.draw(i);
          }, r.prototype.createTooltipView = function() {
            return new Xt(this);
          }, r;
        }(lt)
      ), Pn = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u = this, c, g = this.getWidget(), _ = g.getPane(), w = g.getBounding(), k = _.getAxisComponent(), I = this.getAxisStyles(_.getChart().getStyles());
            if (I.show) {
              I.axisLine.show && ((c = this.createFigure("line", this.createAxisLine(w, I), I.axisLine)) === null || c === void 0 || c.draw(i));
              var D = k.getTicks();
              if (I.tickLine.show) {
                var R = this.createTickLines(D, w, I);
                R.forEach(function(j) {
                  var Y;
                  (Y = u.createFigure("line", j, I.tickLine)) === null || Y === void 0 || Y.draw(i);
                });
              }
              if (I.tickText.show) {
                var W = this.createTickTexts(D, w, I);
                W.forEach(function(j) {
                  var Y;
                  (Y = u.createFigure("text", j, I.tickText)) === null || Y === void 0 || Y.draw(i);
                });
              }
            }
          }, r;
        }(me)
      ), ir = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getAxisStyles = function(i) {
            return i.yAxis;
          }, r.prototype.createAxisLine = function(i, u) {
            var c = this.getWidget().getPane().getAxisComponent(), g = u.axisLine.size, _;
            return c.isFromZero() ? _ = g / 2 : _ = i.width - g, {
              coordinates: [
                { x: _, y: 0 },
                { x: _, y: i.height }
              ]
            };
          }, r.prototype.createTickLines = function(i, u, c) {
            var g = this.getWidget().getPane().getAxisComponent(), _ = c.axisLine, w = c.tickLine, k = 0, I = 0;
            return g.isFromZero() ? (k = 0, _.show && (k += _.size), I = k + w.length) : (k = u.width, _.show && (k -= _.size), I = k - w.length), i.map(function(D) {
              return {
                coordinates: [
                  { x: k, y: D.coord },
                  { x: I, y: D.coord }
                ]
              };
            });
          }, r.prototype.createTickTexts = function(i, u, c) {
            var g = this.getWidget().getPane().getAxisComponent(), _ = c.axisLine, w = c.tickLine, k = c.tickText, I = 0;
            g.isFromZero() ? (I = k.marginStart, _.show && (I += _.size), w.show && (I += w.length)) : (I = u.width - k.marginEnd, _.show && (I -= _.size), w.show && (I -= w.length));
            var D = this.getWidget().getPane().getAxisComponent().isFromZero() ? "left" : "right";
            return i.map(function(R) {
              return {
                x: I,
                y: R.coord,
                text: R.text,
                align: D,
                baseline: "middle"
              };
            });
          }, r;
        }(Pn)
      ), vr = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u, c = this.getWidget(), g = c.getPane(), _ = c.getBounding(), w = g.getChart().getChartStore(), k = w.getStyles().candle.priceMark, I = k.last, D = I.text;
            if (k.show && I.show && D.show) {
              var R = w.getPrecision(), W = g.getAxisComponent(), j = w.getDataList(), Y = w.getVisibleDataList(), te = j[j.length - 1];
              if (te !== void 0) {
                var q = te.close, ie = te.open, pe = W.convertToNicePixel(q), ye = void 0;
                q > ie ? ye = I.upColor : q < ie ? ye = I.downColor : ye = I.noChangeColor;
                var Pe = void 0;
                if (W.getType() === n.YAxisType.Percentage) {
                  var Oe = Y[0].data, Ze = Oe.close;
                  Pe = "".concat(((q - Ze) / Ze * 100).toFixed(2), "%");
                } else
                  Pe = re(q, R.price);
                Pe = ke(Pe, w.getThousandsSeparator());
                var Be = void 0, ze = void 0;
                W.isFromZero() ? (Be = 0, ze = "left") : (Be = _.width, ze = "right"), (u = this.createFigure("text", {
                  x: Be,
                  y: pe,
                  text: Pe,
                  align: ze,
                  baseline: "middle"
                }, nt(nt({}, D), { backgroundColor: ye }))) === null || u === void 0 || u.draw(i);
              }
            }
          }, r;
        }(me)
      ), Ci = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u = this, c = this.getWidget(), g = c.getPane(), _ = c.getBounding(), w = g.getChart().getChartStore(), k = w.getCustomApi(), I = w.getStyles().indicator, D = I.lastValueMark, R = D.text;
            if (D.show) {
              var W = g.getAxisComponent(), j = w.getDataList(), Y = j.length - 1, te = w.getIndicatorStore().getInstances(g.getId()), q = w.getThousandsSeparator();
              te.forEach(function(ie) {
                var pe = ie.result, ye = pe[Y];
                if (ye !== void 0 && ie.visible) {
                  var Pe = ie.precision;
                  Lr(j, ie, Y, I, function(Oe, Ze) {
                    var Be, ze = ye[Oe.key];
                    if (H(ze)) {
                      var ut = W.convertToNicePixel(ze), ht = re(ze, Pe);
                      ie.shouldFormatBigNumber && (ht = k.formatBigNumber(ht)), ht = ke(ht, q);
                      var st = void 0, pt = void 0;
                      W.isFromZero() ? (st = 0, pt = "left") : (st = _.width, pt = "right"), (Be = u.createFigure("text", {
                        x: st,
                        y: ut,
                        text: ht,
                        align: pt,
                        baseline: "middle"
                      }, nt(nt({}, R), { backgroundColor: Ze.color }))) === null || Be === void 0 || Be.draw(i);
                    }
                  });
                }
              });
            }
          }, r;
        }(me)
      ), Ar = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.coordinateToPointTimestampDataIndexFlag = function() {
            return !1;
          }, r.prototype.drawDefaultFigures = function(i, u, c, g, _, w, k, I, D, R, W, j, Y) {
            this.drawFigures(i, u, this.getDefaultFigures(u, c, g, _, w, k, I, R, W, Y), D);
          }, r.prototype.getDefaultFigures = function(i, u, c, g, _, w, k, I, D, R) {
            var W, j, Y = [];
            if (i.needDefaultYAxisFigure && i.id === ((W = R.instance) === null || W === void 0 ? void 0 : W.id) && R.paneId === this.getWidget().getPane().getId()) {
              var te = Number.MAX_SAFE_INTEGER, q = Number.MIN_SAFE_INTEGER, ie = (j = D == null ? void 0 : D.isFromZero()) !== null && j !== void 0 ? j : !1, pe, ye;
              ie ? (pe = "left", ye = 0) : (pe = "right", ye = c.width), u.forEach(function(Pe, Oe) {
                var Ze = i.points[Oe];
                if (Ze.value !== void 0) {
                  te = Math.min(te, Pe.y), q = Math.max(q, Pe.y);
                  var Be = ke(re(Ze.value, g.price), k);
                  Y.push({ type: "text", attrs: { x: ye, y: Pe.y, text: Be, align: pe, baseline: "middle" }, ignoreEvent: !0 });
                }
              }), u.length > 1 && Y.unshift({ type: "rect", attrs: { x: 0, y: te, width: c.width, height: q - te }, ignoreEvent: !0 });
            }
            return Y;
          }, r.prototype.getFigures = function(i, u, c, g, _, w, k, I, D, R) {
            var W, j;
            return (j = (W = i.createYAxisFigures) === null || W === void 0 ? void 0 : W.call(i, { overlay: i, coordinates: u, bounding: c, barSpace: g, precision: _, thousandsSeparator: w, dateTimeFormat: k, defaultStyles: I, xAxis: D, yAxis: R })) !== null && j !== void 0 ? j : [];
          }, r;
        }(_t)
      ), Mr = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.drawImp = function(i) {
            var u, c = this.getWidget(), g = c.getPane(), _ = c.getBounding(), w = c.getPane().getChart().getChartStore(), k = w.getTooltipStore().getCrosshair(), I = w.getStyles().crosshair;
            if (k.paneId !== void 0 && this.compare(k, g.getId()) && I.show) {
              var D = this.getDirectionStyles(I), R = D.text;
              if (D.show && R.show) {
                var W = g.getAxisComponent(), j = this.getText(k, w, W);
                i.font = Yr(R.size, R.weight, R.family), (u = this.createFigure("text", this.getTextAttrs(j, i.measureText(j).width, k, _, W, R), R)) === null || u === void 0 || u.draw(i);
              }
            }
          }, r.prototype.compare = function(i, u) {
            return i.paneId === u;
          }, r.prototype.getDirectionStyles = function(i) {
            return i.horizontal;
          }, r.prototype.getText = function(i, u, c) {
            var g, _, w = c, k = c.convertFromPixel(i.y), I;
            if (w.getType() === n.YAxisType.Percentage) {
              var D = u.getVisibleDataList(), R = (_ = (g = D[0]) === null || g === void 0 ? void 0 : g.data) !== null && _ !== void 0 ? _ : {};
              I = "".concat(((k - R.close) / R.close * 100).toFixed(2), "%");
            } else {
              var W = u.getIndicatorStore().getInstances(i.paneId), j = 0, Y = !1;
              w.isInCandle() ? j = u.getPrecision().price : W.forEach(function(te) {
                j = Math.max(te.precision, j), Y || (Y = te.shouldFormatBigNumber);
              }), I = re(k, j), Y && (I = u.getCustomApi().formatBigNumber(I));
            }
            return ke(I, u.getThousandsSeparator());
          }, r.prototype.getTextAttrs = function(i, u, c, g, _, w) {
            var k = _, I, D;
            return k.isFromZero() ? (I = 0, D = "left") : (I = g.width, D = "right"), { x: I, y: c.y, text: i, align: D, baseline: "middle" };
          }, r;
        }(me)
      ), di = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this, i, u) || this;
            return c._yAxisView = new ir(c), c._candleLastPriceLabelView = new vr(c), c._indicatorLastValueView = new Ci(c), c._overlayYAxisView = new Ar(c), c._crosshairHorizontalLabelView = new Mr(c), c.getContainer().style.cursor = "ns-resize", c.addChild(c._overlayYAxisView), c;
          }
          return r.prototype.getName = function() {
            return Vt.YAXIS;
          }, r.prototype.updateMain = function(i) {
            this._yAxisView.draw(i), this.getPane().getAxisComponent().isInCandle() && this._candleLastPriceLabelView.draw(i), this._indicatorLastValueView.draw(i);
          }, r.prototype.updateOverlay = function(i) {
            this._overlayYAxisView.draw(i), this._crosshairHorizontalLabelView.draw(i);
          }, r;
        }(Fa)
      ), Dr = (
        /** @class */
        function() {
          function l(r) {
            this._extremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }, this._prevExtremum = { min: 0, max: 0, range: 0, realMin: 0, realMax: 0, realRange: 0 }, this._ticks = [], this._autoCalcTickFlag = !0, this._parent = r;
          }
          return l.prototype.getParent = function() {
            return this._parent;
          }, l.prototype.buildTicks = function(r) {
            return this._autoCalcTickFlag && (this._extremum = this.calcExtremum()), this._prevExtremum.min !== this._extremum.min || this._prevExtremum.max !== this._extremum.max || r ? (this._prevExtremum = this._extremum, this._ticks = this.optimalTicks(this._calcTicks()), !0) : !1;
          }, l.prototype.getTicks = function() {
            return this._ticks;
          }, l.prototype.getScrollZoomEnabled = function() {
            var r;
            return (r = this.getParent().getOptions().axisOptions.scrollZoomEnabled) !== null && r !== void 0 ? r : !0;
          }, l.prototype.setExtremum = function(r) {
            this._autoCalcTickFlag = !1, this._extremum = r;
          }, l.prototype.getExtremum = function() {
            return this._extremum;
          }, l.prototype.setAutoCalcTickFlag = function(r) {
            this._autoCalcTickFlag = r;
          }, l.prototype.getAutoCalcTickFlag = function() {
            return this._autoCalcTickFlag;
          }, l.prototype._calcTicks = function() {
            var r = this._extremum, i = r.realMin, u = r.realMax, c = r.realRange, g = [];
            if (c >= 0) {
              var _ = Tt(this._calcTickInterval(c), 2), w = _[0], k = _[1], I = _a(Math.ceil(i / w) * w, k), D = _a(Math.floor(u / w) * w, k), R = 0, W = I;
              if (w !== 0)
                for (; W <= D; ) {
                  var j = W.toFixed(k);
                  g[R] = { text: j, coord: 0, value: j }, ++R, W += w;
                }
            }
            return g;
          }, l.prototype._calcTickInterval = function(r) {
            var i = li(r / 8), u = Zs(i);
            return [i, u];
          }, l;
        }()
      ), Jn = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.calcExtremum = function() {
            var i, u, c, g, _, w = this.getParent(), k = w.getChart(), I = k.getChartStore(), D = Number.MAX_SAFE_INTEGER, R = Number.MIN_SAFE_INTEGER, W = [], j = !1, Y = Number.MAX_SAFE_INTEGER, te = Number.MIN_SAFE_INTEGER, q = Number.MAX_SAFE_INTEGER, ie = I.getIndicatorStore().getInstances(w.getId());
            ie.forEach(function(en) {
              var $n, ar, gr;
              j || (j = ($n = en.shouldOhlc) !== null && $n !== void 0 ? $n : !1), q = Math.min(q, en.precision), en.minValue !== null && (Y = Math.min(Y, en.minValue)), en.maxValue !== null && (te = Math.max(te, en.maxValue)), W.push({
                figures: (ar = en.figures) !== null && ar !== void 0 ? ar : [],
                result: (gr = en.result) !== null && gr !== void 0 ? gr : []
              });
            });
            var pe = 4, ye = this.isInCandle();
            if (ye) {
              var Pe = I.getPrecision().price;
              q !== Number.MAX_SAFE_INTEGER ? pe = Math.min(q, Pe) : pe = Pe;
            } else
              q !== Number.MAX_SAFE_INTEGER && (pe = q);
            var Oe = I.getVisibleDataList(), Ze = k.getStyles().candle, Be = Ze.type === n.CandleType.Area, ze = Ze.area.value, ut = ye && !Be || !ye && j;
            Oe.forEach(function(en) {
              var $n = en.dataIndex, ar = en.data;
              if (ut && (D = Math.min(D, ar.low), R = Math.max(R, ar.high)), ye && Be) {
                var gr = ar[ze];
                D = Math.min(D, gr), R = Math.max(R, gr);
              }
              W.forEach(function(tn) {
                var nn, ei = tn.figures, Rr = tn.result, cn = (nn = Rr[$n]) !== null && nn !== void 0 ? nn : {};
                ei.forEach(function(kr) {
                  var Zr = cn[kr.key];
                  H(Zr) && (D = Math.min(D, Zr), R = Math.max(R, Zr));
                });
              });
            }), D !== Number.MAX_SAFE_INTEGER && R !== Number.MIN_SAFE_INTEGER ? (D = Math.min(Y, D), R = Math.max(te, R)) : (D = 0, R = 10);
            var ht = this.getType(), st;
            switch (ht) {
              case n.YAxisType.Percentage: {
                var pt = (i = Oe[0]) === null || i === void 0 ? void 0 : i.data;
                (pt == null ? void 0 : pt.close) !== void 0 && (D = (D - pt.close) / pt.close * 100, R = (R - pt.close) / pt.close * 100), st = Math.pow(10, -2);
                break;
              }
              case n.YAxisType.Log: {
                D = Qn(D), R = Qn(R), st = 0.05 * Er(-pe);
                break;
              }
              default:
                st = Er(-pe);
            }
            if (D === R || Math.abs(D - R) < st) {
              var It = Y === D, wt = te === R;
              D = It ? D : wt ? D - 8 * st : D - 4 * st, R = wt ? R : It ? R + 8 * st : R + 4 * st;
            }
            var Bt = (c = (u = this.getParent().getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding().height) !== null && c !== void 0 ? c : 0, Wt = w.getOptions().gap, Tn = (g = Wt == null ? void 0 : Wt.top) !== null && g !== void 0 ? g : 0.2;
            Tn >= 1 && (Tn = Tn / Bt);
            var Fn = (_ = Wt == null ? void 0 : Wt.bottom) !== null && _ !== void 0 ? _ : 0.1;
            Fn >= 1 && (Fn = Fn / Bt);
            var zn = Math.abs(R - D);
            D = D - zn * Fn, R = R + zn * Tn, zn = Math.abs(R - D);
            var En, Nt, un;
            return ht === n.YAxisType.Log ? (En = Er(D), Nt = Er(R), un = Math.abs(Nt - En)) : (En = D, Nt = R, un = zn), {
              min: D,
              max: R,
              range: zn,
              realMin: En,
              realMax: Nt,
              realRange: un
            };
          }, r.prototype._innerConvertToPixel = function(i) {
            var u, c, g = (c = (u = this.getParent().getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding().height) !== null && c !== void 0 ? c : 0, _ = this.getExtremum(), w = _.min, k = _.range, I = (i - w) / k;
            return this.isReverse() ? Math.round(I * g) : Math.round((1 - I) * g);
          }, r.prototype.isInCandle = function() {
            return this.getParent().getName() === "candle";
          }, r.prototype.getType = function() {
            return this.isInCandle() ? this.getParent().getChart().getStyles().yAxis.type : n.YAxisType.Normal;
          }, r.prototype.getPosition = function() {
            return this.getParent().getChart().getStyles().yAxis.position;
          }, r.prototype.isReverse = function() {
            return this.isInCandle() ? this.getParent().getChart().getStyles().yAxis.reverse : !1;
          }, r.prototype.isFromZero = function() {
            var i = this.getParent().getChart().getStyles().yAxis, u = i.inside;
            return i.position === n.YAxisPosition.Left && u || i.position === n.YAxisPosition.Right && !u;
          }, r.prototype.optimalTicks = function(i) {
            var u = this, c, g, _ = this.getParent(), w = (g = (c = _.getYAxisWidget()) === null || c === void 0 ? void 0 : c.getBounding().height) !== null && g !== void 0 ? g : 0, k = _.getChart().getChartStore(), I = k.getCustomApi(), D = [], R = this.getType(), W = k.getIndicatorStore().getInstances(_.getId()), j = k.getThousandsSeparator(), Y = 0, te = !1;
            this.isInCandle() ? Y = k.getPrecision().price : W.forEach(function(pe) {
              Y = Math.max(Y, pe.precision), te || (te = pe.shouldFormatBigNumber);
            });
            var q = k.getStyles().xAxis.tickText.size, ie;
            return i.forEach(function(pe) {
              var ye = pe.value, Pe, Oe = u._innerConvertToPixel(+ye);
              switch (R) {
                case n.YAxisType.Percentage: {
                  Pe = "".concat(re(ye, 2), "%");
                  break;
                }
                case n.YAxisType.Log: {
                  Oe = u._innerConvertToPixel(Qn(+ye)), Pe = re(ye, Y);
                  break;
                }
                default: {
                  Pe = re(ye, Y), te && (Pe = I.formatBigNumber(ye));
                  break;
                }
              }
              Pe = ke(Pe, j), Oe > q && Oe < w - q && (ie !== void 0 && Math.abs(ie - Oe) > q * 2 || ie === void 0) && (D.push({ text: Pe, coord: Oe, value: ye }), ie = Oe);
            }), D;
          }, r.prototype.getAutoSize = function() {
            var i = this.getParent(), u = i.getChart(), c = u.getStyles(), g = c.yAxis, _ = g.size;
            if (_ !== "auto")
              return _;
            var w = u.getChartStore(), k = w.getCustomApi(), I = 0;
            if (g.show && (g.axisLine.show && (I += g.axisLine.size), g.tickLine.show && (I += g.tickLine.length), g.tickText.show)) {
              var D = 0;
              this.getTicks().forEach(function(Pe) {
                D = Math.max(D, jr(Pe.text, g.tickText.size, g.tickText.weight, g.tickText.family));
              }), I += g.tickText.marginStart + g.tickText.marginEnd + D;
            }
            var R = c.crosshair, W = 0;
            if (R.show && R.horizontal.show && R.horizontal.text.show) {
              var j = w.getIndicatorStore().getInstances(i.getId()), Y = 0, te = !1;
              j.forEach(function(Pe) {
                Y = Math.max(Pe.precision, Y), te || (te = Pe.shouldFormatBigNumber);
              });
              var q = 2;
              if (this.getType() !== n.YAxisType.Percentage)
                if (this.isInCandle()) {
                  var ie = w.getPrecision().price, pe = c.indicator.lastValueMark;
                  pe.show && pe.text.show ? q = Math.max(Y, ie) : q = ie;
                } else
                  q = Y;
              var ye = re(this.getExtremum().max, q);
              te && (ye = k.formatBigNumber(ye)), W += R.horizontal.text.paddingLeft + R.horizontal.text.paddingRight + R.horizontal.text.borderSize * 2 + jr(ye, R.horizontal.text.size, R.horizontal.text.weight, R.horizontal.text.family);
            }
            return Math.max(I, W);
          }, r.prototype.convertFromPixel = function(i) {
            var u, c, g, _ = (c = (u = this.getParent().getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding().height) !== null && c !== void 0 ? c : 0, w = this.getExtremum(), k = w.min, I = w.range, D = this.isReverse() ? i / _ : 1 - i / _, R = D * I + k;
            switch (this.getType()) {
              case n.YAxisType.Percentage: {
                var W = this.getParent().getChart().getChartStore(), j = W.getVisibleDataList(), Y = (g = j[0]) === null || g === void 0 ? void 0 : g.data;
                return (Y == null ? void 0 : Y.close) !== void 0 ? Y.close * R / 100 + Y.close : 0;
              }
              case n.YAxisType.Log:
                return Er(R);
              default:
                return R;
            }
          }, r.prototype.convertToRealValue = function(i) {
            var u = i;
            return this.getType() === n.YAxisType.Log && (u = Er(i)), u;
          }, r.prototype.convertToPixel = function(i) {
            var u, c = i;
            switch (this.getType()) {
              case n.YAxisType.Percentage: {
                var g = this.getParent().getChart().getChartStore(), _ = g.getVisibleDataList(), w = (u = _[0]) === null || u === void 0 ? void 0 : u.data;
                (w == null ? void 0 : w.close) !== void 0 && (c = (i - w.close) / w.close * 100);
                break;
              }
              case n.YAxisType.Log: {
                c = Qn(i);
                break;
              }
              default:
                c = i;
            }
            return this._innerConvertToPixel(c);
          }, r.prototype.convertToNicePixel = function(i) {
            var u, c, g = (c = (u = this.getParent().getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding().height) !== null && c !== void 0 ? c : 0, _ = this.convertToPixel(i);
            return Math.round(Math.max(g * 0.05, Math.min(_, g * 0.98)));
          }, r;
        }(Dr)
      ), Oa = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getName = function() {
            return "indicator";
          }, r.prototype.createAxisComponent = function() {
            return new Jn(this);
          }, r.prototype.createMainWidget = function(i) {
            return new lt(i, this);
          }, r.prototype.createSeparatorWidget = function(i) {
            return new sa(i, this);
          }, r.prototype.createYAxisWidget = function(i) {
            return new di(i, this);
          }, r;
        }(ao)
      ), Qs = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getName = function() {
            return "candle";
          }, r.prototype.createMainWidget = function(i) {
            return new ln(i, this);
          }, r.prototype.createSeparatorWidget = function() {
            return null;
          }, r;
        }(Oa)
      ), Ba = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getAxisStyles = function(i) {
            return i.xAxis;
          }, r.prototype.createAxisLine = function(i, u) {
            var c = u.axisLine.size / 2;
            return {
              coordinates: [
                { x: 0, y: c },
                { x: i.width, y: c }
              ]
            };
          }, r.prototype.createTickLines = function(i, u, c) {
            var g = c.tickLine, _ = c.axisLine.size;
            return i.map(function(w) {
              return {
                coordinates: [
                  { x: w.coord, y: 0 },
                  { x: w.coord, y: _ + g.length }
                ]
              };
            });
          }, r.prototype.createTickTexts = function(i, u, c) {
            var g = c.tickText, _ = c.axisLine.size, w = c.tickLine.length;
            return i.map(function(k) {
              return {
                x: k.coord,
                y: _ + w + g.marginStart,
                text: k.text,
                align: "center",
                baseline: "top"
              };
            });
          }, r;
        }(Pn)
      ), Oi = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.coordinateToPointTimestampDataIndexFlag = function() {
            return !0;
          }, r.prototype.coordinateToPointValueFlag = function() {
            return !1;
          }, r.prototype.getCompleteOverlays = function(i) {
            return i.getInstances();
          }, r.prototype.getProgressOverlay = function(i) {
            return i.instance;
          }, r.prototype.getDefaultFigures = function(i, u, c, g, _, w, k, I, D, R) {
            var W, j = [];
            if (i.needDefaultXAxisFigure && i.id === ((W = R.instance) === null || W === void 0 ? void 0 : W.id)) {
              var Y = Number.MAX_SAFE_INTEGER, te = Number.MIN_SAFE_INTEGER;
              u.forEach(function(q, ie) {
                Y = Math.min(Y, q.x), te = Math.max(te, q.x);
                var pe = i.points[ie];
                if (pe.timestamp !== void 0) {
                  var ye = w.formatDate(_, pe.timestamp, "YYYY-MM-DD HH:mm", n.FormatDateType.Crosshair);
                  j.push({ type: "text", attrs: { x: q.x, y: 0, text: ye, align: "center" }, ignoreEvent: !0 });
                }
              }), u.length > 1 && j.unshift({ type: "rect", attrs: { x: Y, y: 0, width: te - Y, height: c.height }, ignoreEvent: !0 });
            }
            return j;
          }, r.prototype.getFigures = function(i, u, c, g, _, w, k, I, D, R) {
            var W, j;
            return (j = (W = i.createXAxisFigures) === null || W === void 0 ? void 0 : W.call(i, { overlay: i, coordinates: u, bounding: c, barSpace: g, precision: _, thousandsSeparator: w, dateTimeFormat: k, defaultStyles: I, xAxis: D, yAxis: R })) !== null && j !== void 0 ? j : [];
          }, r;
        }(Ar)
      ), cr = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.compare = function(i) {
            return i.kLineData !== void 0 && i.dataIndex === i.realDataIndex;
          }, r.prototype.getDirectionStyles = function(i) {
            return i.vertical;
          }, r.prototype.getText = function(i, u) {
            var c, g = (c = i.kLineData) === null || c === void 0 ? void 0 : c.timestamp;
            return u.getCustomApi().formatDate(u.getTimeScaleStore().getDateTimeFormat(), g, "YYYY-MM-DD HH:mm", n.FormatDateType.Crosshair);
          }, r.prototype.getTextAttrs = function(i, u, c, g, _, w) {
            var k = c.realX, I, D = "center";
            return k - u / 2 - w.paddingLeft < 0 ? (I = 0, D = "left") : k + u / 2 + w.paddingRight > g.width ? (I = g.width, D = "right") : I = k, { x: I, y: 0, text: i, align: D, baseline: "top" };
          }, r;
        }(Mr)
      ), Fr = (
        /** @class */
        function(l) {
          Le(r, l);
          function r(i, u) {
            var c = l.call(this, i, u) || this;
            return c._xAxisView = new Ba(c), c._overlayXAxisView = new Oi(c), c._crosshairVerticalLabelView = new cr(c), c.getContainer().style.cursor = "ew-resize", c.addChild(c._overlayXAxisView), c;
          }
          return r.prototype.getName = function() {
            return Vt.XAXIS;
          }, r.prototype.updateMain = function(i) {
            this._xAxisView.draw(i);
          }, r.prototype.updateOverlay = function(i) {
            this._overlayXAxisView.draw(i), this._crosshairVerticalLabelView.draw(i);
          }, r;
        }(Fa)
      ), Si = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.calcExtremum = function() {
            var i = this.getParent().getChart().getChartStore(), u = i.getTimeScaleStore().getVisibleRange(), c = u.from, g = u.to, _ = c, w = g - 1, k = g - c;
            return {
              min: _,
              max: w,
              range: k,
              realMin: _,
              realMax: w,
              realRange: k
            };
          }, r.prototype.optimalTicks = function(i) {
            var u, c, g, _ = this.getParent().getChart(), w = _.getChartStore(), k = w.getCustomApi().formatDate, I = [], D = i.length, R = w.getDataList();
            if (D > 0) {
              var W = w.getTimeScaleStore().getDateTimeFormat(), j = _.getStyles().xAxis.tickText, Y = jr("00-00 00:00", j.size, j.weight, j.family), te = parseInt(i[0].value, 10), q = this.convertToPixel(te), ie = 1;
              if (D > 1) {
                var pe = parseInt(i[1].value, 10), ye = this.convertToPixel(pe), Pe = Math.abs(ye - q);
                Pe < Y && (ie = Math.ceil(Y / Pe));
              }
              for (var Oe = 0; Oe < D; Oe += ie) {
                var Ze = parseInt(i[Oe].value, 10), Be = R[Ze], ze = Be.timestamp, ut = k(W, ze, "HH:mm", n.FormatDateType.XAxis);
                if (Oe !== 0) {
                  var ht = parseInt(i[Oe - ie].value, 10), st = R[ht], pt = st.timestamp;
                  ut = (u = this._optimalTickLabel(k, W, ze, pt)) !== null && u !== void 0 ? u : ut;
                }
                var It = this.convertToPixel(Ze);
                if (I.push({ text: ut, coord: It, value: ze }), I.length > 2 && Oe === D - 1 * ie)
                  for (var wt = I[I.length - 1], Bt = Number(wt.value) - Number(I[I.length - 2].value), Wt = wt.coord - I[I.length - 2].coord, Tn = 10, Fn = 0, zn = 1; zn < Tn; zn += 1)
                    Fn = Number(wt.value) + Number(zn * Bt), I.push({
                      text: (c = this._optimalTickLabel(k, W, Fn, Number(wt.value))) !== null && c !== void 0 ? c : ut,
                      coord: wt.coord + zn * Wt,
                      value: Number(wt.value) + Number(zn * Bt)
                    });
              }
              var En = I.length;
              if (En === 1)
                I[0].text = k(W, I[0].value, "YYYY-MM-DD HH:mm", n.FormatDateType.XAxis);
              else {
                var Nt = I[0].value, un = I[1].value;
                if (I[2] !== void 0) {
                  var en = I[2].text;
                  /^[0-9]{2}-[0-9]{2}$/.test(en) ? I[0].text = k(W, Nt, "MM-DD", n.FormatDateType.XAxis) : /^[0-9]{4}-[0-9]{2}$/.test(en) ? I[0].text = k(W, Nt, "YYYY-MM", n.FormatDateType.XAxis) : /^[0-9]{4}$/.test(en) && (I[0].text = k(W, Nt, "YYYY", n.FormatDateType.XAxis));
                } else
                  I[0].text = (g = this._optimalTickLabel(k, W, Nt, un)) !== null && g !== void 0 ? g : I[0].text;
              }
            }
            return I;
          }, r.prototype._optimalTickLabel = function(i, u, c, g) {
            var _ = i(u, c, "YYYY", n.FormatDateType.XAxis), w = i(u, c, "YYYY-MM", n.FormatDateType.XAxis), k = i(u, c, "MM-DD", n.FormatDateType.XAxis);
            return _ !== i(u, g, "YYYY", n.FormatDateType.XAxis) ? _ : w !== i(u, g, "YYYY-MM", n.FormatDateType.XAxis) ? w : k !== i(u, g, "MM-DD", n.FormatDateType.XAxis) ? k : null;
          }, r.prototype.getAutoSize = function() {
            var i = this.getParent().getChart().getStyles(), u = i.xAxis, c = u.size;
            if (c !== "auto")
              return c;
            var g = i.crosshair, _ = 0;
            u.show && (u.axisLine.show && (_ += u.axisLine.size), u.tickLine.show && (_ += u.tickLine.length), u.tickText.show && (_ += u.tickText.marginStart + u.tickText.marginEnd + u.tickText.size));
            var w = 0;
            return g.show && g.vertical.show && g.vertical.text.show && (w += g.vertical.text.paddingTop + g.vertical.text.paddingBottom + g.vertical.text.borderSize * 2 + g.vertical.text.size), Math.max(_, w);
          }, r.prototype.convertTimestampFromPixel = function(i) {
            var u = this.getParent().getChart().getChartStore().getTimeScaleStore(), c = u.coordinateToDataIndex(i);
            return u.dataIndexToTimestamp(c);
          }, r.prototype.convertTimestampToPixel = function(i) {
            var u = this.getParent().getChart().getChartStore().getTimeScaleStore(), c = u.timestampToDataIndex(i);
            return u.dataIndexToCoordinate(c);
          }, r.prototype.convertFromPixel = function(i) {
            return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(i);
          }, r.prototype.convertToPixel = function(i) {
            return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(i);
          }, r;
        }(Dr)
      ), Na = (
        /** @class */
        function(l) {
          Le(r, l);
          function r() {
            return l !== null && l.apply(this, arguments) || this;
          }
          return r.prototype.getName = function() {
            return "xAxis";
          }, r.prototype.createAxisComponent = function() {
            return new Si(this);
          }, r.prototype.createMainWidget = function(i) {
            return new Fr(i, this);
          }, r;
        }(ao)
      );
      function Ho() {
        var l;
        return typeof window > "u" ? !1 : ((l = window.navigator.userAgent.toLowerCase().indexOf("firefox")) !== null && l !== void 0 ? l : -1) > -1;
      }
      function Jr() {
        return typeof window > "u" ? !1 : /iPhone|iPad|iPod/.test(window.navigator.platform);
      }
      var $r = 10, ua = (
        /** @class */
        function() {
          function l(r, i, u) {
            var c = this;
            this._clickCount = 0, this._clickTimeoutId = null, this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }, this._tapCount = 0, this._tapTimeoutId = null, this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }, this._longTapTimeoutId = null, this._longTapActive = !1, this._mouseMoveStartCoordinate = null, this._touchMoveStartCoordinate = null, this._touchMoveExceededManhattanDistance = !1, this._cancelClick = !1, this._cancelTap = !1, this._unsubscribeOutsideMouseEvents = null, this._unsubscribeOutsideTouchEvents = null, this._unsubscribeMobileSafariEvents = null, this._unsubscribeMousemove = null, this._unsubscribeMouseWheel = null, this._unsubscribeContextMenu = null, this._unsubscribeRootMouseEvents = null, this._unsubscribeRootTouchEvents = null, this._startPinchMiddleCoordinate = null, this._startPinchDistance = 0, this._pinchPrevented = !1, this._preventTouchDragProcess = !1, this._mousePressed = !1, this._lastTouchEventTimeStamp = 0, this._activeTouchId = null, this._acceptMouseLeave = !Jr(), this._onFirefoxOutsideMouseUp = function(g) {
              c._mouseUpHandler(g);
            }, this._onMobileSafariDoubleClick = function(g) {
              if (c._firesTouchEvents(g)) {
                if (++c._tapCount, c._tapTimeoutId !== null && c._tapCount > 1) {
                  var _ = c._mouseTouchMoveWithDownInfo(c._getCoordinate(g), c._tapCoordinate).manhattanDistance;
                  _ < 30 && !c._cancelTap && c._processEvent(c._makeCompatEvent(g), c._handler.doubleTapEvent), c._resetTapTimeout();
                }
              } else if (++c._clickCount, c._clickTimeoutId !== null && c._clickCount > 1) {
                var _ = c._mouseTouchMoveWithDownInfo(c._getCoordinate(g), c._clickCoordinate).manhattanDistance;
                _ < 5 && !c._cancelClick && c._processEvent(c._makeCompatEvent(g), c._handler.mouseDoubleClickEvent), c._resetClickTimeout();
              }
            }, this._target = r, this._handler = i, this._options = u, this._init();
          }
          return l.prototype.destroy = function() {
            this._unsubscribeOutsideMouseEvents !== null && (this._unsubscribeOutsideMouseEvents(), this._unsubscribeOutsideMouseEvents = null), this._unsubscribeOutsideTouchEvents !== null && (this._unsubscribeOutsideTouchEvents(), this._unsubscribeOutsideTouchEvents = null), this._unsubscribeMousemove !== null && (this._unsubscribeMousemove(), this._unsubscribeMousemove = null), this._unsubscribeMouseWheel !== null && (this._unsubscribeMouseWheel(), this._unsubscribeMouseWheel = null), this._unsubscribeContextMenu !== null && (this._unsubscribeContextMenu(), this._unsubscribeContextMenu = null), this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null), this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null), this._unsubscribeMobileSafariEvents !== null && (this._unsubscribeMobileSafariEvents(), this._unsubscribeMobileSafariEvents = null), this._clearLongTapTimeout(), this._resetClickTimeout();
          }, l.prototype._mouseEnterHandler = function(r) {
            var i = this, u, c, g;
            (u = this._unsubscribeMousemove) === null || u === void 0 || u.call(this), (c = this._unsubscribeMouseWheel) === null || c === void 0 || c.call(this), (g = this._unsubscribeContextMenu) === null || g === void 0 || g.call(this);
            var _ = this._mouseMoveHandler.bind(this);
            this._unsubscribeMousemove = function() {
              i._target.removeEventListener("mousemove", _);
            }, this._target.addEventListener("mousemove", _);
            var w = this._mouseWheelHandler.bind(this);
            this._unsubscribeMouseWheel = function() {
              i._target.removeEventListener("wheel", w);
            }, this._target.addEventListener("wheel", w, { passive: !1 });
            var k = this._contextMenuHandler.bind(this);
            this._unsubscribeContextMenu = function() {
              i._target.removeEventListener("contextmenu", k);
            }, this._target.addEventListener("contextmenu", k, { passive: !1 }), !this._firesTouchEvents(r) && (this._processEvent(this._makeCompatEvent(r), this._handler.mouseEnterEvent), this._acceptMouseLeave = !0);
          }, l.prototype._resetClickTimeout = function() {
            this._clickTimeoutId !== null && clearTimeout(this._clickTimeoutId), this._clickCount = 0, this._clickTimeoutId = null, this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };
          }, l.prototype._resetTapTimeout = function() {
            this._tapTimeoutId !== null && clearTimeout(this._tapTimeoutId), this._tapCount = 0, this._tapTimeoutId = null, this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };
          }, l.prototype._mouseMoveHandler = function(r) {
            this._mousePressed || this._touchMoveStartCoordinate !== null || this._firesTouchEvents(r) || (this._processEvent(this._makeCompatEvent(r), this._handler.mouseMoveEvent), this._acceptMouseLeave = !0);
          }, l.prototype._mouseWheelHandler = function(r) {
            if (Math.abs(r.deltaX) > Math.abs(r.deltaY)) {
              if (this._handler.mouseWheelHortEvent === void 0 || (this._preventDefault(r), Math.abs(r.deltaX) === 0))
                return;
              this._handler.mouseWheelHortEvent(this._makeCompatEvent(r), -r.deltaX);
            } else {
              if (this._handler.mouseWheelVertEvent === void 0)
                return;
              var i = -(r.deltaY / 100);
              if (i === 0)
                return;
              switch (this._preventDefault(r), r.deltaMode) {
                case r.DOM_DELTA_PAGE:
                  i *= 120;
                  break;
                case r.DOM_DELTA_LINE:
                  i *= 32;
                  break;
              }
              if (i !== 0) {
                var u = Math.sign(i) * Math.min(1, Math.abs(i));
                this._handler.mouseWheelVertEvent(this._makeCompatEvent(r), u);
              }
            }
          }, l.prototype._contextMenuHandler = function(r) {
            this._preventDefault(r);
          }, l.prototype._touchMoveHandler = function(r) {
            var i = this._touchWithId(r.changedTouches, this._activeTouchId);
            if (i !== null && (this._lastTouchEventTimeStamp = this._eventTimeStamp(r), this._startPinchMiddleCoordinate === null && !this._preventTouchDragProcess)) {
              this._pinchPrevented = !0;
              var u = this._mouseTouchMoveWithDownInfo(this._getCoordinate(i), this._touchMoveStartCoordinate), c = u.xOffset, g = u.yOffset, _ = u.manhattanDistance;
              if (!(!this._touchMoveExceededManhattanDistance && _ < 5)) {
                if (!this._touchMoveExceededManhattanDistance) {
                  var w = c * 0.5, k = g >= w && !this._options.treatVertDragAsPageScroll(), I = w > g && !this._options.treatHorzDragAsPageScroll();
                  !k && !I && (this._preventTouchDragProcess = !0), this._touchMoveExceededManhattanDistance = !0, this._cancelTap = !0, this._clearLongTapTimeout(), this._resetTapTimeout();
                }
                this._preventTouchDragProcess || this._processEvent(this._makeCompatEvent(r, i), this._handler.touchMoveEvent);
              }
            }
          }, l.prototype._mouseMoveWithDownHandler = function(r) {
            if (r.button === 0) {
              var i = this._mouseTouchMoveWithDownInfo(this._getCoordinate(r), this._mouseMoveStartCoordinate), u = i.manhattanDistance;
              u >= 5 && (this._cancelClick = !0, this._resetClickTimeout()), this._cancelClick && this._processEvent(this._makeCompatEvent(r), this._handler.pressedMouseMoveEvent);
            }
          }, l.prototype._mouseTouchMoveWithDownInfo = function(r, i) {
            var u = Math.abs(i.x - r.x), c = Math.abs(i.y - r.y), g = u + c;
            return { xOffset: u, yOffset: c, manhattanDistance: g };
          }, l.prototype._touchEndHandler = function(r) {
            var i = this._touchWithId(r.changedTouches, this._activeTouchId);
            if (i === null && r.touches.length === 0 && (i = r.changedTouches[0]), i !== null) {
              this._activeTouchId = null, this._lastTouchEventTimeStamp = this._eventTimeStamp(r), this._clearLongTapTimeout(), this._touchMoveStartCoordinate = null, this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null);
              var u = this._makeCompatEvent(r, i);
              if (this._processEvent(u, this._handler.touchEndEvent), ++this._tapCount, this._tapTimeoutId !== null && this._tapCount > 1) {
                var c = this._mouseTouchMoveWithDownInfo(this._getCoordinate(i), this._tapCoordinate).manhattanDistance;
                c < 30 && !this._cancelTap && this._processEvent(u, this._handler.doubleTapEvent), this._resetTapTimeout();
              } else
                this._cancelTap || (this._processEvent(u, this._handler.tapEvent), this._handler.tapEvent !== void 0 && this._preventDefault(r));
              this._tapCount === 0 && this._preventDefault(r), r.touches.length === 0 && this._longTapActive && (this._longTapActive = !1, this._preventDefault(r));
            }
          }, l.prototype._mouseUpHandler = function(r) {
            if (r.button === 0) {
              var i = this._makeCompatEvent(r);
              if (this._mouseMoveStartCoordinate = null, this._mousePressed = !1, this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null), Ho()) {
                var u = this._target.ownerDocument.documentElement;
                u.removeEventListener("mouseleave", this._onFirefoxOutsideMouseUp);
              }
              if (!this._firesTouchEvents(r))
                if (this._processEvent(i, this._handler.mouseUpEvent), ++this._clickCount, this._clickTimeoutId !== null && this._clickCount > 1) {
                  var c = this._mouseTouchMoveWithDownInfo(this._getCoordinate(r), this._clickCoordinate).manhattanDistance;
                  c < 5 && !this._cancelClick && this._processEvent(i, this._handler.mouseDoubleClickEvent), this._resetClickTimeout();
                } else
                  this._cancelClick || this._processEvent(i, this._handler.mouseClickEvent);
            }
          }, l.prototype._clearLongTapTimeout = function() {
            this._longTapTimeoutId !== null && (clearTimeout(this._longTapTimeoutId), this._longTapTimeoutId = null);
          }, l.prototype._touchStartHandler = function(r) {
            if (this._activeTouchId === null) {
              var i = r.changedTouches[0];
              this._activeTouchId = i.identifier, this._lastTouchEventTimeStamp = this._eventTimeStamp(r);
              var u = this._target.ownerDocument.documentElement;
              this._cancelTap = !1, this._touchMoveExceededManhattanDistance = !1, this._preventTouchDragProcess = !1, this._touchMoveStartCoordinate = this._getCoordinate(i), this._unsubscribeRootTouchEvents !== null && (this._unsubscribeRootTouchEvents(), this._unsubscribeRootTouchEvents = null);
              {
                var c = this._touchMoveHandler.bind(this), g = this._touchEndHandler.bind(this);
                this._unsubscribeRootTouchEvents = function() {
                  u.removeEventListener("touchmove", c), u.removeEventListener("touchend", g);
                }, u.addEventListener("touchmove", c, { passive: !1 }), u.addEventListener("touchend", g, { passive: !1 }), this._clearLongTapTimeout(), this._longTapTimeoutId = setTimeout(
                  this._longTapHandler.bind(this, r),
                  500
                  /* Delay.LongTap */
                );
              }
              this._processEvent(this._makeCompatEvent(r, i), this._handler.touchStartEvent), this._tapTimeoutId === null && (this._tapCount = 0, this._tapTimeoutId = setTimeout(
                this._resetTapTimeout.bind(this),
                500
                /* Delay.ResetClick */
              ), this._tapCoordinate = this._getCoordinate(i));
            }
          }, l.prototype._mouseDownHandler = function(r) {
            if (r.button === 2) {
              this._preventDefault(r), this._processEvent(this._makeCompatEvent(r), this._handler.mouseRightClickEvent);
              return;
            }
            if (r.button === 0) {
              var i = this._target.ownerDocument.documentElement;
              Ho() && i.addEventListener("mouseleave", this._onFirefoxOutsideMouseUp), this._cancelClick = !1, this._mouseMoveStartCoordinate = this._getCoordinate(r), this._unsubscribeRootMouseEvents !== null && (this._unsubscribeRootMouseEvents(), this._unsubscribeRootMouseEvents = null);
              {
                var u = this._mouseMoveWithDownHandler.bind(this), c = this._mouseUpHandler.bind(this);
                this._unsubscribeRootMouseEvents = function() {
                  i.removeEventListener("mousemove", u), i.removeEventListener("mouseup", c);
                }, i.addEventListener("mousemove", u), i.addEventListener("mouseup", c);
              }
              this._mousePressed = !0, !this._firesTouchEvents(r) && (this._processEvent(this._makeCompatEvent(r), this._handler.mouseDownEvent), this._clickTimeoutId === null && (this._clickCount = 0, this._clickTimeoutId = setTimeout(
                this._resetClickTimeout.bind(this),
                500
                /* Delay.ResetClick */
              ), this._clickCoordinate = this._getCoordinate(r)));
            }
          }, l.prototype._init = function() {
            var r = this;
            this._target.addEventListener("mouseenter", this._mouseEnterHandler.bind(this)), this._target.addEventListener("touchcancel", this._clearLongTapTimeout.bind(this));
            {
              var i = this._target.ownerDocument, u = function(c) {
                r._handler.mouseDownOutsideEvent != null && (c.composed && r._target.contains(c.composedPath()[0]) || c.target !== null && r._target.contains(c.target) || r._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }));
              };
              this._unsubscribeOutsideTouchEvents = function() {
                i.removeEventListener("touchstart", u);
              }, this._unsubscribeOutsideMouseEvents = function() {
                i.removeEventListener("mousedown", u);
              }, i.addEventListener("mousedown", u), i.addEventListener("touchstart", u, { passive: !0 });
            }
            Jr() && (this._unsubscribeMobileSafariEvents = function() {
              r._target.removeEventListener("dblclick", r._onMobileSafariDoubleClick);
            }, this._target.addEventListener("dblclick", this._onMobileSafariDoubleClick)), this._target.addEventListener("mouseleave", this._mouseLeaveHandler.bind(this)), this._target.addEventListener("touchstart", this._touchStartHandler.bind(this), { passive: !0 }), this._target.addEventListener("mousedown", function(c) {
              if (c.button === 1)
                return c.preventDefault(), !1;
            }), this._target.addEventListener("mousedown", this._mouseDownHandler.bind(this)), this._initPinch(), this._target.addEventListener("touchmove", function() {
            }, { passive: !1 });
          }, l.prototype._initPinch = function() {
            var r = this;
            this._handler.pinchStartEvent === void 0 && this._handler.pinchEvent === void 0 && this._handler.pinchEndEvent === void 0 || (this._target.addEventListener("touchstart", function(i) {
              return r._checkPinchState(i.touches);
            }, { passive: !0 }), this._target.addEventListener("touchmove", function(i) {
              if (!(i.touches.length !== 2 || r._startPinchMiddleCoordinate === null) && r._handler.pinchEvent !== void 0) {
                var u = r._getTouchDistance(i.touches[0], i.touches[1]), c = u / r._startPinchDistance;
                r._handler.pinchEvent(nt(nt({}, r._startPinchMiddleCoordinate), { pageX: 0, pageY: 0 }), c), r._preventDefault(i);
              }
            }, { passive: !1 }), this._target.addEventListener("touchend", function(i) {
              r._checkPinchState(i.touches);
            }));
          }, l.prototype._checkPinchState = function(r) {
            r.length === 1 && (this._pinchPrevented = !1), r.length !== 2 || this._pinchPrevented || this._longTapActive ? this._stopPinch() : this._startPinch(r);
          }, l.prototype._startPinch = function(r) {
            var i, u = (i = this._target.getBoundingClientRect()) !== null && i !== void 0 ? i : { left: 0, top: 0 };
            this._startPinchMiddleCoordinate = {
              x: (r[0].clientX - u.left + (r[1].clientX - u.left)) / 2,
              y: (r[0].clientY - u.top + (r[1].clientY - u.top)) / 2
            }, this._startPinchDistance = this._getTouchDistance(r[0], r[1]), this._handler.pinchStartEvent !== void 0 && this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }), this._clearLongTapTimeout();
          }, l.prototype._stopPinch = function() {
            this._startPinchMiddleCoordinate !== null && (this._startPinchMiddleCoordinate = null, this._handler.pinchEndEvent !== void 0 && this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 }));
          }, l.prototype._mouseLeaveHandler = function(r) {
            var i, u, c;
            (i = this._unsubscribeMousemove) === null || i === void 0 || i.call(this), (u = this._unsubscribeMouseWheel) === null || u === void 0 || u.call(this), (c = this._unsubscribeContextMenu) === null || c === void 0 || c.call(this), !this._firesTouchEvents(r) && this._acceptMouseLeave && (this._processEvent(this._makeCompatEvent(r), this._handler.mouseLeaveEvent), this._acceptMouseLeave = !Jr());
          }, l.prototype._longTapHandler = function(r) {
            var i = this._touchWithId(r.touches, this._activeTouchId);
            i !== null && (this._processEvent(this._makeCompatEvent(r, i), this._handler.longTapEvent), this._cancelTap = !0, this._longTapActive = !0);
          }, l.prototype._firesTouchEvents = function(r) {
            var i;
            return ((i = r.sourceCapabilities) === null || i === void 0 ? void 0 : i.firesTouchEvents) !== void 0 ? r.sourceCapabilities.firesTouchEvents : this._eventTimeStamp(r) < this._lastTouchEventTimeStamp + 500;
          }, l.prototype._processEvent = function(r, i) {
            i == null || i.call(this._handler, r);
          }, l.prototype._makeCompatEvent = function(r, i) {
            var u = this, c, g = i ?? r, _ = (c = this._target.getBoundingClientRect()) !== null && c !== void 0 ? c : { left: 0, top: 0 };
            return {
              x: g.clientX - _.left,
              y: g.clientY - _.top,
              pageX: g.pageX,
              pageY: g.pageY,
              isTouch: !r.type.startsWith("mouse") && r.type !== "contextmenu" && r.type !== "click",
              preventDefault: function() {
                r.type !== "touchstart" && u._preventDefault(r);
              }
            };
          }, l.prototype._getTouchDistance = function(r, i) {
            var u = r.clientX - i.clientX, c = r.clientY - i.clientY;
            return Math.sqrt(u * u + c * c);
          }, l.prototype._preventDefault = function(r) {
            r.cancelable && r.preventDefault();
          }, l.prototype._getCoordinate = function(r) {
            return {
              x: r.pageX,
              y: r.pageY
            };
          }, l.prototype._eventTimeStamp = function(r) {
            var i;
            return (i = r.timeStamp) !== null && i !== void 0 ? i : performance.now();
          }, l.prototype._touchWithId = function(r, i) {
            for (var u = 0; u < r.length; ++u)
              if (r[u].identifier === i)
                return r[u];
            return null;
          }, l;
        }()
      ), Zo = (
        /** @class */
        function() {
          function l(r, i) {
            var u = this;
            this._flingStartTime = (/* @__PURE__ */ new Date()).getTime(), this._flingScrollRequestId = null, this._startScrollCoordinate = null, this._touchCoordinate = null, this._touchCancelCrosshair = !1, this._touchZoomed = !1, this._pinchScale = 1, this._mouseDownWidget = null, this._prevYAxisExtremum = null, this._xAxisStartScaleCoordinate = null, this._xAxisStartScaleDistance = 0, this._xAxisScale = 1, this._yAxisStartScaleDistance = 0, this._mouseMoveTriggerWidgetInfo = { pane: null, widget: null }, this._boundKeyBoardDownEvent = function(c) {
              if (c.shiftKey)
                switch (c.code) {
                  case "Equal": {
                    u._chart.getChartStore().getTimeScaleStore().zoom(0.5);
                    break;
                  }
                  case "Minus": {
                    u._chart.getChartStore().getTimeScaleStore().zoom(-0.5);
                    break;
                  }
                  case "ArrowLeft": {
                    var g = u._chart.getChartStore().getTimeScaleStore();
                    g.startScroll(), g.scroll(-3 * g.getBarSpace().bar);
                    break;
                  }
                  case "ArrowRight": {
                    var g = u._chart.getChartStore().getTimeScaleStore();
                    g.startScroll(), g.scroll(3 * g.getBarSpace().bar);
                    break;
                  }
                }
            }, this._container = r, this._chart = i, this._event = new ua(r, this, {
              treatVertDragAsPageScroll: function() {
                return !1;
              },
              treatHorzDragAsPageScroll: function() {
                return !1;
              }
            }), r.addEventListener("keydown", this._boundKeyBoardDownEvent);
          }
          return l.prototype.pinchStartEvent = function() {
            return this._touchZoomed = !0, this._pinchScale = 1, !0;
          }, l.prototype.pinchEvent = function(r, i) {
            var u = this._findWidgetByEvent(r), c = u.pane, g = u.widget;
            if ((c == null ? void 0 : c.getId()) !== Qt.XAXIS && (g == null ? void 0 : g.getName()) === Vt.MAIN) {
              var _ = this._makeWidgetEvent(r, g), w = (i - this._pinchScale) * 5;
              return this._pinchScale = i, this._chart.getChartStore().getTimeScaleStore().zoom(w, { x: _.x, y: _.y }), !0;
            }
            return !1;
          }, l.prototype.mouseWheelHortEvent = function(r, i) {
            var u = this._chart.getChartStore().getTimeScaleStore();
            return u.startScroll(), u.scroll(i), !0;
          }, l.prototype.mouseWheelVertEvent = function(r, i) {
            var u, c, g = this._findWidgetByEvent(r).widget, _ = (u = r.isTouch) !== null && u !== void 0 ? u : !1, w = this._makeWidgetEvent(r, g), k = null, I = g == null ? void 0 : g.getName();
            if (_)
              if (I === Vt.MAIN || I === Vt.XAXIS)
                k = { x: w.x, y: w.y };
              else {
                var D = (c = this._chart.getPaneById(Qt.CANDLE)) === null || c === void 0 ? void 0 : c.getBounding();
                k = { x: D.width / 2, y: D.height / 2 };
              }
            else
              I === Vt.MAIN && (k = { x: w.x, y: w.y });
            return k !== null ? (this._chart.getChartStore().getTimeScaleStore().zoom(i, { x: w.x, y: w.y }), !0) : !1;
          }, l.prototype.mouseDownEvent = function(r) {
            var i, u, c = this._findWidgetByEvent(r), g = c.pane, _ = c.widget;
            if (this._mouseDownWidget = _, _ !== null) {
              var w = this._makeWidgetEvent(r, _), k = _.getName();
              switch (k) {
                case Vt.SEPARATOR:
                  return _.dispatchEvent("mouseDownEvent", w);
                case Vt.MAIN: {
                  var I = (i = g == null ? void 0 : g.getAxisComponent().getExtremum()) !== null && i !== void 0 ? i : null;
                  return this._prevYAxisExtremum = I === null ? I : nt({}, I), this._startScrollCoordinate = { x: w.x, y: w.y }, this._chart.getChartStore().getTimeScaleStore().startScroll(), _.dispatchEvent("mouseDownEvent", w);
                }
                case Vt.XAXIS: {
                  var D = _.dispatchEvent("mouseDownEvent", w);
                  return D && this._chart.updatePane(
                    1
                    /* UpdateLevel.Overlay */
                  ), this._xAxisStartScaleCoordinate = { x: w.x, y: w.y }, this._xAxisStartScaleDistance = w.pageX, D;
                }
                case Vt.YAXIS: {
                  var D = _.dispatchEvent("mouseDownEvent", w);
                  D && this._chart.updatePane(
                    1
                    /* UpdateLevel.Overlay */
                  );
                  var I = (u = g == null ? void 0 : g.getAxisComponent().getExtremum()) !== null && u !== void 0 ? u : null;
                  return this._prevYAxisExtremum = I === null ? I : nt({}, I), this._yAxisStartScaleDistance = w.pageY, D;
                }
              }
            }
            return !1;
          }, l.prototype.mouseMoveEvent = function(r) {
            var i, u, c, g = this._findWidgetByEvent(r), _ = g.pane, w = g.widget, k = this._makeWidgetEvent(r, w);
            if ((((i = this._mouseMoveTriggerWidgetInfo.pane) === null || i === void 0 ? void 0 : i.getId()) !== (_ == null ? void 0 : _.getId()) || ((u = this._mouseMoveTriggerWidgetInfo.widget) === null || u === void 0 ? void 0 : u.getName()) !== (w == null ? void 0 : w.getName())) && (w == null || w.dispatchEvent("mouseEnterEvent", k), (c = this._mouseMoveTriggerWidgetInfo.widget) === null || c === void 0 || c.dispatchEvent("mouseLeaveEvent", k), this._mouseMoveTriggerWidgetInfo = { pane: _, widget: w }), w !== null) {
              var I = w.getName();
              switch (I) {
                case Vt.MAIN: {
                  var D = w.dispatchEvent("mouseMoveEvent", k), R = this._chart.getChartStore(), W = { x: k.x, y: k.y, paneId: _ == null ? void 0 : _.getId() };
                  return D && R.getTooltipStore().getActiveIcon() !== null && (W = void 0, w !== null && (w.getContainer().style.cursor = "pointer")), this._chart.getChartStore().getTooltipStore().setCrosshair(W), D;
                }
                case Vt.SEPARATOR:
                case Vt.XAXIS:
                case Vt.YAXIS: {
                  var D = w.dispatchEvent("mouseMoveEvent", k);
                  return this._chart.getChartStore().getTooltipStore().setCrosshair(), D;
                }
              }
            }
            return !1;
          }, l.prototype.pressedMouseMoveEvent = function(r) {
            var i, u, c, g, _;
            if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === Vt.SEPARATOR)
              return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent", r);
            var w = this._findWidgetByEvent(r), k = w.pane, I = w.widget;
            if (I !== null && ((i = this._mouseDownWidget) === null || i === void 0 ? void 0 : i.getPane().getId()) === (k == null ? void 0 : k.getId()) && ((u = this._mouseDownWidget) === null || u === void 0 ? void 0 : u.getName()) === I.getName()) {
              var D = this._makeWidgetEvent(r, I), R = I.getName();
              switch (R) {
                case Vt.MAIN: {
                  var W = I.getBounding(), j = I.dispatchEvent("pressedMouseMoveEvent", D);
                  if (!j && this._startScrollCoordinate !== null) {
                    var Y = k == null ? void 0 : k.getAxisComponent();
                    if (this._prevYAxisExtremum !== null && !Y.getAutoCalcTickFlag() && Y.getScrollZoomEnabled()) {
                      var te = this._prevYAxisExtremum, q = te.min, ie = te.max, pe = te.range, ye;
                      (c = Y == null ? void 0 : Y.isReverse()) !== null && c !== void 0 && c ? ye = this._startScrollCoordinate.y - D.y : ye = D.y - this._startScrollCoordinate.y;
                      var Pe = ye / W.height, Oe = pe * Pe, Ze = q + Oe, Be = ie + Oe, ze = Y.convertToRealValue(Ze), ut = Y.convertToRealValue(Be);
                      Y.setExtremum({
                        min: Ze,
                        max: Be,
                        range: Be - Ze,
                        realMin: ze,
                        realMax: ut,
                        realRange: ut - ze
                      });
                    }
                    var ht = D.x - this._startScrollCoordinate.x;
                    this._chart.getChartStore().getTimeScaleStore().scroll(ht);
                  }
                  return this._chart.getChartStore().getTooltipStore().setCrosshair({ x: D.x, y: D.y, paneId: k == null ? void 0 : k.getId() }), j;
                }
                case Vt.XAXIS: {
                  var j = I.dispatchEvent("pressedMouseMoveEvent", D);
                  if (j)
                    this._chart.updatePane(
                      1
                      /* UpdateLevel.Overlay */
                    );
                  else {
                    var st = k == null ? void 0 : k.getAxisComponent();
                    if (!((g = st == null ? void 0 : st.getScrollZoomEnabled()) !== null && g !== void 0) || g) {
                      var Pe = this._xAxisStartScaleDistance / D.pageX, pt = (Pe - this._xAxisScale) * 10;
                      this._xAxisScale = Pe, this._chart.getChartStore().getTimeScaleStore().zoom(pt, (_ = this._xAxisStartScaleCoordinate) !== null && _ !== void 0 ? _ : void 0);
                    }
                  }
                  return j;
                }
                case Vt.YAXIS: {
                  var j = I.dispatchEvent("pressedMouseMoveEvent", D);
                  if (j)
                    this._chart.updatePane(
                      1
                      /* UpdateLevel.Overlay */
                    );
                  else {
                    var Y = k == null ? void 0 : k.getAxisComponent();
                    if (this._prevYAxisExtremum !== null && Y.getScrollZoomEnabled()) {
                      var It = this._prevYAxisExtremum, q = It.min, ie = It.max, pe = It.range, Pe = D.pageY / this._yAxisStartScaleDistance, wt = pe * Pe, Oe = (wt - pe) / 2, Ze = q - Oe, Be = ie + Oe, Bt = k == null ? void 0 : k.getAxisComponent(), ze = Bt.convertToRealValue(Ze), ut = Bt.convertToRealValue(Be);
                      Bt.setExtremum({
                        min: Ze,
                        max: Be,
                        range: wt,
                        realMin: ze,
                        realMax: ut,
                        realRange: ut - ze
                      }), this._chart.adjustPaneViewport(!1, !0, !0, !0);
                    }
                  }
                  return j;
                }
              }
            }
            return !1;
          }, l.prototype.mouseUpEvent = function(r) {
            var i = this._findWidgetByEvent(r).widget, u = !1;
            if (i !== null) {
              var c = this._makeWidgetEvent(r, i), g = i.getName();
              switch (g) {
                case Vt.MAIN:
                case Vt.SEPARATOR:
                case Vt.XAXIS:
                case Vt.YAXIS: {
                  u = i.dispatchEvent("mouseUpEvent", c);
                  break;
                }
              }
              u && this._chart.updatePane(
                1
                /* UpdateLevel.Overlay */
              );
            }
            return this._mouseDownWidget = null, this._startScrollCoordinate = null, this._prevYAxisExtremum = null, this._xAxisStartScaleCoordinate = null, this._xAxisStartScaleDistance = 0, this._xAxisScale = 1, this._yAxisStartScaleDistance = 0, u;
          }, l.prototype.mouseClickEvent = function(r) {
            var i = this._findWidgetByEvent(r).widget;
            if (i !== null) {
              var u = this._makeWidgetEvent(r, i);
              return i.dispatchEvent("mouseClickEvent", u);
            }
            return !1;
          }, l.prototype.mouseRightClickEvent = function(r) {
            var i = this._findWidgetByEvent(r).widget, u = !1;
            if (i !== null) {
              var c = this._makeWidgetEvent(r, i), g = i.getName();
              switch (g) {
                case Vt.MAIN:
                case Vt.XAXIS:
                case Vt.YAXIS: {
                  u = i.dispatchEvent("mouseRightClickEvent", c);
                  break;
                }
              }
              u && this._chart.updatePane(
                1
                /* UpdateLevel.Overlay */
              );
            }
            return !1;
          }, l.prototype.mouseDoubleClickEvent = function(r) {
            var i = this._findWidgetByEvent(r), u = i.pane, c = i.widget;
            if (c !== null) {
              var g = c.getName();
              switch (g) {
                case Vt.MAIN: {
                  var _ = this._makeWidgetEvent(r, c);
                  return c.dispatchEvent("mouseDoubleClickEvent", _);
                }
                case Vt.YAXIS: {
                  var w = u == null ? void 0 : u.getAxisComponent();
                  if (!w.getAutoCalcTickFlag())
                    return w.setAutoCalcTickFlag(!0), this._chart.adjustPaneViewport(!1, !0, !0, !0), !0;
                  break;
                }
              }
            }
            return !1;
          }, l.prototype.mouseLeaveEvent = function() {
            return this._chart.getChartStore().getTooltipStore().setCrosshair(), !0;
          }, l.prototype.touchStartEvent = function(r) {
            var i, u, c = this._findWidgetByEvent(r), g = c.pane, _ = c.widget;
            if (this._mouseDownWidget = _, _ !== null) {
              var w = this._makeWidgetEvent(r, _), k = _.getName();
              switch (k) {
                case Vt.MAIN: {
                  var I = this._chart.getChartStore(), D = I.getTooltipStore();
                  if (_.dispatchEvent("mouseDownEvent", w))
                    return this._touchCancelCrosshair = !0, this._touchCoordinate = null, D.setCrosshair(void 0, !0), this._chart.updatePane(
                      1
                      /* UpdateLevel.Overlay */
                    ), !0;
                  var R = (i = g == null ? void 0 : g.getAxisComponent().getExtremum()) !== null && i !== void 0 ? i : null;
                  if (this._prevYAxisExtremum = R === null ? R : nt({}, R), this._flingScrollRequestId !== null && (Da(this._flingScrollRequestId), this._flingScrollRequestId = null), this._flingStartTime = (/* @__PURE__ */ new Date()).getTime(), this._startScrollCoordinate = { x: w.x, y: w.y }, I.getTimeScaleStore().startScroll(), this._touchZoomed = !1, this._touchCoordinate !== null) {
                    var W = w.x - this._touchCoordinate.x, j = w.y - this._touchCoordinate.y, Y = Math.sqrt(W * W + j * j);
                    Y < $r ? (this._touchCoordinate = { x: w.x, y: w.y }, D.setCrosshair({ x: w.x, y: w.y, paneId: g == null ? void 0 : g.getId() })) : (this._touchCoordinate = null, this._touchCancelCrosshair = !0, D.setCrosshair());
                  }
                  return !0;
                }
                case Vt.XAXIS: {
                  var te = _.dispatchEvent("mouseDownEvent", w);
                  return te && this._chart.updatePane(
                    1
                    /* UpdateLevel.Overlay */
                  ), this._xAxisStartScaleCoordinate = { x: w.x, y: w.y }, this._xAxisStartScaleDistance = w.pageX, te;
                }
                case Vt.YAXIS: {
                  var te = _.dispatchEvent("mouseDownEvent", w);
                  te && this._chart.updatePane(
                    1
                    /* UpdateLevel.Overlay */
                  );
                  var R = (u = g == null ? void 0 : g.getAxisComponent().getExtremum()) !== null && u !== void 0 ? u : null;
                  return this._prevYAxisExtremum = R === null ? R : nt({}, R), this._yAxisStartScaleDistance = w.pageY, te;
                }
              }
            }
            return !1;
          }, l.prototype.touchMoveEvent = function(r) {
            var i, u, c, g, _, w = this._findWidgetByEvent(r), k = w.pane, I = w.widget;
            if (I !== null) {
              var D = this._makeWidgetEvent(r, I), R = I.getName(), W = this._chart.getChartStore(), j = W.getTooltipStore();
              switch (R) {
                case Vt.MAIN: {
                  if (I.dispatchEvent("pressedMouseMoveEvent", D))
                    return (i = D.preventDefault) === null || i === void 0 || i.call(D), j.setCrosshair(void 0, !0), this._chart.updatePane(
                      1
                      /* UpdateLevel.Overlay */
                    ), !0;
                  if (this._touchCoordinate !== null)
                    (u = D.preventDefault) === null || u === void 0 || u.call(D), j.setCrosshair({ x: D.x, y: D.y, paneId: k == null ? void 0 : k.getId() });
                  else if ((c = D.preventDefault) === null || c === void 0 || c.call(D), this._startScrollCoordinate !== null && Math.abs(this._startScrollCoordinate.x - D.x) > this._startScrollCoordinate.y - D.y) {
                    var Y = k == null ? void 0 : k.getAxisComponent();
                    if (this._prevYAxisExtremum !== null && !Y.getAutoCalcTickFlag() && Y.getScrollZoomEnabled()) {
                      var te = this._prevYAxisExtremum, q = te.min, ie = te.max, pe = te.range, ye;
                      (g = Y == null ? void 0 : Y.isReverse()) !== null && g !== void 0 && g ? ye = this._startScrollCoordinate.y - D.y : ye = D.y - this._startScrollCoordinate.y;
                      var Pe = I.getBounding(), Oe = ye / Pe.height, Ze = pe * Oe, Be = q + Ze, ze = ie + Ze, ut = Y.convertToRealValue(Be), ht = Y.convertToRealValue(ze);
                      Y.setExtremum({
                        min: Be,
                        max: ze,
                        range: ze - Be,
                        realMin: ut,
                        realMax: ht,
                        realRange: ht - ut
                      });
                    }
                    var st = D.x - this._startScrollCoordinate.x;
                    W.getTimeScaleStore().scroll(st);
                  }
                  return !0;
                }
                case Vt.XAXIS:
                case Vt.YAXIS:
                  return (_ = r.preventDefault) === null || _ === void 0 || _.call(r), this.pressedMouseMoveEvent(r);
              }
            }
            return !1;
          }, l.prototype.touchEndEvent = function(r) {
            var i = this, u = function() {
              i._mouseDownWidget = null, i._startScrollCoordinate = null, i._prevYAxisExtremum = null, i._xAxisStartScaleCoordinate = null, i._xAxisStartScaleDistance = 0, i._xAxisScale = 1, i._yAxisStartScaleDistance = 0;
            }, c = this._findWidgetByEvent(r).widget;
            if (c !== null) {
              var g = this._makeWidgetEvent(r, c), _ = c.getName();
              switch (_) {
                case Vt.MAIN: {
                  if (c.dispatchEvent("mouseUpEvent", g), this._startScrollCoordinate !== null) {
                    var w = (/* @__PURE__ */ new Date()).getTime() - this._flingStartTime, k = g.x - this._startScrollCoordinate.x, I = k / (w > 0 ? w : 1) * 20;
                    if (w < 200 && Math.abs(I) > 0) {
                      var D = this._chart.getChartStore().getTimeScaleStore(), R = function() {
                        i._flingScrollRequestId = Ma(function() {
                          D.startScroll(), D.scroll(I), I = I * (1 - 0.025), Math.abs(I) < 1 ? i._flingScrollRequestId !== null && (Da(i._flingScrollRequestId), i._flingScrollRequestId = null) : R();
                        });
                      };
                      R();
                    }
                  }
                  return u(), !0;
                }
                case Vt.XAXIS:
                case Vt.YAXIS: {
                  var W = c.dispatchEvent("mouseUpEvent", g);
                  W && this._chart.updatePane(
                    1
                    /* UpdateLevel.Overlay */
                  ), u();
                }
              }
            }
            return !1;
          }, l.prototype.tapEvent = function(r) {
            var i = this._findWidgetByEvent(r), u = i.pane, c = i.widget, g = !1;
            if (c !== null) {
              var _ = this._makeWidgetEvent(r, c), w = c.dispatchEvent("mouseClickEvent", _);
              if (c.getName() === Vt.MAIN) {
                var k = this._makeWidgetEvent(r, c), I = this._chart.getChartStore(), D = I.getTooltipStore();
                w ? (this._touchCancelCrosshair = !0, this._touchCoordinate = null, D.setCrosshair(void 0, !0), g = !0) : (!this._touchCancelCrosshair && !this._touchZoomed && (this._touchCoordinate = { x: k.x, y: k.y }, D.setCrosshair({ x: k.x, y: k.y, paneId: u == null ? void 0 : u.getId() }, !0), g = !0), this._touchCancelCrosshair = !1);
              }
              (g || w) && this._chart.updatePane(
                1
                /* UpdateLevel.Overlay */
              );
            }
            return g;
          }, l.prototype.doubleTapEvent = function(r) {
            return this.mouseDoubleClickEvent(r);
          }, l.prototype.longTapEvent = function(r) {
            return this.mouseRightClickEvent(r);
          }, l.prototype._findWidgetByEvent = function(r) {
            var i, u, c = this._chart.getAllPanes(), g = r.x, _ = r.y, w = null;
            try {
              for (var k = ct(c), I = k.next(); !I.done; I = k.next()) {
                var D = Tt(I.value, 2), R = D[1], W = R.getBounding();
                if (g >= W.left && g <= W.left + W.width && _ >= W.top && _ <= W.top + W.height) {
                  w = R;
                  break;
                }
              }
            } catch (Pe) {
              i = { error: Pe };
            } finally {
              try {
                I && !I.done && (u = k.return) && u.call(k);
              } finally {
                if (i)
                  throw i.error;
              }
            }
            w === null && (w = this._chart.getPaneById(Qt.XAXIS));
            var j = null;
            if (w !== null) {
              var Y = w.getSeparatorWidget();
              if (Y !== null) {
                var te = Y.getBounding();
                g >= te.left && g <= te.left + te.width && _ >= te.top && _ <= te.top + hi && (j = Y);
              }
              if (j === null) {
                var q = w.getMainWidget(), ie = q.getBounding();
                g >= ie.left && g <= ie.left + ie.width && _ >= ie.top && _ <= ie.top + ie.height && (j = q);
              }
              if (j === null) {
                var pe = w.getYAxisWidget();
                if (pe !== null) {
                  var ye = pe.getBounding();
                  g >= ye.left && g <= ye.left + ye.width && _ >= ye.top && _ <= ye.top + ye.height && (j = pe);
                }
              }
            }
            return { pane: w, widget: j };
          }, l.prototype._makeWidgetEvent = function(r, i) {
            var u, c, g, _ = (u = i == null ? void 0 : i.getBounding()) !== null && u !== void 0 ? u : null;
            return nt(nt({}, r), { x: r.x - ((c = _ == null ? void 0 : _.left) !== null && c !== void 0 ? c : 0), y: r.y - ((g = _ == null ? void 0 : _.top) !== null && g !== void 0 ? g : 0) });
          }, l.prototype.destroy = function() {
            this._container.removeEventListener("keydown", this._boundKeyBoardDownEvent), this._event.destroy();
          }, l;
        }()
      );
      n.DomPosition = void 0, function(l) {
        l.Root = "root", l.Main = "main", l.YAxis = "yAxis";
      }(n.DomPosition || (n.DomPosition = {}));
      var lo = (
        /** @class */
        function() {
          function l(r, i) {
            this._panes = /* @__PURE__ */ new Map(), this._initContainer(r), this._chartEvent = new Zo(this._chartContainer, this), this._chartStore = new Yo(this, i), this._xAxisPane = new Na(this._chartContainer, this, Qt.XAXIS), this._panes.set(Qt.CANDLE, new Qs(this._chartContainer, this, Qt.CANDLE)), this.adjustPaneViewport(!0, !0, !0);
          }
          return l.prototype._initContainer = function(r) {
            this._container = r, this._chartContainer = wn("div", {
              position: "relative",
              width: "100%",
              outline: "none",
              borderStyle: "none",
              cursor: "crosshair",
              boxSizing: "border-box",
              userSelect: "none",
              webkitUserSelect: "none",
              // @ts-expect-error
              msUserSelect: "none",
              MozUserSelect: "none",
              webkitTapHighlightColor: "transparent"
            }), this._chartContainer.tabIndex = 1, r.appendChild(this._chartContainer);
          }, l.prototype._measurePaneHeight = function() {
            var r, i = this._container.offsetHeight, u = this._xAxisPane.getAxisComponent().getAutoSize(), c = i - u;
            c < 0 && (c = 0);
            var g = 0;
            this._panes.forEach(function(k) {
              if (k.getId() !== Qt.CANDLE) {
                var I = k.getBounding().height, D = k.getOptions().minHeight;
                I < D && (I = D), g + I > c ? (g = c, I = Math.max(c - g, 0)) : g += I, k.setBounding({ height: I });
              }
            });
            var _ = c - g;
            (r = this._panes.get(Qt.CANDLE)) === null || r === void 0 || r.setBounding({ height: _ });
            var w = 0;
            this._panes.forEach(function(k) {
              k.setBounding({ top: w }), w += k.getBounding().height;
            }), this._xAxisPane.setBounding({ height: u, top: w });
          }, l.prototype._measurePaneWidth = function() {
            var r = this._chartStore.getStyles(), i = r.yAxis, u = i.position === n.YAxisPosition.Left, c = !i.inside, g = this._container.offsetWidth, _ = 0, w = Number.MIN_SAFE_INTEGER, k = 0, I = 0;
            this._panes.forEach(function(j) {
              w = Math.max(w, j.getAxisComponent().getAutoSize());
            }), w > g && (w = g), c ? (_ = g - w, u ? (k = 0, I = w) : (k = g - w, I = 0)) : (_ = g, I = 0, u ? k = 0 : k = g - w), this._chartStore.getTimeScaleStore().setTotalBarSpace(_);
            var D = { width: g }, R = { width: _, left: I }, W = { width: w, left: k };
            this._panes.forEach(function(j) {
              j.setBounding(D, R, W);
            }), this._xAxisPane.setBounding(D, R, W);
          }, l.prototype._setPaneOptions = function(r, i) {
            var u, c, g = this._panes.get((u = r == null ? void 0 : r.id) !== null && u !== void 0 ? u : ""), _ = !1;
            if (g !== void 0) {
              var w = i;
              if (r.id !== Qt.CANDLE && r.height !== void 0 && r.height > 0) {
                var k = Math.max((c = r.minHeight) !== null && c !== void 0 ? c : g.getOptions().minHeight, 0), I = Math.max(k, r.height);
                g.setBounding({ height: I }), w = !0, _ = !0;
              }
              g.setOptions(r), w && this.adjustPaneViewport(_, !0, !0, !0, !0);
            }
          }, l.prototype.getContainer = function() {
            return this._container;
          }, l.prototype.getChartStore = function() {
            return this._chartStore;
          }, l.prototype.getAllPanes = function() {
            return this._panes;
          }, l.prototype.adjustPaneViewport = function(r, i, u, c, g) {
            r && this._measurePaneHeight();
            var _ = i, w = c ?? !1, k = g ?? !1;
            (w || k) && this._panes.forEach(function(I) {
              var D = I.getAxisComponent().buildTicks(k);
              _ || (_ = D);
            }), _ && this._measurePaneWidth(), (u ?? !1) && (this._xAxisPane.getAxisComponent().buildTicks(!0), this.updatePane(
              4
              /* UpdateLevel.All */
            ));
          }, l.prototype.updatePane = function(r, i) {
            var u;
            i !== void 0 ? (u = this.getPaneById(i)) === null || u === void 0 || u.update(r) : (this._xAxisPane.update(r), this._panes.forEach(function(c) {
              c.update(r);
            }));
          }, l.prototype.getPaneById = function(r) {
            var i;
            return r === Qt.XAXIS ? this._xAxisPane : (i = this._panes.get(r)) !== null && i !== void 0 ? i : null;
          }, l.prototype.crosshairChange = function(r) {
            var i = this, u = this._chartStore.getActionStore();
            if (u.has(n.ActionType.OnCrosshairChange)) {
              var c = {};
              this._panes.forEach(function(g, _) {
                var w = {}, k = i._chartStore.getIndicatorStore().getInstances(_);
                k.forEach(function(I) {
                  var D, R = I.result;
                  w[I.name] = R[(D = r.dataIndex) !== null && D !== void 0 ? D : R.length - 1];
                }), c[_] = w;
              }), r.paneId !== void 0 && u.execute(n.ActionType.OnCrosshairChange, nt(nt({}, r), { indicatorData: c }));
            }
          }, l.prototype.getDom = function(r, i) {
            var u, c;
            if (r !== void 0) {
              var g = this.getPaneById(r);
              if (g !== null) {
                var _ = i ?? n.DomPosition.Root;
                switch (_) {
                  case n.DomPosition.Root:
                    return g.getContainer();
                  case n.DomPosition.Main:
                    return g.getMainWidget().getContainer();
                  case n.DomPosition.YAxis:
                    return (c = (u = g.getYAxisWidget()) === null || u === void 0 ? void 0 : u.getContainer()) !== null && c !== void 0 ? c : null;
                }
              }
            } else
              return this._chartContainer;
            return null;
          }, l.prototype.getSize = function(r, i) {
            var u, c;
            if (r !== void 0) {
              var g = this.getPaneById(r);
              if (g !== null) {
                var _ = i ?? n.DomPosition.Root;
                switch (_) {
                  case n.DomPosition.Root:
                    return g.getBounding();
                  case n.DomPosition.Main:
                    return g.getMainWidget().getBounding();
                  case n.DomPosition.YAxis:
                    return (c = (u = g.getYAxisWidget()) === null || u === void 0 ? void 0 : u.getBounding()) !== null && c !== void 0 ? c : null;
                }
              }
            } else
              return {
                width: this._chartContainer.offsetWidth,
                height: this._chartContainer.offsetHeight,
                left: 0,
                top: 0,
                right: 0,
                bottom: 0
              };
            return null;
          }, l.prototype.setStyles = function(r) {
            var i, u;
            this._chartStore.setOptions({ styles: r });
            var c;
            oe(r) ? c = Ms(r) : c = r, ((i = c == null ? void 0 : c.yAxis) === null || i === void 0 ? void 0 : i.type) !== void 0 && ((u = this.getPaneById(Qt.CANDLE)) === null || u === void 0 || u.getAxisComponent().setAutoCalcTickFlag(!0)), this.adjustPaneViewport(!0, !0, !0, !0, !0);
          }, l.prototype.getStyles = function() {
            return this._chartStore.getStyles();
          }, l.prototype.setLocale = function(r) {
            this._chartStore.setOptions({ locale: r }), this.adjustPaneViewport(!0, !0, !0, !0, !0);
          }, l.prototype.getLocale = function() {
            return this._chartStore.getLocale();
          }, l.prototype.setCustomApi = function(r) {
            this._chartStore.setOptions({ customApi: r }), this.adjustPaneViewport(!0, !0, !0, !0, !0);
          }, l.prototype.setPriceVolumePrecision = function(r, i) {
            this._chartStore.setPrecision({ price: r, volume: i });
          }, l.prototype.getPriceVolumePrecision = function() {
            return this._chartStore.getPrecision();
          }, l.prototype.setTimezone = function(r) {
            this._chartStore.setOptions({ timezone: r }), this._xAxisPane.getAxisComponent().buildTicks(!0), this._xAxisPane.update(
              3
              /* UpdateLevel.Drawer */
            );
          }, l.prototype.getTimezone = function() {
            return this._chartStore.getTimeScaleStore().getTimezone();
          }, l.prototype.setOffsetRightDistance = function(r) {
            this._chartStore.getTimeScaleStore().setOffsetRightDistance(r, !0);
          }, l.prototype.getOffsetRightDistance = function() {
            return this._chartStore.getTimeScaleStore().getOffsetRightDistance();
          }, l.prototype.setLeftMinVisibleBarCount = function(r) {
            r > 0 ? this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(r)) : Di("setLeftMinVisibleBarCount", "barCount", "barCount must greater than zero!!!");
          }, l.prototype.setRightMinVisibleBarCount = function(r) {
            r > 0 ? this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(r)) : Di("setRightMinVisibleBarCount", "barCount", "barCount must be a number and greater than zero!!!");
          }, l.prototype.setBarSpace = function(r) {
            this._chartStore.getTimeScaleStore().setBarSpace(r);
          }, l.prototype.getBarSpace = function() {
            return this._chartStore.getTimeScaleStore().getBarSpace().bar;
          }, l.prototype.getVisibleRange = function() {
            return this._chartStore.getTimeScaleStore().getVisibleRange();
          }, l.prototype.clearData = function() {
            this._chartStore.clear();
          }, l.prototype.getDataList = function() {
            return this._chartStore.getDataList();
          }, l.prototype.applyNewData = function(r, i, u) {
            this._chartStore.clear(), r.length === 0 ? this.adjustPaneViewport(!1, !0, !0, !0) : this.applyMoreData(r, i, u);
          }, l.prototype.applyMoreData = function(r, i, u) {
            var c = this;
            this._chartStore.addData(r, 0, i), r.length > 0 && this._chartStore.getIndicatorStore().calcInstance().then(function(g) {
              c.adjustPaneViewport(!1, !0, !0, !0), u == null || u();
            }).catch(function(g) {
            });
          }, l.prototype.updateData = function(r, i) {
            var u = this, c = this._chartStore.getDataList(), g = c.length, _ = r.timestamp, w = ve(c[g - 1], "timestamp", 0);
            if (_ >= w) {
              var k = g;
              _ === w && (k = g - 1), this._chartStore.addData(r, k), this._chartStore.getIndicatorStore().calcInstance().then(function(I) {
                u.adjustPaneViewport(!1, !0, !0, !0), i == null || i();
              }).catch(function(I) {
              });
            }
          }, l.prototype.loadMore = function(r) {
            this._chartStore.getTimeScaleStore().setLoadMoreCallback(r);
          }, l.prototype.createIndicator = function(r, i, u, c) {
            var g = this, _, w, k = oe(r) ? { name: r } : r;
            if (_s(k.name) === null)
              return Di("createIndicator", "value", "indicator not supported, you may need to use registerIndicator to add one!!!"), null;
            var I;
            if (H(u) && oe(u == null ? void 0 : u.id) && this._panes.has(u.id))
              I = u.id, this._chartStore.getIndicatorStore().addInstance(k, I, i ?? !1).then(function(j) {
                var Y, te;
                g._setPaneOptions(u, (te = (Y = g._panes.get(I)) === null || Y === void 0 ? void 0 : Y.getAxisComponent().buildTicks(!0)) !== null && te !== void 0 ? te : !1);
              }).catch(function(j) {
              });
            else {
              I = (_ = u == null ? void 0 : u.id) !== null && _ !== void 0 ? _ : Wr(Qt.INDICATOR);
              var D = Array.from(this._panes.values()).pop(), R = new Oa(this._chartContainer, this, I, D);
              D.setBottomPane(R);
              var W = (w = u == null ? void 0 : u.height) !== null && w !== void 0 ? w : Vo;
              R.setBounding({ height: W }), H(u) && R.setOptions(u), this._panes.set(I, R), this._chartStore.getIndicatorStore().addInstance(k, I, i ?? !1).finally(function() {
                g.adjustPaneViewport(!0, !0, !0, !0, !0), c == null || c();
              });
            }
            return I;
          }, l.prototype.overrideIndicator = function(r, i, u) {
            var c = this;
            this._chartStore.getIndicatorStore().override(r, i ?? null).then(function(g) {
              var _ = Tt(g, 2), w = _[0], k = _[1];
              (w || k) && (c.adjustPaneViewport(!1, k, !0, k), u == null || u());
            }).catch(function() {
            });
          }, l.prototype.getIndicatorByPaneId = function(r, i) {
            return this._chartStore.getIndicatorStore().getInstanceByPaneId(r, i);
          }, l.prototype.removeIndicator = function(r, i) {
            var u = this._chartStore.getIndicatorStore(), c = u.removeInstance(r, i);
            if (c) {
              var g = !1;
              if (r !== Qt.CANDLE && !u.hasInstances(r)) {
                var _ = this._panes.get(r);
                if (_ !== void 0) {
                  g = !0;
                  var w = _.getTopPane(), k = _.getBottomPane();
                  k == null || k.setTopPane(w), w == null || w.setBottomPane(k), _ == null || _.destroy(), this._panes.delete(r);
                }
              }
              this.adjustPaneViewport(g, !0, !0, !0, !0);
            }
          }, l.prototype.createOverlay = function(r, i) {
            var u = [];
            if (oe(r))
              u = [{ name: r }];
            else if (S(r))
              u = r.map(function(w) {
                return oe(w) ? { name: w } : w;
              });
            else {
              var c = r;
              u = [c];
            }
            var g = !0;
            (i === void 0 || this.getPaneById(i) === null) && (i = Qt.CANDLE, g = !1);
            var _ = this._chartStore.getOverlayStore().addInstances(u, i, g);
            return S(r) ? _ : _[0];
          }, l.prototype.getOverlayById = function(r) {
            return this._chartStore.getOverlayStore().getInstanceById(r);
          }, l.prototype.overrideOverlay = function(r) {
            this._chartStore.getOverlayStore().override(r);
          }, l.prototype.removeOverlay = function(r) {
            var i;
            r !== void 0 && (oe(r) ? i = { id: r } : i = r), this._chartStore.getOverlayStore().removeInstance(i);
          }, l.prototype.setPaneOptions = function(r) {
            this._setPaneOptions(r, !1);
          }, l.prototype.setZoomEnabled = function(r) {
            this._chartStore.getTimeScaleStore().setZoomEnabled(r);
          }, l.prototype.isZoomEnabled = function() {
            return this._chartStore.getTimeScaleStore().getZoomEnabled();
          }, l.prototype.setScrollEnabled = function(r) {
            this._chartStore.getTimeScaleStore().setScrollEnabled(r);
          }, l.prototype.isScrollEnabled = function() {
            return this._chartStore.getTimeScaleStore().getScrollEnabled();
          }, l.prototype.scrollByDistance = function(r, i) {
            var u = i === void 0 || i < 0 ? 0 : i, c = this._chartStore.getTimeScaleStore();
            if (u > 0) {
              c.startScroll();
              var g = (/* @__PURE__ */ new Date()).getTime(), _ = function() {
                var w = ((/* @__PURE__ */ new Date()).getTime() - g) / u, k = w >= 1, I = k ? r : r * w;
                c.scroll(I), k || requestAnimationFrame(_);
              };
              _();
            } else
              c.startScroll(), c.scroll(r);
          }, l.prototype.scrollToRealTime = function(r) {
            var i = this._chartStore.getTimeScaleStore(), u = i.getBarSpace().bar, c = i.getOffsetRightBarCount() - i.getInitialOffsetRightDistance() / u, g = c * u;
            this.scrollByDistance(g, r);
          }, l.prototype.scrollToDataIndex = function(r, i) {
            var u = this._chartStore.getTimeScaleStore(), c = (u.getOffsetRightBarCount() + (this.getDataList().length - 1 - r)) * u.getBarSpace().bar;
            this.scrollByDistance(c, i);
          }, l.prototype.scrollToTimestamp = function(r, i) {
            var u = ma(this.getDataList(), "timestamp", r);
            this.scrollToDataIndex(u, i);
          }, l.prototype.zoomAtCoordinate = function(r, i, u) {
            var c = u === void 0 || u < 0 ? 0 : u, g = this._chartStore.getTimeScaleStore();
            if (c > 0) {
              var _ = g.getBarSpace().bar, w = _ * r, k = w - _, I = (/* @__PURE__ */ new Date()).getTime(), D = function() {
                var R = ((/* @__PURE__ */ new Date()).getTime() - I) / c, W = R >= 1, j = W ? k : k * R;
                g.zoom(j / _, i), W || requestAnimationFrame(D);
              };
              D();
            } else
              g.zoom(r, i);
          }, l.prototype.zoomAtDataIndex = function(r, i, u) {
            var c = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(i);
            this.zoomAtCoordinate(r, { x: c, y: 0 }, u);
          }, l.prototype.zoomAtTimestamp = function(r, i, u) {
            var c = ma(this.getDataList(), "timestamp", i);
            this.zoomAtDataIndex(r, c, u);
          }, l.prototype.convertToPixel = function(r, i) {
            var u, c = i.paneId, g = c === void 0 ? Qt.CANDLE : c, _ = i.absolute, w = _ === void 0 ? !1 : _, k = [];
            if (g !== Qt.XAXIS) {
              var I = this.getPaneById(g);
              if (I !== null) {
                var D = this._chartStore.getTimeScaleStore(), R = I.getBounding(), W = new Array().concat(r), j = this._xAxisPane.getAxisComponent(), Y = I.getAxisComponent();
                k = W.map(function(te) {
                  var q = {}, ie = te.dataIndex;
                  if (te.timestamp !== void 0 && (ie = D.timestampToDataIndex(te.timestamp)), ie !== void 0 && (q.x = j == null ? void 0 : j.convertToPixel(ie)), te.value !== void 0) {
                    var pe = Y == null ? void 0 : Y.convertToPixel(te.value);
                    q.y = w ? R.top + pe : pe;
                  }
                  return q;
                });
              }
            }
            return S(r) ? k : (u = k[0]) !== null && u !== void 0 ? u : {};
          }, l.prototype.convertFromPixel = function(r, i) {
            var u, c = i.paneId, g = c === void 0 ? Qt.CANDLE : c, _ = i.absolute, w = _ === void 0 ? !1 : _, k = [];
            if (g !== Qt.XAXIS) {
              var I = this.getPaneById(g);
              if (I !== null) {
                var D = this._chartStore.getTimeScaleStore(), R = I.getBounding(), W = new Array().concat(r), j = this._xAxisPane.getAxisComponent(), Y = I.getAxisComponent();
                k = W.map(function(te) {
                  var q, ie = {};
                  if (te.x !== void 0) {
                    var pe = j.convertFromPixel(te.x);
                    ie.dataIndex = pe, ie.timestamp = (q = D.dataIndexToTimestamp(pe)) !== null && q !== void 0 ? q : void 0;
                  }
                  if (te.y !== void 0) {
                    var ye = w ? te.y - R.top : te.y;
                    ie.value = Y.convertFromPixel(ye);
                  }
                  return ie;
                });
              }
            }
            return S(r) ? k : (u = k[0]) !== null && u !== void 0 ? u : {};
          }, l.prototype.executeAction = function(r, i) {
            var u;
            switch (r) {
              case n.ActionType.OnCrosshairChange: {
                var c = nt({}, i);
                c.paneId = (u = c.paneId) !== null && u !== void 0 ? u : Qt.CANDLE, this._chartStore.getTooltipStore().setCrosshair(c);
                break;
              }
            }
          }, l.prototype.subscribeAction = function(r, i) {
            this._chartStore.getActionStore().subscribe(r, i);
          }, l.prototype.unsubscribeAction = function(r, i) {
            this._chartStore.getActionStore().unsubscribe(r, i);
          }, l.prototype.getConvertPictureUrl = function(r, i, u) {
            var c = this._chartContainer.offsetWidth, g = this._chartContainer.offsetHeight, _ = wn("canvas", {
              width: "".concat(c, "px"),
              height: "".concat(g, "px"),
              boxSizing: "border-box"
            }), w = _.getContext("2d"), k = Gn(_);
            _.width = c * k, _.height = g * k, w.scale(k, k), w.fillStyle = u ?? "#FFFFFF", w.fillRect(0, 0, c, g);
            var I = r ?? !1;
            this._panes.forEach(function(R) {
              var W = R.getBounding();
              w.drawImage(R.getImage(I), 0, W.top, c, W.height);
            });
            var D = this._xAxisPane.getBounding();
            return w.drawImage(this._xAxisPane.getImage(I), 0, D.top, c, D.height), _.toDataURL("image/".concat(i ?? "jpeg"));
          }, l.prototype.resize = function() {
            this.adjustPaneViewport(!0, !0, !0, !0, !0);
          }, l.prototype.destroy = function() {
            this._chartEvent.destroy(), this._panes.forEach(function(r) {
              r.destroy();
            }), this._panes.clear(), this._xAxisPane.destroy(), this._container.removeChild(this._chartContainer);
          }, l;
        }()
      ), za = /* @__PURE__ */ new Map(), uo = 1;
      function Va() {
        return "1.0.6";
      }
      function er(l, r) {
        Xr();
        var i;
        if (oe(l) ? i = document.getElementById(l) : i = l, i === null)
          return qn("", "", "The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!"), null;
        var u = za.get(i.id);
        if (u !== void 0)
          return Di("", "", "The chart has been initialized on the dom"), u;
        var c = "k_line_chart_".concat(uo++);
        return u = new lo(i, r), u.id = c, i.setAttribute("k-line-chart-id", c), za.set(c, u), u;
      }
      function ge(l) {
        var r, i, u;
        if (l instanceof lo)
          u = l.id;
        else {
          var c = void 0;
          oe(l) ? c = document.getElementById(l) : c = l, u = (r = c == null ? void 0 : c.getAttribute("k-line-chart-id")) !== null && r !== void 0 ? r : null;
        }
        u !== null && ((i = za.get(u)) === null || i === void 0 || i.destroy(), za.delete(u));
      }
      var Fe = {
        clone: b,
        merge: y,
        isString: oe,
        isNumber: z,
        isValid: H,
        isObject: M,
        isArray: S,
        isFunction: T,
        isBoolean: ee,
        formatValue: ve,
        formatPrecision: re,
        formatBigNumber: Ce,
        formatDate: le,
        formatThousands: ke,
        calcTextWidth: jr,
        getLinearSlopeIntercept: Pa,
        getLinearYFromSlopeIntercept: ka,
        getLinearYFromCoordinates: xi,
        checkCoordinateOnArc: F,
        checkCoordinateOnCircle: $a,
        checkCoordinateOnLine: Fo,
        checkCoordinateOnPolygon: Ra,
        checkCoordinateOnRect: p,
        checkCoordinateOnText: h,
        drawArc: B,
        drawCircle: Xo,
        drawLine: Ia,
        drawPolygon: Hr,
        drawRect: o,
        drawText: m,
        drawRectText: L
      };
      n.dispose = ge, n.getFigureClass = be, n.getOverlayClass = Ls, n.getSupportedFigures = Q, n.getSupportedIndicators = rr, n.getSupportedLocales = Xn, n.getSupportedOverlays = As, n.init = er, n.registerFigure = ne, n.registerIndicator = ms, n.registerLocale = Yn, n.registerOverlay = Bo, n.registerStyles = bn, n.utils = Fe, n.version = Va;
    });
  }(uc, uc.exports)), uc.exports;
}
process.env.NODE_ENV === "production" ? U0.exports = U9() : U0.exports = K9();
var Ie = U0.exports;
function bu(e, f, n) {
  const y = (e.x - f.x) * Math.cos(n) - (e.y - f.y) * Math.sin(n) + f.x, b = (e.x - f.x) * Math.sin(n) + (e.y - f.y) * Math.cos(n) + f.y;
  return { x: y, y: b };
}
function K0(e, f) {
  if (e.length > 1) {
    let n;
    return e[0].x === e[1].x && e[0].y !== e[1].y ? e[0].y < e[1].y ? n = {
      x: e[0].x,
      y: f.height
    } : n = {
      x: e[0].x,
      y: 0
    } : e[0].x > e[1].x ? n = {
      x: 0,
      y: Ie.utils.getLinearYFromCoordinates(e[0], e[1], { x: 0, y: e[0].y })
    } : n = {
      x: f.width,
      y: Ie.utils.getLinearYFromCoordinates(e[0], e[1], { x: f.width, y: e[0].y })
    }, { coordinates: [e[0], n] };
  }
  return [];
}
function lf(e, f) {
  const n = Math.abs(e.x - f.x), y = Math.abs(e.y - f.y);
  return Math.sqrt(n * n + y * y);
}
function G9(e, f) {
  const n = `${e}`;
  if (f.length === 0)
    return n;
  if (n.includes(".")) {
    const y = n.split(".");
    return `${y[0].replace(/(\d)(?=(\d{3})+$)/g, (b) => `${b}${f}`)}.${y[1]}`;
  }
  return n.replace(/(\d)(?=(\d{3})+$)/g, (y) => `${y}${f}`);
}
const j9 = {
  name: "arrow",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    if (e.length > 1) {
      const f = e[1].x > e[0].x ? 0 : 1, n = Ie.utils.getLinearSlopeIntercept(e[0], e[1]);
      let y;
      n ? y = Math.atan(n[0]) + Math.PI * f : e[1].y > e[0].y ? y = Math.PI / 2 : y = Math.PI / 2 * 3;
      const b = bu({ x: e[1].x - 8, y: e[1].y + 4 }, e[1], y), S = bu({ x: e[1].x - 8, y: e[1].y - 4 }, e[1], y);
      return [
        {
          type: "line",
          attrs: { coordinates: e }
        },
        {
          type: "line",
          ignoreEvent: !0,
          attrs: { coordinates: [b, e[1], S] }
        }
      ];
    }
    return [];
  }
}, q9 = {
  name: "circle",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    circle: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n }) => {
    if (f.length > 1) {
      const y = lf(f[0], f[1]);
      return {
        type: "circle",
        attrs: {
          ...f[0],
          r: y
        },
        styles: { style: "stroke_fill" }
      };
    }
    return [];
  }
}, Q9 = {
  name: "rect",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => f.length > 1 ? [
    {
      type: "polygon",
      attrs: {
        coordinates: [
          f[0],
          { x: f[1].x, y: f[0].y },
          f[1],
          { x: f[0].x, y: f[1].y }
        ]
      },
      styles: { style: "stroke_fill" }
    }
  ] : []
}, J9 = {
  name: "parallelogram",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ coordinates: e }) => {
    if (e.length === 2)
      return [
        {
          type: "line",
          ignoreEvent: !0,
          attrs: { coordinates: e }
        }
      ];
    if (e.length === 3) {
      const f = { x: e[0].x + (e[2].x - e[1].x), y: e[2].y };
      return [
        {
          type: "polygon",
          attrs: { coordinates: [e[0], e[1], e[2], f] },
          styles: { style: "stroke_fill" }
        }
      ];
    }
    return [];
  },
  performEventPressedMove: ({ points: e, performPointIndex: f, performPoint: n }) => {
    f < 2 && (e[0].price = n.price, e[1].price = n.price);
  },
  performEventMoveForDrawing: ({ currentStep: e, points: f, performPoint: n }) => {
    e === 2 && (f[0].price = n.price);
  }
}, e5 = {
  name: "triangle",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ coordinates: e }) => [
    {
      type: "polygon",
      attrs: { coordinates: e },
      styles: { style: "stroke_fill" }
    }
  ]
}, t5 = {
  name: "fibonacciCircle",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    if (e.length > 1) {
      const f = Math.abs(e[0].x - e[1].x), n = Math.abs(e[0].y - e[1].y), y = Math.sqrt(f * f + n * n), b = [0.236, 0.382, 0.5, 0.618, 0.786, 1], S = [], T = [];
      return b.forEach((M) => {
        const z = y * M;
        S.push(
          { ...e[0], r: z }
        ), T.push({
          x: e[0].x,
          y: e[0].y + z + 6,
          text: `${(M * 100).toFixed(1)}%`
        });
      }), [
        {
          type: "circle",
          attrs: S,
          styles: { style: "stroke" }
        },
        {
          type: "text",
          ignoreEvent: !0,
          attrs: T
        }
      ];
    }
    return [];
  }
}, n5 = {
  name: "fibonacciSegment",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e, overlay: f, precision: n }) => {
    const y = [], b = [];
    if (e.length > 1) {
      const S = e[1].x > e[0].x ? e[0].x : e[1].x, T = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0], M = e[0].y - e[1].y, z = f.points, H = z[0].value - z[1].value;
      T.forEach((ee) => {
        const oe = e[1].y + M * ee, _e = (z[1].value + H * ee).toFixed(n.price);
        y.push({ coordinates: [{ x: e[0].x, y: oe }, { x: e[1].x, y: oe }] }), b.push({
          x: S,
          y: oe,
          text: `${_e} (${(ee * 100).toFixed(1)}%)`,
          baseline: "bottom"
        });
      });
    }
    return [
      {
        type: "line",
        attrs: y
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: b
      }
    ];
  }
}, r5 = {
  name: "fibonacciSpiral",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e, bounding: f }) => {
    if (e.length > 1) {
      const n = lf(e[0], e[1]) / Math.sqrt(24), y = e[1].x > e[0].x ? 0 : 1, b = Ie.utils.getLinearSlopeIntercept(e[0], e[1]);
      let S;
      b ? S = Math.atan(b[0]) + Math.PI * y : e[1].y > e[0].y ? S = Math.PI / 2 : S = Math.PI / 2 * 3;
      const T = bu(
        { x: e[0].x - n, y: e[0].y },
        e[0],
        S
      ), M = bu(
        { x: e[0].x - n, y: e[0].y - n },
        e[0],
        S
      ), z = [{
        ...T,
        r: n,
        startAngle: S,
        endAngle: S + Math.PI / 2
      }, {
        ...M,
        r: n * 2,
        startAngle: S + Math.PI / 2,
        endAngle: S + Math.PI
      }];
      let H = e[0].x - n, ee = e[0].y - n;
      for (let oe = 2; oe < 9; oe++) {
        const _e = z[oe - 2].r + z[oe - 1].r;
        let ue = 0;
        switch (oe % 4) {
          case 0: {
            ue = S, H -= z[oe - 2].r;
            break;
          }
          case 1: {
            ue = S + Math.PI / 2, ee -= z[oe - 2].r;
            break;
          }
          case 2: {
            ue = S + Math.PI, H += z[oe - 2].r;
            break;
          }
          case 3: {
            ue = S + Math.PI / 2 * 3, ee += z[oe - 2].r;
            break;
          }
        }
        const ve = ue + Math.PI / 2, le = bu({ x: H, y: ee }, e[0], S);
        z.push({
          ...le,
          r: _e,
          startAngle: ue,
          endAngle: ve
        });
      }
      return [
        {
          type: "arc",
          attrs: z
        },
        {
          type: "line",
          attrs: K0(e, f)
        }
      ];
    }
    return [];
  }
}, i5 = {
  name: "fibonacciSpeedResistanceFan",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e, bounding: f }) => {
    const n = [];
    let y = [];
    const b = [];
    if (e.length > 1) {
      const S = e[1].x > e[0].x ? -38 : 4, T = e[1].y > e[0].y ? -2 : 20, M = e[1].x - e[0].x, z = e[1].y - e[0].y;
      [1, 0.75, 0.618, 0.5, 0.382, 0.25, 0].forEach((ee) => {
        const oe = e[1].x - M * ee, _e = e[1].y - z * ee;
        n.push({ coordinates: [{ x: oe, y: e[0].y }, { x: oe, y: e[1].y }] }), n.push({ coordinates: [{ x: e[0].x, y: _e }, { x: e[1].x, y: _e }] }), y = y.concat(K0([e[0], { x: oe, y: e[1].y }], f)), y = y.concat(K0([e[0], { x: e[1].x, y: _e }], f)), b.unshift({
          x: e[0].x + S,
          y: _e + 10,
          text: `${ee.toFixed(3)}`
        }), b.unshift({
          x: oe - 18,
          y: e[0].y + T,
          text: `${ee.toFixed(3)}`
        });
      });
    }
    return [
      {
        type: "line",
        attrs: n
      },
      {
        type: "line",
        attrs: y
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: b
      }
    ];
  }
}, a5 = {
  name: "fibonacciExtension",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e, overlay: f, precision: n }) => {
    const y = [], b = [];
    if (e.length > 2) {
      const S = f.points, T = S[1].value - S[0].value, M = e[1].y - e[0].y, z = [0, 0.236, 0.382, 0.5, 0.618, 0.786, 1], H = e[2].x > e[1].x ? e[1].x : e[2].x;
      z.forEach((ee) => {
        const oe = e[2].y + M * ee, _e = (S[2].value + T * ee).toFixed(n.price);
        y.push({ coordinates: [{ x: e[1].x, y: oe }, { x: e[2].x, y: oe }] }), b.push({
          x: H,
          y: oe,
          text: `${_e} (${(ee * 100).toFixed(1)}%)`,
          baseline: "bottom"
        });
      });
    }
    return [
      {
        type: "line",
        attrs: { coordinates: e },
        styles: { style: "dashed" }
      },
      {
        type: "line",
        attrs: y
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: b
      }
    ];
  }
}, o5 = {
  name: "gannBox",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ coordinates: e }) => {
    if (e.length > 1) {
      const f = (e[1].y - e[0].y) / 4, n = e[1].x - e[0].x, y = [
        { coordinates: [e[0], { x: e[1].x, y: e[1].y - f }] },
        { coordinates: [e[0], { x: e[1].x, y: e[1].y - f * 2 }] },
        { coordinates: [{ x: e[0].x, y: e[1].y }, { x: e[1].x, y: e[0].y + f }] },
        { coordinates: [{ x: e[0].x, y: e[1].y }, { x: e[1].x, y: e[0].y + f * 2 }] },
        { coordinates: [{ ...e[0] }, { x: e[0].x + n * 0.236, y: e[1].y }] },
        { coordinates: [{ ...e[0] }, { x: e[0].x + n * 0.5, y: e[1].y }] },
        { coordinates: [{ x: e[0].x, y: e[1].y }, { x: e[0].x + n * 0.236, y: e[0].y }] },
        { coordinates: [{ x: e[0].x, y: e[1].y }, { x: e[0].x + n * 0.5, y: e[0].y }] }
      ], b = [
        { coordinates: [e[0], e[1]] },
        { coordinates: [{ x: e[0].x, y: e[1].y }, { x: e[1].x, y: e[0].y }] }
      ];
      return [
        {
          type: "line",
          attrs: [
            { coordinates: [e[0], { x: e[1].x, y: e[0].y }] },
            { coordinates: [{ x: e[1].x, y: e[0].y }, e[1]] },
            { coordinates: [e[1], { x: e[0].x, y: e[1].y }] },
            { coordinates: [{ x: e[0].x, y: e[1].y }, e[0]] }
          ]
        },
        {
          type: "polygon",
          ignoreEvent: !0,
          attrs: {
            coordinates: [
              e[0],
              { x: e[1].x, y: e[0].y },
              e[1],
              { x: e[0].x, y: e[1].y }
            ]
          },
          styles: { style: "fill" }
        },
        {
          type: "line",
          attrs: y,
          styles: { style: "dashed" }
        },
        {
          type: "line",
          attrs: b
        }
      ];
    }
    return [];
  }
}, s5 = {
  name: "threeWaves",
  totalStep: 5,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    const f = e.map((n, y) => ({
      ...n,
      text: `(${y})`,
      baseline: "bottom"
    }));
    return [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: f
      }
    ];
  }
}, l5 = {
  name: "fiveWaves",
  totalStep: 7,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    const f = e.map((n, y) => ({
      ...n,
      text: `(${y})`,
      baseline: "bottom"
    }));
    return [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: f
      }
    ];
  }
}, u5 = {
  name: "eightWaves",
  totalStep: 10,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    const f = e.map((n, y) => ({
      ...n,
      text: `(${y})`,
      baseline: "bottom"
    }));
    return [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: f
      }
    ];
  }
}, c5 = {
  name: "anyWaves",
  totalStep: Number.MAX_SAFE_INTEGER,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    const f = e.map((n, y) => ({
      ...n,
      text: `(${y})`,
      baseline: "bottom"
    }));
    return [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: f
      }
    ];
  }
}, h5 = {
  name: "abcd",
  totalStep: 5,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e }) => {
    let f = [], n = [];
    const y = ["A", "B", "C", "D"], b = e.map((S, T) => ({
      ...S,
      baseline: "bottom",
      text: `(${y[T]})`
    }));
    return e.length > 2 && (f = [e[0], e[2]], e.length > 3 && (n = [e[1], e[3]])), [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "line",
        attrs: [{ coordinates: f }, { coordinates: n }],
        styles: { style: "dashed" }
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: b
      }
    ];
  }
}, d5 = {
  name: "xabcd",
  totalStep: 6,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ coordinates: e, overlay: f }) => {
    const n = [], y = [], b = ["X", "A", "B", "C", "D"], S = e.map((T, M) => ({
      ...T,
      baseline: "bottom",
      text: `(${b[M]})`
    }));
    return e.length > 2 && (n.push({ coordinates: [e[0], e[2]] }), y.push({ coordinates: [e[0], e[1], e[2]] }), e.length > 3 && (n.push({ coordinates: [e[1], e[3]] }), e.length > 4 && (n.push({ coordinates: [e[2], e[4]] }), y.push({ coordinates: [e[2], e[3], e[4]] })))), [
      {
        type: "line",
        attrs: { coordinates: e }
      },
      {
        type: "line",
        attrs: n,
        styles: { style: "dashed" }
      },
      {
        type: "polygon",
        ignoreEvent: !0,
        attrs: y
      },
      {
        type: "text",
        ignoreEvent: !0,
        attrs: S
      }
    ];
  }
}, f5 = {
  name: "fibonacciDiagonal",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ coordinates: e, bounding: f, overlay: n, precision: y, thousandsSeparator: b }) => {
    const S = n.points;
    if (e.length > 0) {
      const T = [], M = [], z = e[0].x, H = e[e.length - 1].x;
      if (e.length > 1 && S[0].value !== void 0 && S[1].value !== void 0) {
        const ee = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0], oe = e[0].y - e[1].y, _e = S[0].value - S[1].value;
        ee.forEach((ue) => {
          const ve = e[1].y + oe * ue, le = G9(((S[1].value ?? 0) + _e * ue).toFixed(y.price), b);
          T.push({ coordinates: [{ x: z, y: ve }, { x: H, y: ve }] }), M.push({
            x: z,
            y: ve,
            text: `${le} (${(ue * 100).toFixed(1)}%)`,
            baseline: "bottom"
          });
        }), T.push({ coordinates: [{ x: T[0].coordinates[0].x, y: T[0].coordinates[0].y }, { x: T[ee.length - 1].coordinates[1].x, y: T[ee.length - 1].coordinates[1].y }] });
      }
      return [
        {
          type: "line",
          attrs: T
        },
        {
          type: "text",
          isCheckEvent: !1,
          attrs: M
        }
      ];
    }
    return [];
  },
  onRightClick: (e) => (alert(`object ${e.overlay.name} was clicked`), !0)
}, p5 = (e, f) => e === f, G0 = Symbol("solid-proxy"), v5 = Symbol("solid-track"), yc = {
  equals: p5
};
let uf = ff;
const ls = 1, mc = 2, cf = {
  owned: null,
  cleanups: null,
  context: null,
  owner: null
}, V0 = {};
var lr = null;
let W0 = null, Zn = null, ai = null, ss = null, Oc = 0;
function pc(e, f) {
  const n = Zn, y = lr, b = e.length === 0, S = f === void 0 ? y : f, T = b ? cf : {
    owned: null,
    cleanups: null,
    context: S ? S.context : null,
    owner: S
  }, M = b ? e : () => e(() => ja(() => Nc(T)));
  lr = T, Zn = null;
  try {
    return Hs(M, !0);
  } finally {
    Zn = n, lr = y;
  }
}
function Ae(e, f) {
  f = f ? Object.assign({}, yc, f) : yc;
  const n = {
    value: e,
    observers: null,
    observerSlots: null,
    comparator: f.equals || void 0
  }, y = (b) => (typeof b == "function" && (b = b(n.value)), df(n, b));
  return [hf.bind(n), y];
}
function Fh(e, f, n) {
  const y = Bc(e, f, !0, ls);
  $l(y);
}
function Bn(e, f, n) {
  const y = Bc(e, f, !1, ls);
  $l(y);
}
function Ga(e, f, n) {
  uf = x5;
  const y = Bc(e, f, !1, ls);
  (!n || !n.render) && (y.user = !0), ss ? ss.push(y) : $l(y);
}
function In(e, f, n) {
  n = n ? Object.assign({}, yc, n) : yc;
  const y = Bc(e, f, !0, 0);
  return y.observers = null, y.observerSlots = null, y.comparator = n.equals || void 0, $l(y), hf.bind(y);
}
function g5(e, f, n) {
  let y, b, S;
  arguments.length === 2 && typeof f == "object" || arguments.length === 1 ? (y = !0, b = e, S = f || {}) : (y = e, b = f, S = n || {});
  let T = null, M = V0, z = !1, H = "initialValue" in S, ee = typeof y == "function" && In(y);
  const oe = /* @__PURE__ */ new Set(), [_e, ue] = (S.storage || Ae)(S.initialValue), [ve, le] = Ae(void 0), [re, Ce] = Ae(void 0, {
    equals: !1
  }), [ke, Ee] = Ae(H ? "ready" : "unresolved");
  function De(at, We, $e, gt) {
    return T === at && (T = null, gt !== void 0 && (H = !0), (at === M || We === M) && S.onHydrated && queueMicrotask(() => S.onHydrated(gt, {
      value: We
    })), M = V0, Qe(We, $e)), We;
  }
  function Qe(at, We) {
    Hs(() => {
      We === void 0 && ue(() => at), Ee(We !== void 0 ? "errored" : H ? "ready" : "unresolved"), le(We);
      for (const $e of oe.keys())
        $e.decrement();
      oe.clear();
    }, !1);
  }
  function et() {
    const at = y5, We = _e(), $e = ve();
    if ($e !== void 0 && !T)
      throw $e;
    return Zn && !Zn.user && at && Fh(() => {
      re(), T && (at.resolved || oe.has(at) || (at.increment(), oe.add(at)));
    }), We;
  }
  function xt(at = !0) {
    if (at !== !1 && z)
      return;
    z = !1;
    const We = ee ? ee() : y;
    if (We == null || We === !1) {
      De(T, ja(_e));
      return;
    }
    const $e = M !== V0 ? M : ja(() => b(We, {
      value: _e(),
      refetching: at
    }));
    return typeof $e != "object" || !($e && "then" in $e) ? (De(T, $e, void 0, We), $e) : (T = $e, z = !0, queueMicrotask(() => z = !1), Hs(() => {
      Ee(H ? "refreshing" : "pending"), Ce();
    }, !1), $e.then((gt) => De($e, gt, void 0, We), (gt) => De($e, void 0, vf(gt), We)));
  }
  return Object.defineProperties(et, {
    state: {
      get: () => ke()
    },
    error: {
      get: () => ve()
    },
    loading: {
      get() {
        const at = ke();
        return at === "pending" || at === "refreshing";
      }
    },
    latest: {
      get() {
        if (!H)
          return et();
        const at = ve();
        if (at && !T)
          throw at;
        return _e();
      }
    }
  }), ee ? Fh(() => xt(!1)) : xt(!1), [et, {
    refetch: xt,
    mutate: ue
  }];
}
function ja(e) {
  if (Zn === null)
    return e();
  const f = Zn;
  Zn = null;
  try {
    return e();
  } finally {
    Zn = f;
  }
}
function h1(e) {
  Ga(() => ja(e));
}
function d1(e) {
  return lr === null || (lr.cleanups === null ? lr.cleanups = [e] : lr.cleanups.push(e)), e;
}
function j0(e) {
  const f = Zn, n = lr;
  return Promise.resolve().then(() => {
    Zn = f, lr = n;
    let y;
    return Hs(e, !1), Zn = lr = null, y ? y.done : void 0;
  });
}
let y5;
function hf() {
  if (this.sources && this.state)
    if (this.state === ls)
      $l(this);
    else {
      const e = ai;
      ai = null, Hs(() => xc(this), !1), ai = e;
    }
  if (Zn) {
    const e = this.observers ? this.observers.length : 0;
    Zn.sources ? (Zn.sources.push(this), Zn.sourceSlots.push(e)) : (Zn.sources = [this], Zn.sourceSlots = [e]), this.observers ? (this.observers.push(Zn), this.observerSlots.push(Zn.sources.length - 1)) : (this.observers = [Zn], this.observerSlots = [Zn.sources.length - 1]);
  }
  return this.value;
}
function df(e, f, n) {
  let y = e.value;
  return (!e.comparator || !e.comparator(y, f)) && (e.value = f, e.observers && e.observers.length && Hs(() => {
    for (let b = 0; b < e.observers.length; b += 1) {
      const S = e.observers[b], T = W0 && W0.running;
      T && W0.disposed.has(S), (T ? !S.tState : !S.state) && (S.pure ? ai.push(S) : ss.push(S), S.observers && pf(S)), T || (S.state = ls);
    }
    if (ai.length > 1e6)
      throw ai = [], new Error();
  }, !1)), f;
}
function $l(e) {
  if (!e.fn)
    return;
  Nc(e);
  const f = lr, n = Zn, y = Oc;
  Zn = lr = e, m5(e, e.value, y), Zn = n, lr = f;
}
function m5(e, f, n) {
  let y;
  try {
    y = e.fn(f);
  } catch (b) {
    return e.pure && (e.state = ls, e.owned && e.owned.forEach(Nc), e.owned = null), e.updatedAt = n + 1, gf(b);
  }
  (!e.updatedAt || e.updatedAt <= n) && (e.updatedAt != null && "observers" in e ? df(e, y) : e.value = y, e.updatedAt = n);
}
function Bc(e, f, n, y = ls, b) {
  const S = {
    fn: e,
    state: y,
    updatedAt: null,
    owned: null,
    sources: null,
    sourceSlots: null,
    cleanups: null,
    value: f,
    owner: lr,
    context: lr ? lr.context : null,
    pure: n
  };
  return lr === null || lr !== cf && (lr.owned ? lr.owned.push(S) : lr.owned = [S]), S;
}
function _c(e) {
  if (e.state === 0)
    return;
  if (e.state === mc)
    return xc(e);
  if (e.suspense && ja(e.suspense.inFallback))
    return e.suspense.effects.push(e);
  const f = [e];
  for (; (e = e.owner) && (!e.updatedAt || e.updatedAt < Oc); )
    e.state && f.push(e);
  for (let n = f.length - 1; n >= 0; n--)
    if (e = f[n], e.state === ls)
      $l(e);
    else if (e.state === mc) {
      const y = ai;
      ai = null, Hs(() => xc(e, f[0]), !1), ai = y;
    }
}
function Hs(e, f) {
  if (ai)
    return e();
  let n = !1;
  f || (ai = []), ss ? n = !0 : ss = [], Oc++;
  try {
    const y = e();
    return _5(n), y;
  } catch (y) {
    n || (ss = null), ai = null, gf(y);
  }
}
function _5(e) {
  if (ai && (ff(ai), ai = null), e)
    return;
  const f = ss;
  ss = null, f.length && Hs(() => uf(f), !1);
}
function ff(e) {
  for (let f = 0; f < e.length; f++)
    _c(e[f]);
}
function x5(e) {
  let f, n = 0;
  for (f = 0; f < e.length; f++) {
    const y = e[f];
    y.user ? e[n++] = y : _c(y);
  }
  for (f = 0; f < n; f++)
    _c(e[f]);
}
function xc(e, f) {
  e.state = 0;
  for (let n = 0; n < e.sources.length; n += 1) {
    const y = e.sources[n];
    if (y.sources) {
      const b = y.state;
      b === ls ? y !== f && (!y.updatedAt || y.updatedAt < Oc) && _c(y) : b === mc && xc(y, f);
    }
  }
}
function pf(e) {
  for (let f = 0; f < e.observers.length; f += 1) {
    const n = e.observers[f];
    n.state || (n.state = mc, n.pure ? ai.push(n) : ss.push(n), n.observers && pf(n));
  }
}
function Nc(e) {
  let f;
  if (e.sources)
    for (; e.sources.length; ) {
      const n = e.sources.pop(), y = e.sourceSlots.pop(), b = n.observers;
      if (b && b.length) {
        const S = b.pop(), T = n.observerSlots.pop();
        y < b.length && (S.sourceSlots[T] = y, b[y] = S, n.observerSlots[y] = T);
      }
    }
  if (e.owned) {
    for (f = e.owned.length - 1; f >= 0; f--)
      Nc(e.owned[f]);
    e.owned = null;
  }
  if (e.cleanups) {
    for (f = e.cleanups.length - 1; f >= 0; f--)
      e.cleanups[f]();
    e.cleanups = null;
  }
  e.state = 0;
}
function vf(e) {
  return e instanceof Error ? e : new Error(typeof e == "string" ? e : "Unknown error", {
    cause: e
  });
}
function gf(e, f = lr) {
  throw vf(e);
}
const b5 = Symbol("fallback");
function $h(e) {
  for (let f = 0; f < e.length; f++)
    e[f]();
}
function C5(e, f, n = {}) {
  let y = [], b = [], S = [], T = 0, M = f.length > 1 ? [] : null;
  return d1(() => $h(S)), () => {
    let z = e() || [], H, ee;
    return z[v5], ja(() => {
      let _e = z.length, ue, ve, le, re, Ce, ke, Ee, De, Qe;
      if (_e === 0)
        T !== 0 && ($h(S), S = [], y = [], b = [], T = 0, M && (M = [])), n.fallback && (y = [b5], b[0] = pc((et) => (S[0] = et, n.fallback())), T = 1);
      else if (T === 0) {
        for (b = new Array(_e), ee = 0; ee < _e; ee++)
          y[ee] = z[ee], b[ee] = pc(oe);
        T = _e;
      } else {
        for (le = new Array(_e), re = new Array(_e), M && (Ce = new Array(_e)), ke = 0, Ee = Math.min(T, _e); ke < Ee && y[ke] === z[ke]; ke++)
          ;
        for (Ee = T - 1, De = _e - 1; Ee >= ke && De >= ke && y[Ee] === z[De]; Ee--, De--)
          le[De] = b[Ee], re[De] = S[Ee], M && (Ce[De] = M[Ee]);
        for (ue = /* @__PURE__ */ new Map(), ve = new Array(De + 1), ee = De; ee >= ke; ee--)
          Qe = z[ee], H = ue.get(Qe), ve[ee] = H === void 0 ? -1 : H, ue.set(Qe, ee);
        for (H = ke; H <= Ee; H++)
          Qe = y[H], ee = ue.get(Qe), ee !== void 0 && ee !== -1 ? (le[ee] = b[H], re[ee] = S[H], M && (Ce[ee] = M[H]), ee = ve[ee], ue.set(Qe, ee)) : S[H]();
        for (ee = ke; ee < _e; ee++)
          ee in le ? (b[ee] = le[ee], S[ee] = re[ee], M && (M[ee] = Ce[ee], M[ee](ee))) : b[ee] = pc(oe);
        b = b.slice(0, T = _e), y = z.slice(0);
      }
      return b;
    });
    function oe(_e) {
      if (S[ee] = _e, M) {
        const [ue, ve] = Ae(ee);
        return M[ee] = ve, f(z[ee], ue);
      }
      return f(z[ee]);
    }
  };
}
function je(e, f) {
  return ja(() => e(f || {}));
}
function cc() {
  return !0;
}
const S5 = {
  get(e, f, n) {
    return f === G0 ? n : e.get(f);
  },
  has(e, f) {
    return f === G0 ? !0 : e.has(f);
  },
  set: cc,
  deleteProperty: cc,
  getOwnPropertyDescriptor(e, f) {
    return {
      configurable: !0,
      enumerable: !0,
      get() {
        return e.get(f);
      },
      set: cc,
      deleteProperty: cc
    };
  },
  ownKeys(e) {
    return e.keys();
  }
};
function Y0(e) {
  return (e = typeof e == "function" ? e() : e) ? e : {};
}
function w5() {
  for (let e = 0, f = this.length; e < f; ++e) {
    const n = this[e]();
    if (n !== void 0)
      return n;
  }
}
function yf(...e) {
  let f = !1;
  for (let S = 0; S < e.length; S++) {
    const T = e[S];
    f = f || !!T && G0 in T, e[S] = typeof T == "function" ? (f = !0, In(T)) : T;
  }
  if (f)
    return new Proxy({
      get(S) {
        for (let T = e.length - 1; T >= 0; T--) {
          const M = Y0(e[T])[S];
          if (M !== void 0)
            return M;
        }
      },
      has(S) {
        for (let T = e.length - 1; T >= 0; T--)
          if (S in Y0(e[T]))
            return !0;
        return !1;
      },
      keys() {
        const S = [];
        for (let T = 0; T < e.length; T++)
          S.push(...Object.keys(Y0(e[T])));
        return [...new Set(S)];
      }
    }, S5);
  const n = {}, y = {}, b = /* @__PURE__ */ new Set();
  for (let S = e.length - 1; S >= 0; S--) {
    const T = e[S];
    if (!T)
      continue;
    const M = Object.getOwnPropertyNames(T);
    for (let z = 0, H = M.length; z < H; z++) {
      const ee = M[z];
      if (ee === "__proto__" || ee === "constructor")
        continue;
      const oe = Object.getOwnPropertyDescriptor(T, ee);
      if (!b.has(ee))
        oe.get ? (b.add(ee), Object.defineProperty(n, ee, {
          enumerable: !0,
          configurable: !0,
          get: w5.bind(y[ee] = [oe.get.bind(T)])
        })) : (oe.value !== void 0 && b.add(ee), n[ee] = oe.value);
      else {
        const _e = y[ee];
        _e ? oe.get ? _e.push(oe.get.bind(T)) : oe.value !== void 0 && _e.push(() => oe.value) : n[ee] === void 0 && (n[ee] = oe.value);
      }
    }
  }
  return n;
}
const T5 = (e) => `Stale read from <${e}>.`;
function wu(e) {
  const f = "fallback" in e && {
    fallback: () => e.fallback
  };
  return In(C5(() => e.each, e.children, f || void 0));
}
function An(e) {
  const f = e.keyed, n = In(() => e.when, void 0, {
    equals: (y, b) => f ? y === b : !y == !b
  });
  return In(() => {
    const y = n();
    if (y) {
      const b = e.children;
      return typeof b == "function" && b.length > 0 ? ja(() => b(f ? y : () => {
        if (!ja(n))
          throw T5("Show");
        return e.when;
      })) : b;
    }
    return e.fallback;
  }, void 0, void 0);
}
const [vt, Rh] = Ae(null), [vc, k5] = Ae();
function P5(e, f, n) {
  let y = n.length, b = f.length, S = y, T = 0, M = 0, z = f[b - 1].nextSibling, H = null;
  for (; T < b || M < S; ) {
    if (f[T] === n[M]) {
      T++, M++;
      continue;
    }
    for (; f[b - 1] === n[S - 1]; )
      b--, S--;
    if (b === T) {
      const ee = S < y ? M ? n[M - 1].nextSibling : n[S - M] : z;
      for (; M < S; )
        e.insertBefore(n[M++], ee);
    } else if (S === M)
      for (; T < b; )
        (!H || !H.has(f[T])) && f[T].remove(), T++;
    else if (f[T] === n[S - 1] && n[M] === f[b - 1]) {
      const ee = f[--b].nextSibling;
      e.insertBefore(n[M++], f[T++].nextSibling), e.insertBefore(n[--S], ee), f[b] = n[S];
    } else {
      if (!H) {
        H = /* @__PURE__ */ new Map();
        let oe = M;
        for (; oe < S; )
          H.set(n[oe], oe++);
      }
      const ee = H.get(f[T]);
      if (ee != null)
        if (M < ee && ee < S) {
          let oe = T, _e = 1, ue;
          for (; ++oe < b && oe < S && !((ue = H.get(f[oe])) == null || ue !== ee + _e); )
            _e++;
          if (_e > ee - M) {
            const ve = f[T];
            for (; M < ee; )
              e.insertBefore(n[M++], ve);
          } else
            e.replaceChild(n[M++], f[T++]);
        } else
          T++;
      else
        f[T++].remove();
    }
  }
}
const Oh = "_$DX_DELEGATE";
function I5(e, f, n, y = {}) {
  let b;
  return pc((S) => {
    b = S, f === document ? e() : qe(f, e(), f.firstChild ? null : void 0, n);
  }, y.owner), () => {
    b(), f.textContent = "";
  };
}
function Je(e, f, n) {
  let y;
  const b = () => {
    const T = document.createElement("template");
    return T.innerHTML = e, n ? T.content.firstChild.firstChild : T.content.firstChild;
  }, S = f ? () => ja(() => document.importNode(y || (y = b()), !0)) : () => (y || (y = b())).cloneNode(!0);
  return S.cloneNode = S, S;
}
function yi(e, f = window.document) {
  const n = f[Oh] || (f[Oh] = /* @__PURE__ */ new Set());
  for (let y = 0, b = e.length; y < b; y++) {
    const S = e[y];
    n.has(S) || (n.add(S), f.addEventListener(S, E5));
  }
}
function gi(e, f, n) {
  n == null ? e.removeAttribute(f) : e.setAttribute(f, n);
}
function qa(e, f) {
  f == null ? e.removeAttribute("class") : e.className = f;
}
function is(e, f, n, y) {
  if (y)
    Array.isArray(n) ? (e[`$$${f}`] = n[0], e[`$$${f}Data`] = n[1]) : e[`$$${f}`] = n;
  else if (Array.isArray(n)) {
    const b = n[0];
    e.addEventListener(f, n[0] = (S) => b.call(e, n[1], S));
  } else
    e.addEventListener(f, n);
}
function mo(e, f, n) {
  if (!f)
    return n ? gi(e, "style") : f;
  const y = e.style;
  if (typeof f == "string")
    return y.cssText = f;
  typeof n == "string" && (y.cssText = n = void 0), n || (n = {}), f || (f = {});
  let b, S;
  for (S in n)
    f[S] == null && y.removeProperty(S), delete n[S];
  for (S in f)
    b = f[S], b !== n[S] && (y.setProperty(S, b), n[S] = b);
  return n;
}
function f1(e, f, n) {
  return ja(() => e(f, n));
}
function qe(e, f, n, y) {
  if (n !== void 0 && !y && (y = []), typeof f != "function")
    return bc(e, f, y, n);
  Bn((b) => bc(e, f(), b, n), y);
}
function E5(e) {
  const f = `$$${e.type}`;
  let n = e.composedPath && e.composedPath()[0] || e.target;
  for (e.target !== n && Object.defineProperty(e, "target", {
    configurable: !0,
    value: n
  }), Object.defineProperty(e, "currentTarget", {
    configurable: !0,
    get() {
      return n || document;
    }
  }); n; ) {
    const y = n[f];
    if (y && !n.disabled) {
      const b = n[`${f}Data`];
      if (b !== void 0 ? y.call(n, b, e) : y.call(n, e), e.cancelBubble)
        return;
    }
    n = n._$host || n.parentNode || n.host;
  }
}
function bc(e, f, n, y, b) {
  for (; typeof n == "function"; )
    n = n();
  if (f === n)
    return n;
  const S = typeof f, T = y !== void 0;
  if (e = T && n[0] && n[0].parentNode || e, S === "string" || S === "number")
    if (S === "number" && (f = f.toString()), T) {
      let M = n[0];
      M && M.nodeType === 3 ? M.data = f : M = document.createTextNode(f), n = kl(e, n, y, M);
    } else
      n !== "" && typeof n == "string" ? n = e.firstChild.data = f : n = e.textContent = f;
  else if (f == null || S === "boolean")
    n = kl(e, n, y);
  else {
    if (S === "function")
      return Bn(() => {
        let M = f();
        for (; typeof M == "function"; )
          M = M();
        n = bc(e, M, n, y);
      }), () => n;
    if (Array.isArray(f)) {
      const M = [], z = n && Array.isArray(n);
      if (q0(M, f, n, b))
        return Bn(() => n = bc(e, M, n, y, !0)), () => n;
      if (M.length === 0) {
        if (n = kl(e, n, y), T)
          return n;
      } else
        z ? n.length === 0 ? Bh(e, M, y) : P5(e, n, M) : (n && kl(e), Bh(e, M));
      n = M;
    } else if (f.nodeType) {
      if (Array.isArray(n)) {
        if (T)
          return n = kl(e, n, y, f);
        kl(e, n, null, f);
      } else
        n == null || n === "" || !e.firstChild ? e.appendChild(f) : e.replaceChild(f, e.firstChild);
      n = f;
    } else
      console.warn("Unrecognized value. Skipped inserting", f);
  }
  return n;
}
function q0(e, f, n, y) {
  let b = !1;
  for (let S = 0, T = f.length; S < T; S++) {
    let M = f[S], z = n && n[S], H;
    if (!(M == null || M === !0 || M === !1))
      if ((H = typeof M) == "object" && M.nodeType)
        e.push(M);
      else if (Array.isArray(M))
        b = q0(e, M, z) || b;
      else if (H === "function")
        if (y) {
          for (; typeof M == "function"; )
            M = M();
          b = q0(e, Array.isArray(M) ? M : [M], Array.isArray(z) ? z : [z]) || b;
        } else
          e.push(M), b = !0;
      else {
        const ee = String(M);
        z && z.nodeType === 3 && z.data === ee ? e.push(z) : e.push(document.createTextNode(ee));
      }
  }
  return b;
}
function Bh(e, f, n = null) {
  for (let y = 0, b = f.length; y < b; y++)
    e.insertBefore(f[y], n);
}
function kl(e, f, n, y) {
  if (n === void 0)
    return e.textContent = "";
  const b = y || document.createTextNode("");
  if (f.length) {
    let S = !1;
    for (let T = f.length - 1; T >= 0; T--) {
      const M = f[T];
      if (b !== M) {
        const z = M.parentNode === e;
        !S && !T ? z ? e.replaceChild(b, M) : e.insertBefore(b, n) : z && M.remove();
      } else
        S = !0;
    }
  } else
    e.insertBefore(b, n);
  return [b];
}
var L5 = typeof ya == "object" && ya && ya.Object === Object && ya, mf = L5, A5 = mf, M5 = typeof self == "object" && self && self.Object === Object && self, D5 = A5 || M5 || Function("return this")(), bo = D5, F5 = bo, $5 = F5.Symbol, zc = $5, Nh = zc, _f = Object.prototype, R5 = _f.hasOwnProperty, O5 = _f.toString, pu = Nh ? Nh.toStringTag : void 0;
function B5(e) {
  var f = R5.call(e, pu), n = e[pu];
  try {
    e[pu] = void 0;
    var y = !0;
  } catch {
  }
  var b = O5.call(e);
  return y && (f ? e[pu] = n : delete e[pu]), b;
}
var N5 = B5, z5 = Object.prototype, V5 = z5.toString;
function W5(e) {
  return V5.call(e);
}
var Y5 = W5, zh = zc, X5 = N5, H5 = Y5, Z5 = "[object Null]", U5 = "[object Undefined]", Vh = zh ? zh.toStringTag : void 0;
function K5(e) {
  return e == null ? e === void 0 ? U5 : Z5 : Vh && Vh in Object(e) ? X5(e) : H5(e);
}
var Iu = K5;
function G5(e) {
  var f = typeof e;
  return e != null && (f == "object" || f == "function");
}
var Rl = G5, j5 = Iu, q5 = Rl, Q5 = "[object AsyncFunction]", J5 = "[object Function]", e6 = "[object GeneratorFunction]", t6 = "[object Proxy]";
function n6(e) {
  if (!q5(e))
    return !1;
  var f = j5(e);
  return f == J5 || f == e6 || f == Q5 || f == t6;
}
var xf = n6, r6 = bo, i6 = r6["__core-js_shared__"], a6 = i6, X0 = a6, Wh = function() {
  var e = /[^.]+$/.exec(X0 && X0.keys && X0.keys.IE_PROTO || "");
  return e ? "Symbol(src)_1." + e : "";
}();
function o6(e) {
  return !!Wh && Wh in e;
}
var s6 = o6, l6 = Function.prototype, u6 = l6.toString;
function c6(e) {
  if (e != null) {
    try {
      return u6.call(e);
    } catch {
    }
    try {
      return e + "";
    } catch {
    }
  }
  return "";
}
var bf = c6, h6 = xf, d6 = s6, f6 = Rl, p6 = bf, v6 = /[\\^$.*+?()[\]{}|]/g, g6 = /^\[object .+?Constructor\]$/, y6 = Function.prototype, m6 = Object.prototype, _6 = y6.toString, x6 = m6.hasOwnProperty, b6 = RegExp(
  "^" + _6.call(x6).replace(v6, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function C6(e) {
  if (!f6(e) || d6(e))
    return !1;
  var f = h6(e) ? b6 : g6;
  return f.test(p6(e));
}
var S6 = C6;
function w6(e, f) {
  return e == null ? void 0 : e[f];
}
var T6 = w6, k6 = S6, P6 = T6;
function I6(e, f) {
  var n = P6(e, f);
  return k6(n) ? n : void 0;
}
var dl = I6, E6 = dl, L6 = function() {
  try {
    var e = E6(Object, "defineProperty");
    return e({}, "", {}), e;
  } catch {
  }
}(), A6 = L6, Yh = A6;
function M6(e, f, n) {
  f == "__proto__" && Yh ? Yh(e, f, {
    configurable: !0,
    enumerable: !0,
    value: n,
    writable: !0
  }) : e[f] = n;
}
var Cf = M6;
function D6(e, f) {
  return e === f || e !== e && f !== f;
}
var Sf = D6, F6 = Cf, $6 = Sf, R6 = Object.prototype, O6 = R6.hasOwnProperty;
function B6(e, f, n) {
  var y = e[f];
  (!(O6.call(e, f) && $6(y, n)) || n === void 0 && !(f in e)) && F6(e, f, n);
}
var p1 = B6, N6 = Array.isArray, Ol = N6;
function z6(e) {
  return e != null && typeof e == "object";
}
var Bl = z6, V6 = Iu, W6 = Bl, Y6 = "[object Symbol]";
function X6(e) {
  return typeof e == "symbol" || W6(e) && V6(e) == Y6;
}
var v1 = X6, H6 = Ol, Z6 = v1, U6 = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, K6 = /^\w*$/;
function G6(e, f) {
  if (H6(e))
    return !1;
  var n = typeof e;
  return n == "number" || n == "symbol" || n == "boolean" || e == null || Z6(e) ? !0 : K6.test(e) || !U6.test(e) || f != null && e in Object(f);
}
var j6 = G6, q6 = dl, Q6 = q6(Object, "create"), Vc = Q6, Xh = Vc;
function J6() {
  this.__data__ = Xh ? Xh(null) : {}, this.size = 0;
}
var ey = J6;
function ty(e) {
  var f = this.has(e) && delete this.__data__[e];
  return this.size -= f ? 1 : 0, f;
}
var ny = ty, ry = Vc, iy = "__lodash_hash_undefined__", ay = Object.prototype, oy = ay.hasOwnProperty;
function sy(e) {
  var f = this.__data__;
  if (ry) {
    var n = f[e];
    return n === iy ? void 0 : n;
  }
  return oy.call(f, e) ? f[e] : void 0;
}
var ly = sy, uy = Vc, cy = Object.prototype, hy = cy.hasOwnProperty;
function dy(e) {
  var f = this.__data__;
  return uy ? f[e] !== void 0 : hy.call(f, e);
}
var fy = dy, py = Vc, vy = "__lodash_hash_undefined__";
function gy(e, f) {
  var n = this.__data__;
  return this.size += this.has(e) ? 0 : 1, n[e] = py && f === void 0 ? vy : f, this;
}
var yy = gy, my = ey, _y = ny, xy = ly, by = fy, Cy = yy;
function Nl(e) {
  var f = -1, n = e == null ? 0 : e.length;
  for (this.clear(); ++f < n; ) {
    var y = e[f];
    this.set(y[0], y[1]);
  }
}
Nl.prototype.clear = my;
Nl.prototype.delete = _y;
Nl.prototype.get = xy;
Nl.prototype.has = by;
Nl.prototype.set = Cy;
var Sy = Nl;
function wy() {
  this.__data__ = [], this.size = 0;
}
var Ty = wy, ky = Sf;
function Py(e, f) {
  for (var n = e.length; n--; )
    if (ky(e[n][0], f))
      return n;
  return -1;
}
var Wc = Py, Iy = Wc, Ey = Array.prototype, Ly = Ey.splice;
function Ay(e) {
  var f = this.__data__, n = Iy(f, e);
  if (n < 0)
    return !1;
  var y = f.length - 1;
  return n == y ? f.pop() : Ly.call(f, n, 1), --this.size, !0;
}
var My = Ay, Dy = Wc;
function Fy(e) {
  var f = this.__data__, n = Dy(f, e);
  return n < 0 ? void 0 : f[n][1];
}
var $y = Fy, Ry = Wc;
function Oy(e) {
  return Ry(this.__data__, e) > -1;
}
var By = Oy, Ny = Wc;
function zy(e, f) {
  var n = this.__data__, y = Ny(n, e);
  return y < 0 ? (++this.size, n.push([e, f])) : n[y][1] = f, this;
}
var Vy = zy, Wy = Ty, Yy = My, Xy = $y, Hy = By, Zy = Vy;
function zl(e) {
  var f = -1, n = e == null ? 0 : e.length;
  for (this.clear(); ++f < n; ) {
    var y = e[f];
    this.set(y[0], y[1]);
  }
}
zl.prototype.clear = Wy;
zl.prototype.delete = Yy;
zl.prototype.get = Xy;
zl.prototype.has = Hy;
zl.prototype.set = Zy;
var Yc = zl, Uy = dl, Ky = bo, Gy = Uy(Ky, "Map"), g1 = Gy, Hh = Sy, jy = Yc, qy = g1;
function Qy() {
  this.size = 0, this.__data__ = {
    hash: new Hh(),
    map: new (qy || jy)(),
    string: new Hh()
  };
}
var Jy = Qy;
function e3(e) {
  var f = typeof e;
  return f == "string" || f == "number" || f == "symbol" || f == "boolean" ? e !== "__proto__" : e === null;
}
var t3 = e3, n3 = t3;
function r3(e, f) {
  var n = e.__data__;
  return n3(f) ? n[typeof f == "string" ? "string" : "hash"] : n.map;
}
var Xc = r3, i3 = Xc;
function a3(e) {
  var f = i3(this, e).delete(e);
  return this.size -= f ? 1 : 0, f;
}
var o3 = a3, s3 = Xc;
function l3(e) {
  return s3(this, e).get(e);
}
var u3 = l3, c3 = Xc;
function h3(e) {
  return c3(this, e).has(e);
}
var d3 = h3, f3 = Xc;
function p3(e, f) {
  var n = f3(this, e), y = n.size;
  return n.set(e, f), this.size += n.size == y ? 0 : 1, this;
}
var v3 = p3, g3 = Jy, y3 = o3, m3 = u3, _3 = d3, x3 = v3;
function Vl(e) {
  var f = -1, n = e == null ? 0 : e.length;
  for (this.clear(); ++f < n; ) {
    var y = e[f];
    this.set(y[0], y[1]);
  }
}
Vl.prototype.clear = g3;
Vl.prototype.delete = y3;
Vl.prototype.get = m3;
Vl.prototype.has = _3;
Vl.prototype.set = x3;
var wf = Vl, Tf = wf, b3 = "Expected a function";
function y1(e, f) {
  if (typeof e != "function" || f != null && typeof f != "function")
    throw new TypeError(b3);
  var n = function() {
    var y = arguments, b = f ? f.apply(this, y) : y[0], S = n.cache;
    if (S.has(b))
      return S.get(b);
    var T = e.apply(this, y);
    return n.cache = S.set(b, T) || S, T;
  };
  return n.cache = new (y1.Cache || Tf)(), n;
}
y1.Cache = Tf;
var C3 = y1, S3 = C3, w3 = 500;
function T3(e) {
  var f = S3(e, function(y) {
    return n.size === w3 && n.clear(), y;
  }), n = f.cache;
  return f;
}
var k3 = T3, P3 = k3, I3 = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, E3 = /\\(\\)?/g, L3 = P3(function(e) {
  var f = [];
  return e.charCodeAt(0) === 46 && f.push(""), e.replace(I3, function(n, y, b, S) {
    f.push(b ? S.replace(E3, "$1") : y || n);
  }), f;
}), A3 = L3;
function M3(e, f) {
  for (var n = -1, y = e == null ? 0 : e.length, b = Array(y); ++n < y; )
    b[n] = f(e[n], n, e);
  return b;
}
var D3 = M3, Zh = zc, F3 = D3, $3 = Ol, R3 = v1, O3 = 1 / 0, Uh = Zh ? Zh.prototype : void 0, Kh = Uh ? Uh.toString : void 0;
function kf(e) {
  if (typeof e == "string")
    return e;
  if ($3(e))
    return F3(e, kf) + "";
  if (R3(e))
    return Kh ? Kh.call(e) : "";
  var f = e + "";
  return f == "0" && 1 / e == -O3 ? "-0" : f;
}
var B3 = kf, N3 = B3;
function z3(e) {
  return e == null ? "" : N3(e);
}
var V3 = z3, W3 = Ol, Y3 = j6, X3 = A3, H3 = V3;
function Z3(e, f) {
  return W3(e) ? e : Y3(e, f) ? [e] : X3(H3(e));
}
var U3 = Z3, K3 = 9007199254740991, G3 = /^(?:0|[1-9]\d*)$/;
function j3(e, f) {
  var n = typeof e;
  return f = f ?? K3, !!f && (n == "number" || n != "symbol" && G3.test(e)) && e > -1 && e % 1 == 0 && e < f;
}
var Pf = j3, q3 = v1, Q3 = 1 / 0;
function J3(e) {
  if (typeof e == "string" || q3(e))
    return e;
  var f = e + "";
  return f == "0" && 1 / e == -Q3 ? "-0" : f;
}
var em = J3, tm = p1, nm = U3, rm = Pf, Gh = Rl, im = em;
function am(e, f, n, y) {
  if (!Gh(e))
    return e;
  f = nm(f, e);
  for (var b = -1, S = f.length, T = S - 1, M = e; M != null && ++b < S; ) {
    var z = im(f[b]), H = n;
    if (z === "__proto__" || z === "constructor" || z === "prototype")
      return e;
    if (b != T) {
      var ee = M[z];
      H = y ? y(ee, z, M) : void 0, H === void 0 && (H = Gh(ee) ? ee : rm(f[b + 1]) ? [] : {});
    }
    tm(M, z, H), M = M[z];
  }
  return e;
}
var om = am, sm = om;
function lm(e, f, n) {
  return e == null ? e : sm(e, f, n);
}
var um = lm;
const gu = /* @__PURE__ */ Rc(um);
var cm = Yc;
function hm() {
  this.__data__ = new cm(), this.size = 0;
}
var dm = hm;
function fm(e) {
  var f = this.__data__, n = f.delete(e);
  return this.size = f.size, n;
}
var pm = fm;
function vm(e) {
  return this.__data__.get(e);
}
var gm = vm;
function ym(e) {
  return this.__data__.has(e);
}
var mm = ym, _m = Yc, xm = g1, bm = wf, Cm = 200;
function Sm(e, f) {
  var n = this.__data__;
  if (n instanceof _m) {
    var y = n.__data__;
    if (!xm || y.length < Cm - 1)
      return y.push([e, f]), this.size = ++n.size, this;
    n = this.__data__ = new bm(y);
  }
  return n.set(e, f), this.size = n.size, this;
}
var wm = Sm, Tm = Yc, km = dm, Pm = pm, Im = gm, Em = mm, Lm = wm;
function Wl(e) {
  var f = this.__data__ = new Tm(e);
  this.size = f.size;
}
Wl.prototype.clear = km;
Wl.prototype.delete = Pm;
Wl.prototype.get = Im;
Wl.prototype.has = Em;
Wl.prototype.set = Lm;
var Am = Wl;
function Mm(e, f) {
  for (var n = -1, y = e == null ? 0 : e.length; ++n < y && f(e[n], n, e) !== !1; )
    ;
  return e;
}
var Dm = Mm, Fm = p1, $m = Cf;
function Rm(e, f, n, y) {
  var b = !n;
  n || (n = {});
  for (var S = -1, T = f.length; ++S < T; ) {
    var M = f[S], z = y ? y(n[M], e[M], M, n, e) : void 0;
    z === void 0 && (z = e[M]), b ? $m(n, M, z) : Fm(n, M, z);
  }
  return n;
}
var Hc = Rm;
function Om(e, f) {
  for (var n = -1, y = Array(e); ++n < e; )
    y[n] = f(n);
  return y;
}
var Bm = Om, Nm = Iu, zm = Bl, Vm = "[object Arguments]";
function Wm(e) {
  return zm(e) && Nm(e) == Vm;
}
var Ym = Wm, jh = Ym, Xm = Bl, If = Object.prototype, Hm = If.hasOwnProperty, Zm = If.propertyIsEnumerable, Um = jh(function() {
  return arguments;
}()) ? jh : function(e) {
  return Xm(e) && Hm.call(e, "callee") && !Zm.call(e, "callee");
}, Km = Um, Cc = { exports: {} };
function Gm() {
  return !1;
}
var jm = Gm;
Cc.exports;
(function(e, f) {
  var n = bo, y = jm, b = f && !f.nodeType && f, S = b && !0 && e && !e.nodeType && e, T = S && S.exports === b, M = T ? n.Buffer : void 0, z = M ? M.isBuffer : void 0, H = z || y;
  e.exports = H;
})(Cc, Cc.exports);
var Ef = Cc.exports, qm = 9007199254740991;
function Qm(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= qm;
}
var Lf = Qm, Jm = Iu, e8 = Lf, t8 = Bl, n8 = "[object Arguments]", r8 = "[object Array]", i8 = "[object Boolean]", a8 = "[object Date]", o8 = "[object Error]", s8 = "[object Function]", l8 = "[object Map]", u8 = "[object Number]", c8 = "[object Object]", h8 = "[object RegExp]", d8 = "[object Set]", f8 = "[object String]", p8 = "[object WeakMap]", v8 = "[object ArrayBuffer]", g8 = "[object DataView]", y8 = "[object Float32Array]", m8 = "[object Float64Array]", _8 = "[object Int8Array]", x8 = "[object Int16Array]", b8 = "[object Int32Array]", C8 = "[object Uint8Array]", S8 = "[object Uint8ClampedArray]", w8 = "[object Uint16Array]", T8 = "[object Uint32Array]", Hn = {};
Hn[y8] = Hn[m8] = Hn[_8] = Hn[x8] = Hn[b8] = Hn[C8] = Hn[S8] = Hn[w8] = Hn[T8] = !0;
Hn[n8] = Hn[r8] = Hn[v8] = Hn[i8] = Hn[g8] = Hn[a8] = Hn[o8] = Hn[s8] = Hn[l8] = Hn[u8] = Hn[c8] = Hn[h8] = Hn[d8] = Hn[f8] = Hn[p8] = !1;
function k8(e) {
  return t8(e) && e8(e.length) && !!Hn[Jm(e)];
}
var P8 = k8;
function I8(e) {
  return function(f) {
    return e(f);
  };
}
var m1 = I8, Sc = { exports: {} };
Sc.exports;
(function(e, f) {
  var n = mf, y = f && !f.nodeType && f, b = y && !0 && e && !e.nodeType && e, S = b && b.exports === y, T = S && n.process, M = function() {
    try {
      var z = b && b.require && b.require("util").types;
      return z || T && T.binding && T.binding("util");
    } catch {
    }
  }();
  e.exports = M;
})(Sc, Sc.exports);
var _1 = Sc.exports, E8 = P8, L8 = m1, qh = _1, Qh = qh && qh.isTypedArray, A8 = Qh ? L8(Qh) : E8, M8 = A8, D8 = Bm, F8 = Km, $8 = Ol, R8 = Ef, O8 = Pf, B8 = M8, N8 = Object.prototype, z8 = N8.hasOwnProperty;
function V8(e, f) {
  var n = $8(e), y = !n && F8(e), b = !n && !y && R8(e), S = !n && !y && !b && B8(e), T = n || y || b || S, M = T ? D8(e.length, String) : [], z = M.length;
  for (var H in e)
    (f || z8.call(e, H)) && !(T && // Safari 9 has enumerable `arguments.length` in strict mode.
    (H == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    b && (H == "offset" || H == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    S && (H == "buffer" || H == "byteLength" || H == "byteOffset") || // Skip index properties.
    O8(H, z))) && M.push(H);
  return M;
}
var Af = V8, W8 = Object.prototype;
function Y8(e) {
  var f = e && e.constructor, n = typeof f == "function" && f.prototype || W8;
  return e === n;
}
var x1 = Y8;
function X8(e, f) {
  return function(n) {
    return e(f(n));
  };
}
var Mf = X8, H8 = Mf, Z8 = H8(Object.keys, Object), U8 = Z8, K8 = x1, G8 = U8, j8 = Object.prototype, q8 = j8.hasOwnProperty;
function Q8(e) {
  if (!K8(e))
    return G8(e);
  var f = [];
  for (var n in Object(e))
    q8.call(e, n) && n != "constructor" && f.push(n);
  return f;
}
var J8 = Q8, e7 = xf, t7 = Lf;
function n7(e) {
  return e != null && t7(e.length) && !e7(e);
}
var Df = n7, r7 = Af, i7 = J8, a7 = Df;
function o7(e) {
  return a7(e) ? r7(e) : i7(e);
}
var b1 = o7, s7 = Hc, l7 = b1;
function u7(e, f) {
  return e && s7(f, l7(f), e);
}
var c7 = u7;
function h7(e) {
  var f = [];
  if (e != null)
    for (var n in Object(e))
      f.push(n);
  return f;
}
var d7 = h7, f7 = Rl, p7 = x1, v7 = d7, g7 = Object.prototype, y7 = g7.hasOwnProperty;
function m7(e) {
  if (!f7(e))
    return v7(e);
  var f = p7(e), n = [];
  for (var y in e)
    y == "constructor" && (f || !y7.call(e, y)) || n.push(y);
  return n;
}
var _7 = m7, x7 = Af, b7 = _7, C7 = Df;
function S7(e) {
  return C7(e) ? x7(e, !0) : b7(e);
}
var C1 = S7, w7 = Hc, T7 = C1;
function k7(e, f) {
  return e && w7(f, T7(f), e);
}
var P7 = k7, wc = { exports: {} };
wc.exports;
(function(e, f) {
  var n = bo, y = f && !f.nodeType && f, b = y && !0 && e && !e.nodeType && e, S = b && b.exports === y, T = S ? n.Buffer : void 0, M = T ? T.allocUnsafe : void 0;
  function z(H, ee) {
    if (ee)
      return H.slice();
    var oe = H.length, _e = M ? M(oe) : new H.constructor(oe);
    return H.copy(_e), _e;
  }
  e.exports = z;
})(wc, wc.exports);
var I7 = wc.exports;
function E7(e, f) {
  var n = -1, y = e.length;
  for (f || (f = Array(y)); ++n < y; )
    f[n] = e[n];
  return f;
}
var L7 = E7;
function A7(e, f) {
  for (var n = -1, y = e == null ? 0 : e.length, b = 0, S = []; ++n < y; ) {
    var T = e[n];
    f(T, n, e) && (S[b++] = T);
  }
  return S;
}
var M7 = A7;
function D7() {
  return [];
}
var Ff = D7, F7 = M7, $7 = Ff, R7 = Object.prototype, O7 = R7.propertyIsEnumerable, Jh = Object.getOwnPropertySymbols, B7 = Jh ? function(e) {
  return e == null ? [] : (e = Object(e), F7(Jh(e), function(f) {
    return O7.call(e, f);
  }));
} : $7, S1 = B7, N7 = Hc, z7 = S1;
function V7(e, f) {
  return N7(e, z7(e), f);
}
var W7 = V7;
function Y7(e, f) {
  for (var n = -1, y = f.length, b = e.length; ++n < y; )
    e[b + n] = f[n];
  return e;
}
var $f = Y7, X7 = Mf, H7 = X7(Object.getPrototypeOf, Object), Rf = H7, Z7 = $f, U7 = Rf, K7 = S1, G7 = Ff, j7 = Object.getOwnPropertySymbols, q7 = j7 ? function(e) {
  for (var f = []; e; )
    Z7(f, K7(e)), e = U7(e);
  return f;
} : G7, Of = q7, Q7 = Hc, J7 = Of;
function e4(e, f) {
  return Q7(e, J7(e), f);
}
var t4 = e4, n4 = $f, r4 = Ol;
function i4(e, f, n) {
  var y = f(e);
  return r4(e) ? y : n4(y, n(e));
}
var Bf = i4, a4 = Bf, o4 = S1, s4 = b1;
function l4(e) {
  return a4(e, s4, o4);
}
var u4 = l4, c4 = Bf, h4 = Of, d4 = C1;
function f4(e) {
  return c4(e, d4, h4);
}
var p4 = f4, v4 = dl, g4 = bo, y4 = v4(g4, "DataView"), m4 = y4, _4 = dl, x4 = bo, b4 = _4(x4, "Promise"), C4 = b4, S4 = dl, w4 = bo, T4 = S4(w4, "Set"), k4 = T4, P4 = dl, I4 = bo, E4 = P4(I4, "WeakMap"), L4 = E4, Q0 = m4, J0 = g1, e1 = C4, t1 = k4, n1 = L4, Nf = Iu, Yl = bf, ed = "[object Map]", A4 = "[object Object]", td = "[object Promise]", nd = "[object Set]", rd = "[object WeakMap]", id = "[object DataView]", M4 = Yl(Q0), D4 = Yl(J0), F4 = Yl(e1), $4 = Yl(t1), R4 = Yl(n1), cl = Nf;
(Q0 && cl(new Q0(new ArrayBuffer(1))) != id || J0 && cl(new J0()) != ed || e1 && cl(e1.resolve()) != td || t1 && cl(new t1()) != nd || n1 && cl(new n1()) != rd) && (cl = function(e) {
  var f = Nf(e), n = f == A4 ? e.constructor : void 0, y = n ? Yl(n) : "";
  if (y)
    switch (y) {
      case M4:
        return id;
      case D4:
        return ed;
      case F4:
        return td;
      case $4:
        return nd;
      case R4:
        return rd;
    }
  return f;
});
var w1 = cl, O4 = Object.prototype, B4 = O4.hasOwnProperty;
function N4(e) {
  var f = e.length, n = new e.constructor(f);
  return f && typeof e[0] == "string" && B4.call(e, "index") && (n.index = e.index, n.input = e.input), n;
}
var z4 = N4, V4 = bo, W4 = V4.Uint8Array, Y4 = W4, ad = Y4;
function X4(e) {
  var f = new e.constructor(e.byteLength);
  return new ad(f).set(new ad(e)), f;
}
var T1 = X4, H4 = T1;
function Z4(e, f) {
  var n = f ? H4(e.buffer) : e.buffer;
  return new e.constructor(n, e.byteOffset, e.byteLength);
}
var U4 = Z4, K4 = /\w*$/;
function G4(e) {
  var f = new e.constructor(e.source, K4.exec(e));
  return f.lastIndex = e.lastIndex, f;
}
var j4 = G4, od = zc, sd = od ? od.prototype : void 0, ld = sd ? sd.valueOf : void 0;
function q4(e) {
  return ld ? Object(ld.call(e)) : {};
}
var Q4 = q4, J4 = T1;
function e_(e, f) {
  var n = f ? J4(e.buffer) : e.buffer;
  return new e.constructor(n, e.byteOffset, e.length);
}
var t_ = e_, n_ = T1, r_ = U4, i_ = j4, a_ = Q4, o_ = t_, s_ = "[object Boolean]", l_ = "[object Date]", u_ = "[object Map]", c_ = "[object Number]", h_ = "[object RegExp]", d_ = "[object Set]", f_ = "[object String]", p_ = "[object Symbol]", v_ = "[object ArrayBuffer]", g_ = "[object DataView]", y_ = "[object Float32Array]", m_ = "[object Float64Array]", __ = "[object Int8Array]", x_ = "[object Int16Array]", b_ = "[object Int32Array]", C_ = "[object Uint8Array]", S_ = "[object Uint8ClampedArray]", w_ = "[object Uint16Array]", T_ = "[object Uint32Array]";
function k_(e, f, n) {
  var y = e.constructor;
  switch (f) {
    case v_:
      return n_(e);
    case s_:
    case l_:
      return new y(+e);
    case g_:
      return r_(e, n);
    case y_:
    case m_:
    case __:
    case x_:
    case b_:
    case C_:
    case S_:
    case w_:
    case T_:
      return o_(e, n);
    case u_:
      return new y();
    case c_:
    case f_:
      return new y(e);
    case h_:
      return i_(e);
    case d_:
      return new y();
    case p_:
      return a_(e);
  }
}
var P_ = k_, I_ = Rl, ud = Object.create, E_ = function() {
  function e() {
  }
  return function(f) {
    if (!I_(f))
      return {};
    if (ud)
      return ud(f);
    e.prototype = f;
    var n = new e();
    return e.prototype = void 0, n;
  };
}(), L_ = E_, A_ = L_, M_ = Rf, D_ = x1;
function F_(e) {
  return typeof e.constructor == "function" && !D_(e) ? A_(M_(e)) : {};
}
var $_ = F_, R_ = w1, O_ = Bl, B_ = "[object Map]";
function N_(e) {
  return O_(e) && R_(e) == B_;
}
var z_ = N_, V_ = z_, W_ = m1, cd = _1, hd = cd && cd.isMap, Y_ = hd ? W_(hd) : V_, X_ = Y_, H_ = w1, Z_ = Bl, U_ = "[object Set]";
function K_(e) {
  return Z_(e) && H_(e) == U_;
}
var G_ = K_, j_ = G_, q_ = m1, dd = _1, fd = dd && dd.isSet, Q_ = fd ? q_(fd) : j_, J_ = Q_, ex = Am, tx = Dm, nx = p1, rx = c7, ix = P7, ax = I7, ox = L7, sx = W7, lx = t4, ux = u4, cx = p4, hx = w1, dx = z4, fx = P_, px = $_, vx = Ol, gx = Ef, yx = X_, mx = Rl, _x = J_, xx = b1, bx = C1, Cx = 1, Sx = 2, wx = 4, zf = "[object Arguments]", Tx = "[object Array]", kx = "[object Boolean]", Px = "[object Date]", Ix = "[object Error]", Vf = "[object Function]", Ex = "[object GeneratorFunction]", Lx = "[object Map]", Ax = "[object Number]", Wf = "[object Object]", Mx = "[object RegExp]", Dx = "[object Set]", Fx = "[object String]", $x = "[object Symbol]", Rx = "[object WeakMap]", Ox = "[object ArrayBuffer]", Bx = "[object DataView]", Nx = "[object Float32Array]", zx = "[object Float64Array]", Vx = "[object Int8Array]", Wx = "[object Int16Array]", Yx = "[object Int32Array]", Xx = "[object Uint8Array]", Hx = "[object Uint8ClampedArray]", Zx = "[object Uint16Array]", Ux = "[object Uint32Array]", Wn = {};
Wn[zf] = Wn[Tx] = Wn[Ox] = Wn[Bx] = Wn[kx] = Wn[Px] = Wn[Nx] = Wn[zx] = Wn[Vx] = Wn[Wx] = Wn[Yx] = Wn[Lx] = Wn[Ax] = Wn[Wf] = Wn[Mx] = Wn[Dx] = Wn[Fx] = Wn[$x] = Wn[Xx] = Wn[Hx] = Wn[Zx] = Wn[Ux] = !0;
Wn[Ix] = Wn[Vf] = Wn[Rx] = !1;
function gc(e, f, n, y, b, S) {
  var T, M = f & Cx, z = f & Sx, H = f & wx;
  if (n && (T = b ? n(e, y, b, S) : n(e)), T !== void 0)
    return T;
  if (!mx(e))
    return e;
  var ee = vx(e);
  if (ee) {
    if (T = dx(e), !M)
      return ox(e, T);
  } else {
    var oe = hx(e), _e = oe == Vf || oe == Ex;
    if (gx(e))
      return ax(e, M);
    if (oe == Wf || oe == zf || _e && !b) {
      if (T = z || _e ? {} : px(e), !M)
        return z ? lx(e, ix(T, e)) : sx(e, rx(T, e));
    } else {
      if (!Wn[oe])
        return b ? e : {};
      T = fx(e, oe, M);
    }
  }
  S || (S = new ex());
  var ue = S.get(e);
  if (ue)
    return ue;
  S.set(e, T), _x(e) ? e.forEach(function(re) {
    T.add(gc(re, f, n, re, e, S));
  }) : yx(e) && e.forEach(function(re, Ce) {
    T.set(Ce, gc(re, f, n, Ce, e, S));
  });
  var ve = H ? z ? cx : ux : z ? bx : xx, le = ee ? void 0 : ve(e);
  return tx(le || e, function(re, Ce) {
    le && (Ce = re, re = e[Ce]), nx(T, Ce, gc(re, f, n, Ce, e, S));
  }), T;
}
var Kx = gc, Gx = Kx, jx = 1, qx = 4;
function Qx(e) {
  return Gx(e, jx | qx);
}
var Jx = Qx;
const eb = /* @__PURE__ */ Rc(Jx), tb = /* @__PURE__ */ Je("<button>"), r1 = (e) => (() => {
  const f = tb();
  return is(f, "click", e.onClick, !0), qe(f, () => e.children), Bn((n) => {
    const y = e.isDisabled, b = e.style, S = `klinecharts-pro-button ${e.type ?? "confirm"} ${e.class ?? ""}`;
    return y !== n._v$ && (f.disabled = n._v$ = y), n._v$2 = mo(f, b, n._v$2), S !== n._v$3 && qa(f, n._v$3 = S), n;
  }, {
    _v$: void 0,
    _v$2: void 0,
    _v$3: void 0
  }), f;
})();
yi(["click"]);
const nb = /* @__PURE__ */ Je('<svg viewBox="0 0 1024 1024" class="icon"><path d="M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m-353.706667 567.04a42.496 42.496 0 0 1-60.16 0L243.626667 541.866667c-8.106667-8.106667-12.373333-18.773333-12.373334-29.866667s4.693333-22.186667 12.373334-29.866667a42.496 42.496 0 0 1 60.16 0L426.666667 604.586667l293.546666-293.546667a42.496 42.496 0 1 1 60.16 60.16l-323.413333 323.84z">'), rb = /* @__PURE__ */ Je('<svg viewBox="0 0 1024 1024" class="icon"><path d="M245.333333 128h533.333334A117.333333 117.333333 0 0 1 896 245.333333v533.333334A117.333333 117.333333 0 0 1 778.666667 896H245.333333A117.333333 117.333333 0 0 1 128 778.666667V245.333333A117.333333 117.333333 0 0 1 245.333333 128z m0 64c-29.44 0-53.333333 23.893333-53.333333 53.333333v533.333334c0 29.44 23.893333 53.333333 53.333333 53.333333h533.333334c29.44 0 53.333333-23.893333 53.333333-53.333333V245.333333c0-29.44-23.893333-53.333333-53.333333-53.333333H245.333333z">'), ib = /* @__PURE__ */ Je("<div>"), ab = /* @__PURE__ */ Je('<span class="label">'), ob = () => nb(), sb = () => rb(), pd = (e) => {
  const [f, n] = Ae(e.checked ?? !1);
  return Ga(() => {
    "checked" in e && n(e.checked);
  }), (() => {
    const y = ib();
    return y.$$click = (b) => {
      const S = !f();
      e.onChange && e.onChange(S), n(S);
    }, qe(y, (() => {
      const b = In(() => !!f());
      return () => b() ? je(ob, {}) : je(sb, {});
    })(), null), qe(y, (() => {
      const b = In(() => !!e.label);
      return () => b() && (() => {
        const S = ab();
        return qe(S, () => e.label), S;
      })();
    })(), null), Bn((b) => {
      const S = e.style, T = `klinecharts-pro-checkbox ${f() && "checked" || ""} ${e.class || ""}`;
      return b._v$ = mo(y, S, b._v$), T !== b._v$2 && qa(y, b._v$2 = T), b;
    }, {
      _v$: void 0,
      _v$2: void 0
    }), y;
  })();
};
yi(["click"]);
const lb = /* @__PURE__ */ Je('<div class="klinecharts-pro-loading"><i class="circle1"></i><i class="circle2"></i><i class="circle3">'), Yf = () => lb(), ub = /* @__PURE__ */ Je('<div class="klinecharts-pro-empty"><svg class="icon" viewBox="0 0 1024 1024"><path d="M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z">'), cb = () => ub(), hb = /* @__PURE__ */ Je("<ul>"), db = /* @__PURE__ */ Je("<li>"), Tu = (e) => (() => {
  const f = hb();
  return qe(f, je(An, {
    get when() {
      return e.loading;
    },
    get children() {
      return je(Yf, {});
    }
  }), null), qe(f, je(An, {
    get when() {
      var n;
      return !e.loading && !e.children && !((n = e.dataSource) != null && n.length);
    },
    get children() {
      return je(cb, {});
    }
  }), null), qe(f, je(An, {
    get when() {
      return e.children;
    },
    get children() {
      return e.children;
    }
  }), null), qe(f, je(An, {
    get when() {
      return !e.children;
    },
    get children() {
      var n;
      return (n = e.dataSource) == null ? void 0 : n.map((y) => {
        var b;
        return ((b = e.renderItem) == null ? void 0 : b.call(e, y)) ?? db();
      });
    }
  }), null), Bn((n) => {
    const y = e.style, b = `klinecharts-pro-list ${e.class ?? ""}`;
    return n._v$ = mo(f, y, n._v$), b !== n._v$2 && qa(f, n._v$2 = b), n;
  }, {
    _v$: void 0,
    _v$2: void 0
  }), f;
})(), fb = /* @__PURE__ */ Je('<div class="klinecharts-pro-modal"><div class="inner"><div class="title-container"><svg class="close-icon" viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787"></path></svg></div><div class="content-container">'), pb = /* @__PURE__ */ Je('<div class="button-container">'), us = (e) => {
  const f = (n) => {
    var y;
    n.target && n.target.classList.contains("klinecharts-pro-modal") && ((y = e.onClose) == null || y.call(e));
  };
  return (() => {
    const n = fb(), y = n.firstChild, b = y.firstChild, S = b.firstChild, T = b.nextSibling;
    return n.$$click = f, qe(b, () => e.title, S), is(S, "click", e.onClose, !0), qe(T, () => e.children), qe(y, (() => {
      const M = In(() => !!(e.buttons && e.buttons.length > 0));
      return () => M() && (() => {
        const z = pb();
        return qe(z, () => e.buttons.map((H) => je(r1, yf(H, {
          get children() {
            return H.children;
          }
        })))), z;
      })();
    })(), null), n;
  })();
};
yi(["click"]);
const vb = /* @__PURE__ */ Je('<div tabindex="0"><div class="selector-container"><span class="value"></span><i class="arrow">'), gb = /* @__PURE__ */ Je('<div class="drop-down-container"><ul>'), yb = /* @__PURE__ */ Je("<li>"), ku = (e) => {
  const [f, n] = Ae(!1), [y, b] = Ae(e.value);
  return (() => {
    const S = vb(), T = S.firstChild, M = T.firstChild;
    return S.addEventListener("blur", (z) => {
      n(!1);
    }), S.$$click = (z) => {
      n((H) => !H);
    }, qe(M, y), qe(S, (() => {
      const z = In(() => !!(e.dataSource && e.dataSource.length > 0));
      return () => z() && (() => {
        const H = gb(), ee = H.firstChild;
        return qe(ee, () => e.dataSource.map((oe) => {
          const ue = oe[e.valueKey ?? "text"] ?? oe;
          return (() => {
            const ve = yb();
            return ve.$$click = (le) => {
              var re;
              le.stopPropagation(), y() !== ue && (b(ue), (re = e.onSelected) == null || re.call(e, oe)), n(!1);
            }, qe(ve, () => String(ue)), ve;
          })();
        })), H;
      })();
    })(), null), Bn((z) => {
      const H = e.style, ee = `klinecharts-pro-select ${e.class ?? ""} ${f() ? "klinecharts-pro-select-show" : ""}`;
      return z._v$ = mo(S, H, z._v$), ee !== z._v$2 && qa(S, z._v$2 = ee), z;
    }, {
      _v$: void 0,
      _v$2: void 0
    }), S;
  })();
};
yi(["click"]);
const mb = /* @__PURE__ */ Je('<span class="prefix">'), _b = /* @__PURE__ */ Je('<span class="suffix">'), xb = /* @__PURE__ */ Je('<div><input id="myInput" class="value">'), [bb, i1] = Ae("klinecharts-pro-input klinecharts-pro-timeframe-modal-input"), Xs = (e) => {
  const f = yf({
    min: Number.MIN_SAFE_INTEGER,
    max: Number.MAX_SAFE_INTEGER
  }, e), [n, y] = Ae("normal"), b = (S) => {
    S && S.focus();
  };
  return Ga(() => {
    b(document.querySelector("#myInput"));
  }), (() => {
    const S = xb(), T = S.firstChild;
    return S.$$click = () => {
    }, qe(S, je(An, {
      get when() {
        return f.prefix;
      },
      get children() {
        const M = mb();
        return qe(M, () => f.prefix), M;
      }
    }), T), is(T, "keydown", f.onKeyDown, !0), T.addEventListener("change", (M) => {
      var H, ee;
      const z = M.target.value;
      if ("precision" in f) {
        let oe;
        const _e = Math.max(0, Math.floor(f.precision));
        _e <= 0 ? oe = new RegExp(/^[1-9]\d*$/) : oe = new RegExp("^\\d+\\.?\\d{0," + _e + "}$"), (z === "" || oe.test(z) && +z >= f.min && +z <= f.max) && ((H = f.onChange) == null || H.call(f, z === "" ? z : +z));
      } else
        (ee = f.onChange) == null || ee.call(f, z);
    }), T.addEventListener("blur", () => {
      y("normal");
    }), T.addEventListener("focus", () => {
      y("focus");
    }), f1(b, T), qe(S, je(An, {
      get when() {
        return f.suffix;
      },
      get children() {
        const M = _b();
        return qe(M, () => f.suffix), M;
      }
    }), null), Bn((M) => {
      const z = f.style, H = `${bb()}${f.class ?? ""}`, ee = n(), oe = f.placeholder ?? "", _e = f.focus === !0 ? f.focus : !1;
      return M._v$ = mo(S, z, M._v$), H !== M._v$2 && qa(S, M._v$2 = H), ee !== M._v$3 && gi(S, "data-status", M._v$3 = ee), oe !== M._v$4 && gi(T, "placeholder", M._v$4 = oe), _e !== M._v$5 && (T.autofocus = M._v$5 = _e), M;
    }, {
      _v$: void 0,
      _v$2: void 0,
      _v$3: void 0,
      _v$4: void 0,
      _v$5: void 0
    }), Bn(() => T.value = f.value), S;
  })();
};
yi(["click", "keydown"]);
const Cb = /* @__PURE__ */ Je('<div><i class="thumb">'), Xf = (e) => {
  const [f, n] = Ae(e.open);
  return (() => {
    const y = Cb();
    return y.$$click = (b) => {
      e.onChange && e.onChange();
    }, Bn((b) => {
      const S = e.style, T = `klinecharts-pro-switch ${f() ? "turn-on" : "turn-off"} ${e.class ?? ""}`;
      return b._v$ = mo(y, S, b._v$), T !== b._v$2 && qa(y, b._v$2 = T), b;
    }, {
      _v$: void 0,
      _v$2: void 0
    }), y;
  })();
};
yi(["click"]);
var Tc = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
Tc.exports;
(function(e, f) {
  (function() {
    var n, y = "4.17.21", b = 200, S = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.", T = "Expected a function", M = "Invalid `variable` option passed into `_.template`", z = "__lodash_hash_undefined__", H = 500, ee = "__lodash_placeholder__", oe = 1, _e = 2, ue = 4, ve = 1, le = 2, re = 1, Ce = 2, ke = 4, Ee = 8, De = 16, Qe = 32, et = 64, xt = 128, at = 256, We = 512, $e = 30, gt = "...", Ue = 800, dt = 16, ft = 1, $t = 2, Le = 3, nt = 1 / 0, _n = 9007199254740991, Et = 17976931348623157e292, ct = 0 / 0, Tt = 4294967295, Nn = Tt - 1, Vr = Tt >>> 1, si = [
      ["ary", xt],
      ["bind", re],
      ["bindKey", Ce],
      ["curry", Ee],
      ["curryRight", De],
      ["flip", We],
      ["partial", Qe],
      ["partialRight", et],
      ["rearg", at]
    ], Gr = "[object Arguments]", Wr = "[object Array]", wn = "[object AsyncFunction]", Kn = "[object Boolean]", Gn = "[object Date]", Yr = "[object DOMException]", jr = "[object Error]", Mi = "[object Function]", Di = "[object GeneratorFunction]", qn = "[object Map]", Xr = "[object Number]", ma = "[object Null]", li = "[object Object]", _a = "[object Promise]", Zs = "[object Proxy]", ui = "[object RegExp]", Qn = "[object Set]", Er = "[object String]", Qi = "[object Symbol]", So = "[object Undefined]", Ji = "[object WeakMap]", cs = "[object WeakSet]", ea = "[object ArrayBuffer]", Lr = "[object DataView]", xa = "[object Float32Array]", ba = "[object Float64Array]", Ca = "[object Int8Array]", wo = "[object Int16Array]", Ja = "[object Int32Array]", ci = "[object Uint8Array]", To = "[object Uint8ClampedArray]", eo = "[object Uint16Array]", to = "[object Uint32Array]", hs = /\b__p \+= '';/g, ko = /\b(__p \+=) '' \+/g, ds = /(__e\(.*?\)|\b__t\)) \+\n'';/g, Po = /&(?:amp|lt|gt|quot|#39);/g, fs = /[&<>"']/g, ps = RegExp(Po.source), Io = RegExp(fs.source), Sa = /<%-([\s\S]+?)%>/g, no = /<%([\s\S]+?)%>/g, Eo = /<%=([\s\S]+?)%>/g, Us = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, vs = /^\w*$/, Ks = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Lo = /[\\^$.*+?()[\]{}|]/g, gs = RegExp(Lo.source), mi = /^\s+/, Gs = /\s/, ys = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, fr = /\{\n\/\* \[wrapped with (.+)\] \*/, wr = /,? & /, Tr = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, ta = /[()=,{}\[\]\/\s]/, ms = /\\(\\)?/g, _s = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, rr = /\w*$/, xs = /^[-+]0x[0-9a-f]+$/i, pr = /^0b[01]+$/i, Ao = /^\[object .+?Constructor\]$/, bs = /^0o[0-7]+$/i, na = /^(?:0|[1-9]\d*)$/, Cs = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, qr = /($^)/, Ss = /['\n\r\u2028\u2029\\]/g, Fi = "\\ud800-\\udfff", ro = "\\u0300-\\u036f", ra = "\\ufe20-\\ufe2f", Mo = "\\u20d0-\\u20ff", Do = ro + ra + Mo, wa = "\\u2700-\\u27bf", Dn = "a-z\\xdf-\\xf6\\xf8-\\xff", _i = "\\xac\\xb1\\xd7\\xf7", Ta = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", ia = "\\u2000-\\u206f", Fo = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", ka = "A-Z\\xc0-\\xd6\\xd8-\\xde", xi = "\\ufe0e\\ufe0f", Pa = _i + Ta + ia + Fo, Ia = "[']", $o = "[" + Fi + "]", aa = "[" + Pa + "]", Ea = "[" + Do + "]", ws = "\\d+", Ts = "[" + wa + "]", Ro = "[" + Dn + "]", Oo = "[^" + Fi + Pa + ws + wa + Dn + ka + "]", bi = "\\ud83c[\\udffb-\\udfff]", Qr = "(?:" + Ea + "|" + bi + ")", ks = "[^" + Fi + "]", La = "(?:\\ud83c[\\udde6-\\uddff]){2}", io = "[\\ud800-\\udbff][\\udc00-\\udfff]", oa = "[" + ka + "]", Ps = "\\u200d", $i = "(?:" + Ro + "|" + Oo + ")", Is = "(?:" + oa + "|" + Oo + ")", Bo = "(?:" + Ia + "(?:d|ll|m|re|s|t|ve))?", Es = "(?:" + Ia + "(?:D|LL|M|RE|S|T|VE))?", Ls = Qr + "?", As = "[" + xi + "]?", Aa = "(?:" + Ps + "(?:" + [ks, La, io].join("|") + ")" + As + Ls + ")*", Vt = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", No = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", zo = As + Ls + Aa, hi = "(?:" + [Ts, La, io].join("|") + ")" + zo, sa = "(?:" + [ks + Ea + "?", Ea, La, io, $o].join("|") + ")", js = RegExp(Ia, "g"), Vo = RegExp(Ea, "g"), Qt = RegExp(bi + "(?=" + bi + ")|" + sa + zo, "g"), ao = RegExp([
      oa + "?" + Ro + "+" + Bo + "(?=" + [aa, oa, "$"].join("|") + ")",
      Is + "+" + Es + "(?=" + [aa, oa + $i, "$"].join("|") + ")",
      oa + "?" + $i + "+" + Bo,
      oa + "+" + Es,
      No,
      Vt,
      ws,
      hi
    ].join("|"), "g"), oo = RegExp("[" + Ps + Fi + Do + xi + "]"), qs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Wo = [
      "Array",
      "Buffer",
      "DataView",
      "Date",
      "Error",
      "Float32Array",
      "Float64Array",
      "Function",
      "Int8Array",
      "Int16Array",
      "Int32Array",
      "Map",
      "Math",
      "Object",
      "Promise",
      "RegExp",
      "Set",
      "String",
      "Symbol",
      "TypeError",
      "Uint8Array",
      "Uint8ClampedArray",
      "Uint16Array",
      "Uint32Array",
      "WeakMap",
      "_",
      "clearTimeout",
      "isFinite",
      "parseInt",
      "setTimeout"
    ], la = -1, xn = {};
    xn[xa] = xn[ba] = xn[Ca] = xn[wo] = xn[Ja] = xn[ci] = xn[To] = xn[eo] = xn[to] = !0, xn[Gr] = xn[Wr] = xn[ea] = xn[Kn] = xn[Lr] = xn[Gn] = xn[jr] = xn[Mi] = xn[qn] = xn[Xr] = xn[li] = xn[ui] = xn[Qn] = xn[Er] = xn[Ji] = !1;
    var bn = {};
    bn[Gr] = bn[Wr] = bn[ea] = bn[Lr] = bn[Kn] = bn[Gn] = bn[xa] = bn[ba] = bn[Ca] = bn[wo] = bn[Ja] = bn[qn] = bn[Xr] = bn[li] = bn[ui] = bn[Qn] = bn[Er] = bn[Qi] = bn[ci] = bn[To] = bn[eo] = bn[to] = !0, bn[jr] = bn[Mi] = bn[Ji] = !1;
    var Ms = {
      // Latin-1 Supplement block.
      : "A",
      : "A",
      : "A",
      : "A",
      : "A",
      : "A",
      : "a",
      : "a",
      : "a",
      : "a",
      : "a",
      : "a",
      : "C",
      : "c",
      : "D",
      : "d",
      : "E",
      : "E",
      : "E",
      : "E",
      : "e",
      : "e",
      : "e",
      : "e",
      : "I",
      : "I",
      : "I",
      : "I",
      : "i",
      : "i",
      : "i",
      : "i",
      : "N",
      : "n",
      : "O",
      : "O",
      : "O",
      : "O",
      : "O",
      : "O",
      : "o",
      : "o",
      : "o",
      : "o",
      : "o",
      : "o",
      : "U",
      : "U",
      : "U",
      : "U",
      : "u",
      : "u",
      : "u",
      : "u",
      : "Y",
      : "y",
      : "y",
      : "Ae",
      : "ae",
      : "Th",
      : "th",
      : "ss",
      // Latin Extended-A block.
      : "A",
      : "A",
      : "A",
      : "a",
      : "a",
      : "a",
      : "C",
      : "C",
      : "C",
      : "C",
      : "c",
      : "c",
      : "c",
      : "c",
      : "D",
      : "D",
      : "d",
      : "d",
      : "E",
      : "E",
      : "E",
      : "E",
      : "E",
      : "e",
      : "e",
      : "e",
      : "e",
      : "e",
      : "G",
      : "G",
      : "G",
      : "G",
      : "g",
      : "g",
      : "g",
      : "g",
      : "H",
      : "H",
      : "h",
      : "h",
      : "I",
      : "I",
      : "I",
      : "I",
      : "I",
      : "i",
      : "i",
      : "i",
      : "i",
      : "i",
      : "J",
      : "j",
      : "K",
      : "k",
      : "k",
      : "L",
      : "L",
      : "L",
      : "L",
      : "L",
      : "l",
      : "l",
      : "l",
      : "l",
      : "l",
      : "N",
      : "N",
      : "N",
      : "N",
      : "n",
      : "n",
      : "n",
      : "n",
      : "O",
      : "O",
      : "O",
      : "o",
      : "o",
      : "o",
      : "R",
      : "R",
      : "R",
      : "r",
      : "r",
      : "r",
      : "S",
      : "S",
      : "S",
      : "S",
      : "s",
      : "s",
      : "s",
      : "s",
      : "T",
      : "T",
      : "T",
      : "t",
      : "t",
      : "t",
      : "U",
      : "U",
      : "U",
      : "U",
      : "U",
      : "U",
      : "u",
      : "u",
      : "u",
      : "u",
      : "u",
      : "u",
      : "W",
      : "w",
      : "Y",
      : "y",
      : "Y",
      : "Z",
      : "Z",
      : "Z",
      : "z",
      : "z",
      : "z",
      : "IJ",
      : "ij",
      : "Oe",
      : "oe",
      : "'n",
      : "s"
    }, Yo = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;"
    }, Ma = {
      "&amp;": "&",
      "&lt;": "<",
      "&gt;": ">",
      "&quot;": '"',
      "&#39;": "'"
    }, Da = {
      "\\": "\\",
      "'": "'",
      "\n": "n",
      "\r": "r",
      "\u2028": "u2028",
      "\u2029": "u2029"
    }, Ri = parseFloat, Fa = parseInt, $a = typeof ya == "object" && ya && ya.Object === Object && ya, Xo = typeof self == "object" && self && self.Object === Object && self, jn = $a || Xo || Function("return this")(), Ra = f && !f.nodeType && f, Hr = Ra && !0 && e && !e.nodeType && e, Ds = Hr && Hr.exports === Ra, so = Ds && $a.process, p = function() {
      try {
        var ge = Hr && Hr.require && Hr.require("util").types;
        return ge || so && so.binding && so.binding("util");
      } catch {
      }
    }(), o = p && p.isArrayBuffer, s = p && p.isDate, d = p && p.isMap, h = p && p.isRegExp, m = p && p.isSet, x = p && p.isTypedArray;
    function C(ge, Fe, l) {
      switch (l.length) {
        case 0:
          return ge.call(Fe);
        case 1:
          return ge.call(Fe, l[0]);
        case 2:
          return ge.call(Fe, l[0], l[1]);
        case 3:
          return ge.call(Fe, l[0], l[1], l[2]);
      }
      return ge.apply(Fe, l);
    }
    function L(ge, Fe, l, r) {
      for (var i = -1, u = ge == null ? 0 : ge.length; ++i < u; ) {
        var c = ge[i];
        Fe(r, c, l(c), ge);
      }
      return r;
    }
    function A(ge, Fe) {
      for (var l = -1, r = ge == null ? 0 : ge.length; ++l < r && Fe(ge[l], l, ge) !== !1; )
        ;
      return ge;
    }
    function F(ge, Fe) {
      for (var l = ge == null ? 0 : ge.length; l-- && Fe(ge[l], l, ge) !== !1; )
        ;
      return ge;
    }
    function B(ge, Fe) {
      for (var l = -1, r = ge == null ? 0 : ge.length; ++l < r; )
        if (!Fe(ge[l], l, ge))
          return !1;
      return !0;
    }
    function V(ge, Fe) {
      for (var l = -1, r = ge == null ? 0 : ge.length, i = 0, u = []; ++l < r; ) {
        var c = ge[l];
        Fe(c, l, ge) && (u[i++] = c);
      }
      return u;
    }
    function Z(ge, Fe) {
      var l = ge == null ? 0 : ge.length;
      return !!l && ot(ge, Fe, 0) > -1;
    }
    function J(ge, Fe, l) {
      for (var r = -1, i = ge == null ? 0 : ge.length; ++r < i; )
        if (l(Fe, ge[r]))
          return !0;
      return !1;
    }
    function Q(ge, Fe) {
      for (var l = -1, r = ge == null ? 0 : ge.length, i = Array(r); ++l < r; )
        i[l] = Fe(ge[l], l, ge);
      return i;
    }
    function ne(ge, Fe) {
      for (var l = -1, r = Fe.length, i = ge.length; ++l < r; )
        ge[i + l] = Fe[l];
      return ge;
    }
    function de(ge, Fe, l, r) {
      var i = -1, u = ge == null ? 0 : ge.length;
      for (r && u && (l = ge[++i]); ++i < u; )
        l = Fe(l, ge[i], i, ge);
      return l;
    }
    function be(ge, Fe, l, r) {
      var i = ge == null ? 0 : ge.length;
      for (r && i && (l = ge[--i]); i--; )
        l = Fe(l, ge[i], i, ge);
      return l;
    }
    function me(ge, Fe) {
      for (var l = -1, r = ge == null ? 0 : ge.length; ++l < r; )
        if (Fe(ge[l], l, ge))
          return !0;
      return !1;
    }
    var Me = Pt("length");
    function Re(ge) {
      return ge.split("");
    }
    function He(ge) {
      return ge.match(Tr) || [];
    }
    function Ke(ge, Fe, l) {
      var r;
      return l(ge, function(i, u, c) {
        if (Fe(i, u, c))
          return r = u, !1;
      }), r;
    }
    function rt(ge, Fe, l, r) {
      for (var i = ge.length, u = l + (r ? 1 : -1); r ? u-- : ++u < i; )
        if (Fe(ge[u], u, ge))
          return u;
      return -1;
    }
    function ot(ge, Fe, l) {
      return Fe === Fe ? Na(ge, Fe, l) : rt(ge, lt, l);
    }
    function _t(ge, Fe, l, r) {
      for (var i = l - 1, u = ge.length; ++i < u; )
        if (r(ge[i], Fe))
          return i;
      return -1;
    }
    function lt(ge) {
      return ge !== ge;
    }
    function St(ge, Fe) {
      var l = ge == null ? 0 : ge.length;
      return l ? Jt(ge, Fe) / l : ct;
    }
    function Pt(ge) {
      return function(Fe) {
        return Fe == null ? n : Fe[ge];
      };
    }
    function Lt(ge) {
      return function(Fe) {
        return ge == null ? n : ge[Fe];
      };
    }
    function Yt(ge, Fe, l, r, i) {
      return i(ge, function(u, c, g) {
        l = r ? (r = !1, u) : Fe(l, u, c, g);
      }), l;
    }
    function Cn(ge, Fe) {
      var l = ge.length;
      for (ge.sort(Fe); l--; )
        ge[l] = ge[l].value;
      return ge;
    }
    function Jt(ge, Fe) {
      for (var l, r = -1, i = ge.length; ++r < i; ) {
        var u = Fe(ge[r]);
        u !== n && (l = l === n ? u : l + u);
      }
      return l;
    }
    function Yn(ge, Fe) {
      for (var l = -1, r = Array(ge); ++l < ge; )
        r[l] = Fe(l);
      return r;
    }
    function Xn(ge, Fe) {
      return Q(Fe, function(l) {
        return [l, ge[l]];
      });
    }
    function ur(ge) {
      return ge && ge.slice(0, ua(ge) + 1).replace(mi, "");
    }
    function Xt(ge) {
      return function(Fe) {
        return ge(Fe);
      };
    }
    function ln(ge, Fe) {
      return Q(Fe, function(l) {
        return ge[l];
      });
    }
    function Pn(ge, Fe) {
      return ge.has(Fe);
    }
    function ir(ge, Fe) {
      for (var l = -1, r = ge.length; ++l < r && ot(Fe, ge[l], 0) > -1; )
        ;
      return l;
    }
    function vr(ge, Fe) {
      for (var l = ge.length; l-- && ot(Fe, ge[l], 0) > -1; )
        ;
      return l;
    }
    function Ci(ge, Fe) {
      for (var l = ge.length, r = 0; l--; )
        ge[l] === Fe && ++r;
      return r;
    }
    var Ar = Lt(Ms), Mr = Lt(Yo);
    function di(ge) {
      return "\\" + Da[ge];
    }
    function Dr(ge, Fe) {
      return ge == null ? n : ge[Fe];
    }
    function Jn(ge) {
      return oo.test(ge);
    }
    function Oa(ge) {
      return qs.test(ge);
    }
    function Qs(ge) {
      for (var Fe, l = []; !(Fe = ge.next()).done; )
        l.push(Fe.value);
      return l;
    }
    function Ba(ge) {
      var Fe = -1, l = Array(ge.size);
      return ge.forEach(function(r, i) {
        l[++Fe] = [i, r];
      }), l;
    }
    function Oi(ge, Fe) {
      return function(l) {
        return ge(Fe(l));
      };
    }
    function cr(ge, Fe) {
      for (var l = -1, r = ge.length, i = 0, u = []; ++l < r; ) {
        var c = ge[l];
        (c === Fe || c === ee) && (ge[l] = ee, u[i++] = l);
      }
      return u;
    }
    function Fr(ge) {
      var Fe = -1, l = Array(ge.size);
      return ge.forEach(function(r) {
        l[++Fe] = r;
      }), l;
    }
    function Si(ge) {
      var Fe = -1, l = Array(ge.size);
      return ge.forEach(function(r) {
        l[++Fe] = [r, r];
      }), l;
    }
    function Na(ge, Fe, l) {
      for (var r = l - 1, i = ge.length; ++r < i; )
        if (ge[r] === Fe)
          return r;
      return -1;
    }
    function Ho(ge, Fe, l) {
      for (var r = l + 1; r--; )
        if (ge[r] === Fe)
          return r;
      return r;
    }
    function Jr(ge) {
      return Jn(ge) ? lo(ge) : Me(ge);
    }
    function $r(ge) {
      return Jn(ge) ? za(ge) : Re(ge);
    }
    function ua(ge) {
      for (var Fe = ge.length; Fe-- && Gs.test(ge.charAt(Fe)); )
        ;
      return Fe;
    }
    var Zo = Lt(Ma);
    function lo(ge) {
      for (var Fe = Qt.lastIndex = 0; Qt.test(ge); )
        ++Fe;
      return Fe;
    }
    function za(ge) {
      return ge.match(Qt) || [];
    }
    function uo(ge) {
      return ge.match(ao) || [];
    }
    var Va = function ge(Fe) {
      Fe = Fe == null ? jn : er.defaults(jn.Object(), Fe, er.pick(jn, Wo));
      var l = Fe.Array, r = Fe.Date, i = Fe.Error, u = Fe.Function, c = Fe.Math, g = Fe.Object, _ = Fe.RegExp, w = Fe.String, k = Fe.TypeError, I = l.prototype, D = u.prototype, R = g.prototype, W = Fe["__core-js_shared__"], j = D.toString, Y = R.hasOwnProperty, te = 0, q = function() {
        var t = /[^.]+$/.exec(W && W.keys && W.keys.IE_PROTO || "");
        return t ? "Symbol(src)_1." + t : "";
      }(), ie = R.toString, pe = j.call(g), ye = jn._, Pe = _(
        "^" + j.call(Y).replace(Lo, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
      ), Oe = Ds ? Fe.Buffer : n, Ze = Fe.Symbol, Be = Fe.Uint8Array, ze = Oe ? Oe.allocUnsafe : n, ut = Oi(g.getPrototypeOf, g), ht = g.create, st = R.propertyIsEnumerable, pt = I.splice, It = Ze ? Ze.isConcatSpreadable : n, wt = Ze ? Ze.iterator : n, Bt = Ze ? Ze.toStringTag : n, Wt = function() {
        try {
          var t = sl(g, "defineProperty");
          return t({}, "", {}), t;
        } catch {
        }
      }(), Tn = Fe.clearTimeout !== jn.clearTimeout && Fe.clearTimeout, Fn = r && r.now !== jn.Date.now && r.now, zn = Fe.setTimeout !== jn.setTimeout && Fe.setTimeout, En = c.ceil, Nt = c.floor, un = g.getOwnPropertySymbols, en = Oe ? Oe.isBuffer : n, $n = Fe.isFinite, ar = I.join, gr = Oi(g.keys, g), tn = c.max, nn = c.min, ei = r.now, Rr = Fe.parseInt, cn = c.random, kr = I.reverse, Zr = sl(Fe, "DataView"), wi = sl(Fe, "Map"), Ti = sl(Fe, "Promise"), yr = sl(Fe, "Set"), mr = sl(Fe, "WeakMap"), Or = sl(g, "create"), Bi = mr && new mr(), Ni = {}, Js = ll(Zr), el = ll(wi), Uo = ll(Ti), tl = ll(yr), nl = ll(mr), Wa = Ze ? Ze.prototype : n, ki = Wa ? Wa.valueOf : n, rl = Wa ? Wa.toString : n;
      function X(t) {
        if (sr(t) && !Zt(t) && !(t instanceof jt)) {
          if (t instanceof Rn)
            return t;
          if (Y.call(t, "__wrapped__"))
            return q1(t);
        }
        return new Rn(t);
      }
      var _r = function() {
        function t() {
        }
        return function(a) {
          if (!nr(a))
            return {};
          if (ht)
            return ht(a);
          t.prototype = a;
          var v = new t();
          return t.prototype = n, v;
        };
      }();
      function co() {
      }
      function Rn(t, a) {
        this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!a, this.__index__ = 0, this.__values__ = n;
      }
      X.templateSettings = {
        /**
         * Used to detect `data` property values to be HTML-escaped.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        escape: Sa,
        /**
         * Used to detect code to be evaluated.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        evaluate: no,
        /**
         * Used to detect `data` property values to inject.
         *
         * @memberOf _.templateSettings
         * @type {RegExp}
         */
        interpolate: Eo,
        /**
         * Used to reference the data object in the template text.
         *
         * @memberOf _.templateSettings
         * @type {string}
         */
        variable: "",
        /**
         * Used to import variables into the compiled template.
         *
         * @memberOf _.templateSettings
         * @type {Object}
         */
        imports: {
          /**
           * A reference to the `lodash` function.
           *
           * @memberOf _.templateSettings.imports
           * @type {Function}
           */
          _: X
        }
      }, X.prototype = co.prototype, X.prototype.constructor = X, Rn.prototype = _r(co.prototype), Rn.prototype.constructor = Rn;
      function jt(t) {
        this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Tt, this.__views__ = [];
      }
      function fl() {
        var t = new jt(this.__wrapped__);
        return t.__actions__ = Cr(this.__actions__), t.__dir__ = this.__dir__, t.__filtered__ = this.__filtered__, t.__iteratees__ = Cr(this.__iteratees__), t.__takeCount__ = this.__takeCount__, t.__views__ = Cr(this.__views__), t;
      }
      function ca() {
        if (this.__filtered__) {
          var t = new jt(this);
          t.__dir__ = -1, t.__filtered__ = !0;
        } else
          t = this.clone(), t.__dir__ *= -1;
        return t;
      }
      function Hl() {
        var t = this.__wrapped__.value(), a = this.__dir__, v = Zt(t), E = a < 0, O = v ? t.length : 0, K = mp(0, O, this.__views__), ae = K.start, he = K.end, xe = he - ae, Ve = E ? he : ae - 1, Xe = this.__iteratees__, Ge = Xe.length, mt = 0, kt = nn(xe, this.__takeCount__);
        if (!v || !E && O == xe && kt == xe)
          return Ur(t, this.__actions__);
        var Rt = [];
        e:
          for (; xe-- && mt < kt; ) {
            Ve += a;
            for (var qt = -1, Ot = t[Ve]; ++qt < Ge; ) {
              var sn = Xe[qt], fn = sn.iteratee, Ui = sn.type, vi = fn(Ot);
              if (Ui == $t)
                Ot = vi;
              else if (!vi) {
                if (Ui == ft)
                  continue e;
                break e;
              }
            }
            Rt[mt++] = Ot;
          }
        return Rt;
      }
      jt.prototype = _r(co.prototype), jt.prototype.constructor = jt;
      function Pr(t) {
        var a = -1, v = t == null ? 0 : t.length;
        for (this.clear(); ++a < v; ) {
          var E = t[a];
          this.set(E[0], E[1]);
        }
      }
      function ti() {
        this.__data__ = Or ? Or(null) : {}, this.size = 0;
      }
      function ni(t) {
        var a = this.has(t) && delete this.__data__[t];
        return this.size -= a ? 1 : 0, a;
      }
      function fi(t) {
        var a = this.__data__;
        if (Or) {
          var v = a[t];
          return v === z ? n : v;
        }
        return Y.call(a, t) ? a[t] : n;
      }
      function zi(t) {
        var a = this.__data__;
        return Or ? a[t] !== n : Y.call(a, t);
      }
      function Fs(t, a) {
        var v = this.__data__;
        return this.size += this.has(t) ? 0 : 1, v[t] = Or && a === n ? z : a, this;
      }
      Pr.prototype.clear = ti, Pr.prototype.delete = ni, Pr.prototype.get = fi, Pr.prototype.has = zi, Pr.prototype.set = Fs;
      function Vi(t) {
        var a = -1, v = t == null ? 0 : t.length;
        for (this.clear(); ++a < v; ) {
          var E = t[a];
          this.set(E[0], E[1]);
        }
      }
      function Zl() {
        this.__data__ = [], this.size = 0;
      }
      function Uc(t) {
        var a = this.__data__, v = ri(a, t);
        if (v < 0)
          return !1;
        var E = a.length - 1;
        return v == E ? a.pop() : pt.call(a, v, 1), --this.size, !0;
      }
      function Kc(t) {
        var a = this.__data__, v = ri(a, t);
        return v < 0 ? n : a[v][1];
      }
      function Gc(t) {
        return ri(this.__data__, t) > -1;
      }
      function jc(t, a) {
        var v = this.__data__, E = ri(v, t);
        return E < 0 ? (++this.size, v.push([t, a])) : v[E][1] = a, this;
      }
      Vi.prototype.clear = Zl, Vi.prototype.delete = Uc, Vi.prototype.get = Kc, Vi.prototype.has = Gc, Vi.prototype.set = jc;
      function Wi(t) {
        var a = -1, v = t == null ? 0 : t.length;
        for (this.clear(); ++a < v; ) {
          var E = t[a];
          this.set(E[0], E[1]);
        }
      }
      function qc() {
        this.size = 0, this.__data__ = {
          hash: new Pr(),
          map: new (wi || Vi)(),
          string: new Pr()
        };
      }
      function Ul(t) {
        var a = Qu(this, t).delete(t);
        return this.size -= a ? 1 : 0, a;
      }
      function Kl(t) {
        return Qu(this, t).get(t);
      }
      function Gl(t) {
        return Qu(this, t).has(t);
      }
      function Eu(t, a) {
        var v = Qu(this, t), E = v.size;
        return v.set(t, a), this.size += v.size == E ? 0 : 1, this;
      }
      Wi.prototype.clear = qc, Wi.prototype.delete = Ul, Wi.prototype.get = Kl, Wi.prototype.has = Gl, Wi.prototype.set = Eu;
      function ho(t) {
        var a = -1, v = t == null ? 0 : t.length;
        for (this.__data__ = new Wi(); ++a < v; )
          this.add(t[a]);
      }
      function Qc(t) {
        return this.__data__.set(t, z), this;
      }
      function Jc(t) {
        return this.__data__.has(t);
      }
      ho.prototype.add = ho.prototype.push = Qc, ho.prototype.has = Jc;
      function Yi(t) {
        var a = this.__data__ = new Vi(t);
        this.size = a.size;
      }
      function Xi() {
        this.__data__ = new Vi(), this.size = 0;
      }
      function $s(t) {
        var a = this.__data__, v = a.delete(t);
        return this.size = a.size, v;
      }
      function e0(t) {
        return this.__data__.get(t);
      }
      function jl(t) {
        return this.__data__.has(t);
      }
      function t0(t, a) {
        var v = this.__data__;
        if (v instanceof Vi) {
          var E = v.__data__;
          if (!wi || E.length < b - 1)
            return E.push([t, a]), this.size = ++v.size, this;
          v = this.__data__ = new Wi(E);
        }
        return v.set(t, a), this.size = v.size, this;
      }
      Yi.prototype.clear = Xi, Yi.prototype.delete = $s, Yi.prototype.get = e0, Yi.prototype.has = jl, Yi.prototype.set = t0;
      function Rs(t, a) {
        var v = Zt(t), E = !v && ul(t), O = !v && !E && Ns(t), K = !v && !E && !O && wl(t), ae = v || E || O || K, he = ae ? Yn(t.length, w) : [], xe = he.length;
        for (var Ve in t)
          (a || Y.call(t, Ve)) && !(ae && // Safari 9 has enumerable `arguments.length` in strict mode.
          (Ve == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
          O && (Ve == "offset" || Ve == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
          K && (Ve == "buffer" || Ve == "byteLength" || Ve == "byteOffset") || // Skip index properties.
          es(Ve, xe))) && he.push(Ve);
        return he;
      }
      function Lu(t) {
        var a = t.length;
        return a ? t[P(0, a - 1)] : n;
      }
      function n0(t, a) {
        return Ju(Cr(t), Go(a, 0, t.length));
      }
      function r0(t) {
        return Ju(Cr(t));
      }
      function ql(t, a, v) {
        (v !== n && !Ua(t[a], v) || v === n && !(a in t)) && Xa(t, a, v);
      }
      function Ko(t, a, v) {
        var E = t[a];
        (!(Y.call(t, a) && Ua(E, v)) || v === n && !(a in t)) && Xa(t, a, v);
      }
      function ri(t, a) {
        for (var v = t.length; v--; )
          if (Ua(t[v][0], a))
            return v;
        return -1;
      }
      function fo(t, a, v, E) {
        return ha(t, function(O, K, ae) {
          a(E, O, v(O), ae);
        }), E;
      }
      function Ya(t, a) {
        return t && Nr(a, zr(a), t);
      }
      function i0(t, a) {
        return t && Nr(a, Ei(a), t);
      }
      function Xa(t, a, v) {
        a == "__proto__" && Wt ? Wt(t, a, {
          configurable: !0,
          enumerable: !0,
          value: v,
          writable: !0
        }) : t[a] = v;
      }
      function Ql(t, a) {
        for (var v = -1, E = a.length, O = l(E), K = t == null; ++v < E; )
          O[v] = K ? n : M0(t, a[v]);
        return O;
      }
      function Go(t, a, v) {
        return t === t && (v !== n && (t = t <= v ? t : v), a !== n && (t = t >= a ? t : a)), t;
      }
      function Pi(t, a, v, E, O, K) {
        var ae, he = a & oe, xe = a & _e, Ve = a & ue;
        if (v && (ae = O ? v(t, E, O, K) : v(t)), ae !== n)
          return ae;
        if (!nr(t))
          return t;
        var Xe = Zt(t);
        if (Xe) {
          if (ae = xp(t), !he)
            return Cr(t, ae);
        } else {
          var Ge = ii(t), mt = Ge == Mi || Ge == Di;
          if (Ns(t))
            return yn(t, he);
          if (Ge == li || Ge == Gr || mt && !O) {
            if (ae = xe || mt ? {} : W1(t), !he)
              return xe ? uu(t, i0(ae, t)) : lu(t, Ya(ae, t));
          } else {
            if (!bn[Ge])
              return O ? t : {};
            ae = bp(t, Ge, he);
          }
        }
        K || (K = new Yi());
        var kt = K.get(t);
        if (kt)
          return kt;
        K.set(t, ae), yh(t) ? t.forEach(function(Ot) {
          ae.add(Pi(Ot, a, v, Ot, t, K));
        }) : vh(t) && t.forEach(function(Ot, sn) {
          ae.set(sn, Pi(Ot, a, v, sn, t, K));
        });
        var Rt = Ve ? xe ? m0 : y0 : xe ? Ei : zr, qt = Xe ? n : Rt(t);
        return A(qt || t, function(Ot, sn) {
          qt && (sn = Ot, Ot = t[sn]), Ko(ae, sn, Pi(Ot, a, v, sn, t, K));
        }), ae;
      }
      function a0(t) {
        var a = zr(t);
        return function(v) {
          return Au(v, t, a);
        };
      }
      function Au(t, a, v) {
        var E = v.length;
        if (t == null)
          return !E;
        for (t = g(t); E--; ) {
          var O = v[E], K = a[O], ae = t[O];
          if (ae === n && !(O in t) || !K(ae))
            return !1;
        }
        return !0;
      }
      function Mu(t, a, v) {
        if (typeof t != "function")
          throw new k(T);
        return du(function() {
          t.apply(n, v);
        }, a);
      }
      function il(t, a, v, E) {
        var O = -1, K = Z, ae = !0, he = t.length, xe = [], Ve = a.length;
        if (!he)
          return xe;
        v && (a = Q(a, Xt(v))), E ? (K = J, ae = !1) : a.length >= b && (K = Pn, ae = !1, a = new ho(a));
        e:
          for (; ++O < he; ) {
            var Xe = t[O], Ge = v == null ? Xe : v(Xe);
            if (Xe = E || Xe !== 0 ? Xe : 0, ae && Ge === Ge) {
              for (var mt = Ve; mt--; )
                if (a[mt] === Ge)
                  continue e;
              xe.push(Xe);
            } else
              K(a, Ge, E) || xe.push(Xe);
          }
        return xe;
      }
      var ha = I1(da), Du = I1(eu, !0);
      function o0(t, a) {
        var v = !0;
        return ha(t, function(E, O, K) {
          return v = !!a(E, O, K), v;
        }), v;
      }
      function pl(t, a, v) {
        for (var E = -1, O = t.length; ++E < O; ) {
          var K = t[E], ae = a(K);
          if (ae != null && (he === n ? ae === ae && !Zi(ae) : v(ae, he)))
            var he = ae, xe = K;
        }
        return xe;
      }
      function s0(t, a, v, E) {
        var O = t.length;
        for (v = Gt(v), v < 0 && (v = -v > O ? 0 : O + v), E = E === n || E > O ? O : Gt(E), E < 0 && (E += O), E = v > E ? 0 : _h(E); v < E; )
          t[v++] = a;
        return t;
      }
      function Fu(t, a) {
        var v = [];
        return ha(t, function(E, O, K) {
          a(E, O, K) && v.push(E);
        }), v;
      }
      function xr(t, a, v, E, O) {
        var K = -1, ae = t.length;
        for (v || (v = Sp), O || (O = []); ++K < ae; ) {
          var he = t[K];
          a > 0 && v(he) ? a > 1 ? xr(he, a - 1, v, E, O) : ne(O, he) : E || (O[O.length] = he);
        }
        return O;
      }
      var Jl = E1(), $u = E1(!0);
      function da(t, a) {
        return t && Jl(t, a, zr);
      }
      function eu(t, a) {
        return t && $u(t, a, zr);
      }
      function vl(t, a) {
        return V(a, function(v) {
          return ts(t[v]);
        });
      }
      function jo(t, a) {
        a = zt(a, t);
        for (var v = 0, E = a.length; t != null && v < E; )
          t = t[go(a[v++])];
        return v && v == E ? t : n;
      }
      function gl(t, a, v) {
        var E = a(t);
        return Zt(t) ? E : ne(E, v(t));
      }
      function Br(t) {
        return t == null ? t === n ? So : ma : Bt && Bt in g(t) ? yp(t) : Lp(t);
      }
      function tu(t, a) {
        return t > a;
      }
      function l0(t, a) {
        return t != null && Y.call(t, a);
      }
      function u0(t, a) {
        return t != null && a in g(t);
      }
      function Ru(t, a, v) {
        return t >= nn(a, v) && t < tn(a, v);
      }
      function yl(t, a, v) {
        for (var E = v ? J : Z, O = t[0].length, K = t.length, ae = K, he = l(K), xe = 1 / 0, Ve = []; ae--; ) {
          var Xe = t[ae];
          ae && a && (Xe = Q(Xe, Xt(a))), xe = nn(Xe.length, xe), he[ae] = !v && (a || O >= 120 && Xe.length >= 120) ? new ho(ae && Xe) : n;
        }
        Xe = t[0];
        var Ge = -1, mt = he[0];
        e:
          for (; ++Ge < O && Ve.length < xe; ) {
            var kt = Xe[Ge], Rt = a ? a(kt) : kt;
            if (kt = v || kt !== 0 ? kt : 0, !(mt ? Pn(mt, Rt) : E(Ve, Rt, v))) {
              for (ae = K; --ae; ) {
                var qt = he[ae];
                if (!(qt ? Pn(qt, Rt) : E(t[ae], Rt, v)))
                  continue e;
              }
              mt && mt.push(Rt), Ve.push(kt);
            }
          }
        return Ve;
      }
      function Ou(t, a, v, E) {
        return da(t, function(O, K, ae) {
          a(E, v(O), K, ae);
        }), E;
      }
      function Os(t, a, v) {
        a = zt(a, t), t = Z1(t, a);
        var E = t == null ? t : t[go(pa(a))];
        return E == null ? n : C(E, t, v);
      }
      function Bu(t) {
        return sr(t) && Br(t) == Gr;
      }
      function Nu(t) {
        return sr(t) && Br(t) == ea;
      }
      function Ha(t) {
        return sr(t) && Br(t) == Gn;
      }
      function Vn(t, a, v, E, O) {
        return t === a ? !0 : t == null || a == null || !sr(t) && !sr(a) ? t !== t && a !== a : c0(t, a, v, E, Vn, O);
      }
      function c0(t, a, v, E, O, K) {
        var ae = Zt(t), he = Zt(a), xe = ae ? Wr : ii(t), Ve = he ? Wr : ii(a);
        xe = xe == Gr ? li : xe, Ve = Ve == Gr ? li : Ve;
        var Xe = xe == li, Ge = Ve == li, mt = xe == Ve;
        if (mt && Ns(t)) {
          if (!Ns(a))
            return !1;
          ae = !0, Xe = !1;
        }
        if (mt && !Xe)
          return K || (K = new Yi()), ae || wl(t) ? N1(t, a, v, E, O, K) : vp(t, a, xe, v, E, O, K);
        if (!(v & ve)) {
          var kt = Xe && Y.call(t, "__wrapped__"), Rt = Ge && Y.call(a, "__wrapped__");
          if (kt || Rt) {
            var qt = kt ? t.value() : t, Ot = Rt ? a.value() : a;
            return K || (K = new Yi()), O(qt, Ot, v, E, K);
          }
        }
        return mt ? (K || (K = new Yi()), gp(t, a, v, E, O, K)) : !1;
      }
      function h0(t) {
        return sr(t) && ii(t) == qn;
      }
      function ml(t, a, v, E) {
        var O = v.length, K = O, ae = !E;
        if (t == null)
          return !K;
        for (t = g(t); O--; ) {
          var he = v[O];
          if (ae && he[2] ? he[1] !== t[he[0]] : !(he[0] in t))
            return !1;
        }
        for (; ++O < K; ) {
          he = v[O];
          var xe = he[0], Ve = t[xe], Xe = he[1];
          if (ae && he[2]) {
            if (Ve === n && !(xe in t))
              return !1;
          } else {
            var Ge = new Yi();
            if (E)
              var mt = E(Ve, Xe, xe, t, a, Ge);
            if (!(mt === n ? Vn(Xe, Ve, ve | le, E, Ge) : mt))
              return !1;
          }
        }
        return !0;
      }
      function nu(t) {
        if (!nr(t) || Tp(t))
          return !1;
        var a = ts(t) ? Pe : Ao;
        return a.test(ll(t));
      }
      function _l(t) {
        return sr(t) && Br(t) == ui;
      }
      function zu(t) {
        return sr(t) && ii(t) == Qn;
      }
      function d0(t) {
        return sr(t) && ac(t.length) && !!xn[Br(t)];
      }
      function ru(t) {
        return typeof t == "function" ? t : t == null ? Li : typeof t == "object" ? Zt(t) ? ou(t[0], t[1]) : Yu(t) : Lh(t);
      }
      function iu(t) {
        if (!hu(t))
          return gr(t);
        var a = [];
        for (var v in g(t))
          Y.call(t, v) && v != "constructor" && a.push(v);
        return a;
      }
      function Vu(t) {
        if (!nr(t))
          return Ep(t);
        var a = hu(t), v = [];
        for (var E in t)
          E == "constructor" && (a || !Y.call(t, E)) || v.push(E);
        return v;
      }
      function au(t, a) {
        return t < a;
      }
      function Wu(t, a) {
        var v = -1, E = Ii(t) ? l(t.length) : [];
        return ha(t, function(O, K, ae) {
          E[++v] = a(O, K, ae);
        }), E;
      }
      function Yu(t) {
        var a = x0(t);
        return a.length == 1 && a[0][2] ? X1(a[0][0], a[0][1]) : function(v) {
          return v === t || ml(v, t, a);
        };
      }
      function ou(t, a) {
        return C0(t) && Y1(a) ? X1(go(t), a) : function(v) {
          var E = M0(v, t);
          return E === n && E === a ? D0(v, t) : Vn(a, E, ve | le);
        };
      }
      function al(t, a, v, E, O) {
        t !== a && Jl(a, function(K, ae) {
          if (O || (O = new Yi()), nr(K))
            f0(t, a, ae, v, al, E, O);
          else {
            var he = E ? E(w0(t, ae), K, ae + "", t, a, O) : n;
            he === n && (he = K), ql(t, ae, he);
          }
        }, Ei);
      }
      function f0(t, a, v, E, O, K, ae) {
        var he = w0(t, v), xe = w0(a, v), Ve = ae.get(xe);
        if (Ve) {
          ql(t, v, Ve);
          return;
        }
        var Xe = K ? K(he, xe, v + "", t, a, ae) : n, Ge = Xe === n;
        if (Ge) {
          var mt = Zt(xe), kt = !mt && Ns(xe), Rt = !mt && !kt && wl(xe);
          Xe = xe, mt || kt || Rt ? Zt(he) ? Xe = he : hr(he) ? Xe = Cr(he) : kt ? (Ge = !1, Xe = yn(xe, !0)) : Rt ? (Ge = !1, Xe = Za(xe, !0)) : Xe = [] : fu(xe) || ul(xe) ? (Xe = he, ul(he) ? Xe = xh(he) : (!nr(he) || ts(he)) && (Xe = W1(xe))) : Ge = !1;
        }
        Ge && (ae.set(xe, Xe), O(Xe, xe, E, K, ae), ae.delete(xe)), ql(t, v, Xe);
      }
      function ol(t, a) {
        var v = t.length;
        if (v)
          return a += a < 0 ? v : 0, es(a, v) ? t[a] : n;
      }
      function xl(t, a, v) {
        a.length ? a = Q(a, function(K) {
          return Zt(K) ? function(ae) {
            return jo(ae, K.length === 1 ? K[0] : K);
          } : K;
        }) : a = [Li];
        var E = -1;
        a = Q(a, Xt(Ft()));
        var O = Wu(t, function(K, ae, he) {
          var xe = Q(a, function(Ve) {
            return Ve(K);
          });
          return { criteria: xe, index: ++E, value: K };
        });
        return Cn(O, function(K, ae) {
          return Bs(K, ae, v);
        });
      }
      function Xu(t, a) {
        return su(t, a, function(v, E) {
          return D0(t, E);
        });
      }
      function su(t, a, v) {
        for (var E = -1, O = a.length, K = {}; ++E < O; ) {
          var ae = a[E], he = jo(t, ae);
          v(he, ae) && se(K, zt(ae, t), he);
        }
        return K;
      }
      function p0(t) {
        return function(a) {
          return jo(a, t);
        };
      }
      function or(t, a, v, E) {
        var O = E ? _t : ot, K = -1, ae = a.length, he = t;
        for (t === a && (a = Cr(a)), v && (he = Q(t, Xt(v))); ++K < ae; )
          for (var xe = 0, Ve = a[K], Xe = v ? v(Ve) : Ve; (xe = O(he, Xe, xe, E)) > -1; )
            he !== t && pt.call(he, xe, 1), pt.call(t, xe, 1);
        return t;
      }
      function Hu(t, a) {
        for (var v = t ? a.length : 0, E = v - 1; v--; ) {
          var O = a[v];
          if (v == E || O !== K) {
            var K = O;
            es(O) ? pt.call(t, O, 1) : hn(t, O);
          }
        }
        return t;
      }
      function P(t, a) {
        return t + Nt(cn() * (a - t + 1));
      }
      function $(t, a, v, E) {
        for (var O = -1, K = tn(En((a - t) / (v || 1)), 0), ae = l(K); K--; )
          ae[E ? K : ++O] = t, t += v;
        return ae;
      }
      function N(t, a) {
        var v = "";
        if (!t || a < 1 || a > _n)
          return v;
        do
          a % 2 && (v += t), a = Nt(a / 2), a && (t += t);
        while (a);
        return v;
      }
      function G(t, a) {
        return T0(H1(t, a, Li), t + "");
      }
      function ce(t) {
        return Lu(Tl(t));
      }
      function fe(t, a) {
        var v = Tl(t);
        return Ju(v, Go(a, 0, v.length));
      }
      function se(t, a, v, E) {
        if (!nr(t))
          return t;
        a = zt(a, t);
        for (var O = -1, K = a.length, ae = K - 1, he = t; he != null && ++O < K; ) {
          var xe = go(a[O]), Ve = v;
          if (xe === "__proto__" || xe === "constructor" || xe === "prototype")
            return t;
          if (O != ae) {
            var Xe = he[xe];
            Ve = E ? E(Xe, xe, he) : n, Ve === n && (Ve = nr(Xe) ? Xe : es(a[O + 1]) ? [] : {});
          }
          Ko(he, xe, Ve), he = he[xe];
        }
        return t;
      }
      var Se = Bi ? function(t, a) {
        return Bi.set(t, a), t;
      } : Li, we = Wt ? function(t, a) {
        return Wt(t, "toString", {
          configurable: !0,
          enumerable: !1,
          value: $0(a),
          writable: !0
        });
      } : Li;
      function Ne(t) {
        return Ju(Tl(t));
      }
      function Ye(t, a, v) {
        var E = -1, O = t.length;
        a < 0 && (a = -a > O ? 0 : O + a), v = v > O ? O : v, v < 0 && (v += O), O = a > v ? 0 : v - a >>> 0, a >>>= 0;
        for (var K = l(O); ++E < O; )
          K[E] = t[E + a];
        return K;
      }
      function yt(t, a) {
        var v;
        return ha(t, function(E, O, K) {
          return v = a(E, O, K), !v;
        }), !!v;
      }
      function tt(t, a, v) {
        var E = 0, O = t == null ? E : t.length;
        if (typeof a == "number" && a === a && O <= Vr) {
          for (; E < O; ) {
            var K = E + O >>> 1, ae = t[K];
            ae !== null && !Zi(ae) && (v ? ae <= a : ae < a) ? E = K + 1 : O = K;
          }
          return O;
        }
        return bt(t, a, Li, v);
      }
      function bt(t, a, v, E) {
        var O = 0, K = t == null ? 0 : t.length;
        if (K === 0)
          return 0;
        a = v(a);
        for (var ae = a !== a, he = a === null, xe = Zi(a), Ve = a === n; O < K; ) {
          var Xe = Nt((O + K) / 2), Ge = v(t[Xe]), mt = Ge !== n, kt = Ge === null, Rt = Ge === Ge, qt = Zi(Ge);
          if (ae)
            var Ot = E || Rt;
          else
            Ve ? Ot = Rt && (E || mt) : he ? Ot = Rt && mt && (E || !kt) : xe ? Ot = Rt && mt && !kt && (E || !qt) : kt || qt ? Ot = !1 : Ot = E ? Ge <= a : Ge < a;
          Ot ? O = Xe + 1 : K = Xe;
        }
        return nn(K, Nn);
      }
      function Ct(t, a) {
        for (var v = -1, E = t.length, O = 0, K = []; ++v < E; ) {
          var ae = t[v], he = a ? a(ae) : ae;
          if (!v || !Ua(he, xe)) {
            var xe = he;
            K[O++] = ae === 0 ? 0 : ae;
          }
        }
        return K;
      }
      function Ut(t) {
        return typeof t == "number" ? t : Zi(t) ? ct : +t;
      }
      function Dt(t) {
        if (typeof t == "string")
          return t;
        if (Zt(t))
          return Q(t, Dt) + "";
        if (Zi(t))
          return rl ? rl.call(t) : "";
        var a = t + "";
        return a == "0" && 1 / t == -nt ? "-0" : a;
      }
      function Ht(t, a, v) {
        var E = -1, O = Z, K = t.length, ae = !0, he = [], xe = he;
        if (v)
          ae = !1, O = J;
        else if (K >= b) {
          var Ve = a ? null : fp(t);
          if (Ve)
            return Fr(Ve);
          ae = !1, O = Pn, xe = new ho();
        } else
          xe = a ? [] : he;
        e:
          for (; ++E < K; ) {
            var Xe = t[E], Ge = a ? a(Xe) : Xe;
            if (Xe = v || Xe !== 0 ? Xe : 0, ae && Ge === Ge) {
              for (var mt = xe.length; mt--; )
                if (xe[mt] === Ge)
                  continue e;
              a && xe.push(Ge), he.push(Xe);
            } else
              O(xe, Ge, v) || (xe !== he && xe.push(Ge), he.push(Xe));
          }
        return he;
      }
      function hn(t, a) {
        return a = zt(a, t), t = Z1(t, a), t == null || delete t[go(pa(a))];
      }
      function br(t, a, v, E) {
        return se(t, a, v(jo(t, a)), E);
      }
      function tr(t, a, v, E) {
        for (var O = t.length, K = E ? O : -1; (E ? K-- : ++K < O) && a(t[K], K, t); )
          ;
        return v ? Ye(t, E ? 0 : K, E ? K + 1 : O) : Ye(t, E ? K + 1 : 0, E ? O : K);
      }
      function Ur(t, a) {
        var v = t;
        return v instanceof jt && (v = v.value()), de(a, function(E, O) {
          return O.func.apply(O.thisArg, ne([E], O.args));
        }, v);
      }
      function rn(t, a, v) {
        var E = t.length;
        if (E < 2)
          return E ? Ht(t[0]) : [];
        for (var O = -1, K = l(E); ++O < E; )
          for (var ae = t[O], he = -1; ++he < E; )
            he != O && (K[O] = il(K[O] || ae, t[he], a, v));
        return Ht(xr(K, 1), a, v);
      }
      function it(t, a, v) {
        for (var E = -1, O = t.length, K = a.length, ae = {}; ++E < O; ) {
          var he = E < K ? a[E] : n;
          v(ae, t[E], he);
        }
        return ae;
      }
      function Mt(t) {
        return hr(t) ? t : [];
      }
      function Kt(t) {
        return typeof t == "function" ? t : Li;
      }
      function zt(t, a) {
        return Zt(t) ? t : C0(t, a) ? [t] : j1(kn(t));
      }
      var Ir = G;
      function dn(t, a, v) {
        var E = t.length;
        return v = v === n ? E : v, !a && v >= E ? t : Ye(t, a, v);
      }
      var on = Tn || function(t) {
        return jn.clearTimeout(t);
      };
      function yn(t, a) {
        if (a)
          return t.slice();
        var v = t.length, E = ze ? ze(v) : new t.constructor(v);
        return t.copy(E), E;
      }
      function vn(t) {
        var a = new t.constructor(t.byteLength);
        return new Be(a).set(new Be(t)), a;
      }
      function Sn(t, a) {
        var v = a ? vn(t.buffer) : t.buffer;
        return new t.constructor(v, t.byteOffset, t.byteLength);
      }
      function Hi(t) {
        var a = new t.constructor(t.source, rr.exec(t));
        return a.lastIndex = t.lastIndex, a;
      }
      function po(t) {
        return ki ? g(ki.call(t)) : {};
      }
      function Za(t, a) {
        var v = a ? vn(t.buffer) : t.buffer;
        return new t.constructor(v, t.byteOffset, t.length);
      }
      function qo(t, a) {
        if (t !== a) {
          var v = t !== n, E = t === null, O = t === t, K = Zi(t), ae = a !== n, he = a === null, xe = a === a, Ve = Zi(a);
          if (!he && !Ve && !K && t > a || K && ae && xe && !he && !Ve || E && ae && xe || !v && xe || !O)
            return 1;
          if (!E && !K && !Ve && t < a || Ve && v && O && !E && !K || he && v && O || !ae && O || !xe)
            return -1;
        }
        return 0;
      }
      function Bs(t, a, v) {
        for (var E = -1, O = t.criteria, K = a.criteria, ae = O.length, he = v.length; ++E < ae; ) {
          var xe = qo(O[E], K[E]);
          if (xe) {
            if (E >= he)
              return xe;
            var Ve = v[E];
            return xe * (Ve == "desc" ? -1 : 1);
          }
        }
        return t.index - a.index;
      }
      function fa(t, a, v, E) {
        for (var O = -1, K = t.length, ae = v.length, he = -1, xe = a.length, Ve = tn(K - ae, 0), Xe = l(xe + Ve), Ge = !E; ++he < xe; )
          Xe[he] = a[he];
        for (; ++O < ae; )
          (Ge || O < K) && (Xe[v[O]] = t[O]);
        for (; Ve--; )
          Xe[he++] = t[O++];
        return Xe;
      }
      function vo(t, a, v, E) {
        for (var O = -1, K = t.length, ae = -1, he = v.length, xe = -1, Ve = a.length, Xe = tn(K - he, 0), Ge = l(Xe + Ve), mt = !E; ++O < Xe; )
          Ge[O] = t[O];
        for (var kt = O; ++xe < Ve; )
          Ge[kt + xe] = a[xe];
        for (; ++ae < he; )
          (mt || O < K) && (Ge[kt + v[ae]] = t[O++]);
        return Ge;
      }
      function Cr(t, a) {
        var v = -1, E = t.length;
        for (a || (a = l(E)); ++v < E; )
          a[v] = t[v];
        return a;
      }
      function Nr(t, a, v, E) {
        var O = !v;
        v || (v = {});
        for (var K = -1, ae = a.length; ++K < ae; ) {
          var he = a[K], xe = E ? E(v[he], t[he], he, v, t) : n;
          xe === n && (xe = t[he]), O ? Xa(v, he, xe) : Ko(v, he, xe);
        }
        return v;
      }
      function lu(t, a) {
        return Nr(t, b0(t), a);
      }
      function uu(t, a) {
        return Nr(t, z1(t), a);
      }
      function Zu(t, a) {
        return function(v, E) {
          var O = Zt(v) ? L : fo, K = a ? a() : {};
          return O(v, t, Ft(E, 2), K);
        };
      }
      function bl(t) {
        return G(function(a, v) {
          var E = -1, O = v.length, K = O > 1 ? v[O - 1] : n, ae = O > 2 ? v[2] : n;
          for (K = t.length > 3 && typeof K == "function" ? (O--, K) : n, ae && pi(v[0], v[1], ae) && (K = O < 3 ? n : K, O = 1), a = g(a); ++E < O; ) {
            var he = v[E];
            he && t(a, he, E, K);
          }
          return a;
        });
      }
      function I1(t, a) {
        return function(v, E) {
          if (v == null)
            return v;
          if (!Ii(v))
            return t(v, E);
          for (var O = v.length, K = a ? O : -1, ae = g(v); (a ? K-- : ++K < O) && E(ae[K], K, ae) !== !1; )
            ;
          return v;
        };
      }
      function E1(t) {
        return function(a, v, E) {
          for (var O = -1, K = g(a), ae = E(a), he = ae.length; he--; ) {
            var xe = ae[t ? he : ++O];
            if (v(K[xe], xe, K) === !1)
              break;
          }
          return a;
        };
      }
      function cp(t, a, v) {
        var E = a & re, O = cu(t);
        function K() {
          var ae = this && this !== jn && this instanceof K ? O : t;
          return ae.apply(E ? v : this, arguments);
        }
        return K;
      }
      function L1(t) {
        return function(a) {
          a = kn(a);
          var v = Jn(a) ? $r(a) : n, E = v ? v[0] : a.charAt(0), O = v ? dn(v, 1).join("") : a.slice(1);
          return E[t]() + O;
        };
      }
      function Cl(t) {
        return function(a) {
          return de(Ih(Ph(a).replace(js, "")), t, "");
        };
      }
      function cu(t) {
        return function() {
          var a = arguments;
          switch (a.length) {
            case 0:
              return new t();
            case 1:
              return new t(a[0]);
            case 2:
              return new t(a[0], a[1]);
            case 3:
              return new t(a[0], a[1], a[2]);
            case 4:
              return new t(a[0], a[1], a[2], a[3]);
            case 5:
              return new t(a[0], a[1], a[2], a[3], a[4]);
            case 6:
              return new t(a[0], a[1], a[2], a[3], a[4], a[5]);
            case 7:
              return new t(a[0], a[1], a[2], a[3], a[4], a[5], a[6]);
          }
          var v = _r(t.prototype), E = t.apply(v, a);
          return nr(E) ? E : v;
        };
      }
      function hp(t, a, v) {
        var E = cu(t);
        function O() {
          for (var K = arguments.length, ae = l(K), he = K, xe = Sl(O); he--; )
            ae[he] = arguments[he];
          var Ve = K < 3 && ae[0] !== xe && ae[K - 1] !== xe ? [] : cr(ae, xe);
          if (K -= Ve.length, K < v)
            return $1(
              t,
              a,
              Uu,
              O.placeholder,
              n,
              ae,
              Ve,
              n,
              n,
              v - K
            );
          var Xe = this && this !== jn && this instanceof O ? E : t;
          return C(Xe, this, ae);
        }
        return O;
      }
      function A1(t) {
        return function(a, v, E) {
          var O = g(a);
          if (!Ii(a)) {
            var K = Ft(v, 3);
            a = zr(a), v = function(he) {
              return K(O[he], he, O);
            };
          }
          var ae = t(a, v, E);
          return ae > -1 ? O[K ? a[ae] : ae] : n;
        };
      }
      function M1(t) {
        return Jo(function(a) {
          var v = a.length, E = v, O = Rn.prototype.thru;
          for (t && a.reverse(); E--; ) {
            var K = a[E];
            if (typeof K != "function")
              throw new k(T);
            if (O && !ae && qu(K) == "wrapper")
              var ae = new Rn([], !0);
          }
          for (E = ae ? E : v; ++E < v; ) {
            K = a[E];
            var he = qu(K), xe = he == "wrapper" ? _0(K) : n;
            xe && S0(xe[0]) && xe[1] == (xt | Ee | Qe | at) && !xe[4].length && xe[9] == 1 ? ae = ae[qu(xe[0])].apply(ae, xe[3]) : ae = K.length == 1 && S0(K) ? ae[he]() : ae.thru(K);
          }
          return function() {
            var Ve = arguments, Xe = Ve[0];
            if (ae && Ve.length == 1 && Zt(Xe))
              return ae.plant(Xe).value();
            for (var Ge = 0, mt = v ? a[Ge].apply(this, Ve) : Xe; ++Ge < v; )
              mt = a[Ge].call(this, mt);
            return mt;
          };
        });
      }
      function Uu(t, a, v, E, O, K, ae, he, xe, Ve) {
        var Xe = a & xt, Ge = a & re, mt = a & Ce, kt = a & (Ee | De), Rt = a & We, qt = mt ? n : cu(t);
        function Ot() {
          for (var sn = arguments.length, fn = l(sn), Ui = sn; Ui--; )
            fn[Ui] = arguments[Ui];
          if (kt)
            var vi = Sl(Ot), Ki = Ci(fn, vi);
          if (E && (fn = fa(fn, E, O, kt)), K && (fn = vo(fn, K, ae, kt)), sn -= Ki, kt && sn < Ve) {
            var dr = cr(fn, vi);
            return $1(
              t,
              a,
              Uu,
              Ot.placeholder,
              v,
              fn,
              dr,
              he,
              xe,
              Ve - sn
            );
          }
          var Ka = Ge ? v : this, rs = mt ? Ka[t] : t;
          return sn = fn.length, he ? fn = Ap(fn, he) : Rt && sn > 1 && fn.reverse(), Xe && xe < sn && (fn.length = xe), this && this !== jn && this instanceof Ot && (rs = qt || cu(rs)), rs.apply(Ka, fn);
        }
        return Ot;
      }
      function D1(t, a) {
        return function(v, E) {
          return Ou(v, t, a(E), {});
        };
      }
      function Ku(t, a) {
        return function(v, E) {
          var O;
          if (v === n && E === n)
            return a;
          if (v !== n && (O = v), E !== n) {
            if (O === n)
              return E;
            typeof v == "string" || typeof E == "string" ? (v = Dt(v), E = Dt(E)) : (v = Ut(v), E = Ut(E)), O = t(v, E);
          }
          return O;
        };
      }
      function v0(t) {
        return Jo(function(a) {
          return a = Q(a, Xt(Ft())), G(function(v) {
            var E = this;
            return t(a, function(O) {
              return C(O, E, v);
            });
          });
        });
      }
      function Gu(t, a) {
        a = a === n ? " " : Dt(a);
        var v = a.length;
        if (v < 2)
          return v ? N(a, t) : a;
        var E = N(a, En(t / Jr(a)));
        return Jn(a) ? dn($r(E), 0, t).join("") : E.slice(0, t);
      }
      function dp(t, a, v, E) {
        var O = a & re, K = cu(t);
        function ae() {
          for (var he = -1, xe = arguments.length, Ve = -1, Xe = E.length, Ge = l(Xe + xe), mt = this && this !== jn && this instanceof ae ? K : t; ++Ve < Xe; )
            Ge[Ve] = E[Ve];
          for (; xe--; )
            Ge[Ve++] = arguments[++he];
          return C(mt, O ? v : this, Ge);
        }
        return ae;
      }
      function F1(t) {
        return function(a, v, E) {
          return E && typeof E != "number" && pi(a, v, E) && (v = E = n), a = ns(a), v === n ? (v = a, a = 0) : v = ns(v), E = E === n ? a < v ? 1 : -1 : ns(E), $(a, v, E, t);
        };
      }
      function ju(t) {
        return function(a, v) {
          return typeof a == "string" && typeof v == "string" || (a = va(a), v = va(v)), t(a, v);
        };
      }
      function $1(t, a, v, E, O, K, ae, he, xe, Ve) {
        var Xe = a & Ee, Ge = Xe ? ae : n, mt = Xe ? n : ae, kt = Xe ? K : n, Rt = Xe ? n : K;
        a |= Xe ? Qe : et, a &= ~(Xe ? et : Qe), a & ke || (a &= ~(re | Ce));
        var qt = [
          t,
          a,
          O,
          kt,
          Ge,
          Rt,
          mt,
          he,
          xe,
          Ve
        ], Ot = v.apply(n, qt);
        return S0(t) && U1(Ot, qt), Ot.placeholder = E, K1(Ot, t, a);
      }
      function g0(t) {
        var a = c[t];
        return function(v, E) {
          if (v = va(v), E = E == null ? 0 : nn(Gt(E), 292), E && $n(v)) {
            var O = (kn(v) + "e").split("e"), K = a(O[0] + "e" + (+O[1] + E));
            return O = (kn(K) + "e").split("e"), +(O[0] + "e" + (+O[1] - E));
          }
          return a(v);
        };
      }
      var fp = yr && 1 / Fr(new yr([, -0]))[1] == nt ? function(t) {
        return new yr(t);
      } : B0;
      function R1(t) {
        return function(a) {
          var v = ii(a);
          return v == qn ? Ba(a) : v == Qn ? Si(a) : Xn(a, t(a));
        };
      }
      function Qo(t, a, v, E, O, K, ae, he) {
        var xe = a & Ce;
        if (!xe && typeof t != "function")
          throw new k(T);
        var Ve = E ? E.length : 0;
        if (Ve || (a &= ~(Qe | et), E = O = n), ae = ae === n ? ae : tn(Gt(ae), 0), he = he === n ? he : Gt(he), Ve -= O ? O.length : 0, a & et) {
          var Xe = E, Ge = O;
          E = O = n;
        }
        var mt = xe ? n : _0(t), kt = [
          t,
          a,
          v,
          E,
          O,
          Xe,
          Ge,
          K,
          ae,
          he
        ];
        if (mt && Ip(kt, mt), t = kt[0], a = kt[1], v = kt[2], E = kt[3], O = kt[4], he = kt[9] = kt[9] === n ? xe ? 0 : t.length : tn(kt[9] - Ve, 0), !he && a & (Ee | De) && (a &= ~(Ee | De)), !a || a == re)
          var Rt = cp(t, a, v);
        else
          a == Ee || a == De ? Rt = hp(t, a, he) : (a == Qe || a == (re | Qe)) && !O.length ? Rt = dp(t, a, v, E) : Rt = Uu.apply(n, kt);
        var qt = mt ? Se : U1;
        return K1(qt(Rt, kt), t, a);
      }
      function O1(t, a, v, E) {
        return t === n || Ua(t, R[v]) && !Y.call(E, v) ? a : t;
      }
      function B1(t, a, v, E, O, K) {
        return nr(t) && nr(a) && (K.set(a, t), al(t, a, n, B1, K), K.delete(a)), t;
      }
      function pp(t) {
        return fu(t) ? n : t;
      }
      function N1(t, a, v, E, O, K) {
        var ae = v & ve, he = t.length, xe = a.length;
        if (he != xe && !(ae && xe > he))
          return !1;
        var Ve = K.get(t), Xe = K.get(a);
        if (Ve && Xe)
          return Ve == a && Xe == t;
        var Ge = -1, mt = !0, kt = v & le ? new ho() : n;
        for (K.set(t, a), K.set(a, t); ++Ge < he; ) {
          var Rt = t[Ge], qt = a[Ge];
          if (E)
            var Ot = ae ? E(qt, Rt, Ge, a, t, K) : E(Rt, qt, Ge, t, a, K);
          if (Ot !== n) {
            if (Ot)
              continue;
            mt = !1;
            break;
          }
          if (kt) {
            if (!me(a, function(sn, fn) {
              if (!Pn(kt, fn) && (Rt === sn || O(Rt, sn, v, E, K)))
                return kt.push(fn);
            })) {
              mt = !1;
              break;
            }
          } else if (!(Rt === qt || O(Rt, qt, v, E, K))) {
            mt = !1;
            break;
          }
        }
        return K.delete(t), K.delete(a), mt;
      }
      function vp(t, a, v, E, O, K, ae) {
        switch (v) {
          case Lr:
            if (t.byteLength != a.byteLength || t.byteOffset != a.byteOffset)
              return !1;
            t = t.buffer, a = a.buffer;
          case ea:
            return !(t.byteLength != a.byteLength || !K(new Be(t), new Be(a)));
          case Kn:
          case Gn:
          case Xr:
            return Ua(+t, +a);
          case jr:
            return t.name == a.name && t.message == a.message;
          case ui:
          case Er:
            return t == a + "";
          case qn:
            var he = Ba;
          case Qn:
            var xe = E & ve;
            if (he || (he = Fr), t.size != a.size && !xe)
              return !1;
            var Ve = ae.get(t);
            if (Ve)
              return Ve == a;
            E |= le, ae.set(t, a);
            var Xe = N1(he(t), he(a), E, O, K, ae);
            return ae.delete(t), Xe;
          case Qi:
            if (ki)
              return ki.call(t) == ki.call(a);
        }
        return !1;
      }
      function gp(t, a, v, E, O, K) {
        var ae = v & ve, he = y0(t), xe = he.length, Ve = y0(a), Xe = Ve.length;
        if (xe != Xe && !ae)
          return !1;
        for (var Ge = xe; Ge--; ) {
          var mt = he[Ge];
          if (!(ae ? mt in a : Y.call(a, mt)))
            return !1;
        }
        var kt = K.get(t), Rt = K.get(a);
        if (kt && Rt)
          return kt == a && Rt == t;
        var qt = !0;
        K.set(t, a), K.set(a, t);
        for (var Ot = ae; ++Ge < xe; ) {
          mt = he[Ge];
          var sn = t[mt], fn = a[mt];
          if (E)
            var Ui = ae ? E(fn, sn, mt, a, t, K) : E(sn, fn, mt, t, a, K);
          if (!(Ui === n ? sn === fn || O(sn, fn, v, E, K) : Ui)) {
            qt = !1;
            break;
          }
          Ot || (Ot = mt == "constructor");
        }
        if (qt && !Ot) {
          var vi = t.constructor, Ki = a.constructor;
          vi != Ki && "constructor" in t && "constructor" in a && !(typeof vi == "function" && vi instanceof vi && typeof Ki == "function" && Ki instanceof Ki) && (qt = !1);
        }
        return K.delete(t), K.delete(a), qt;
      }
      function Jo(t) {
        return T0(H1(t, n, eh), t + "");
      }
      function y0(t) {
        return gl(t, zr, b0);
      }
      function m0(t) {
        return gl(t, Ei, z1);
      }
      var _0 = Bi ? function(t) {
        return Bi.get(t);
      } : B0;
      function qu(t) {
        for (var a = t.name + "", v = Ni[a], E = Y.call(Ni, a) ? v.length : 0; E--; ) {
          var O = v[E], K = O.func;
          if (K == null || K == t)
            return O.name;
        }
        return a;
      }
      function Sl(t) {
        var a = Y.call(X, "placeholder") ? X : t;
        return a.placeholder;
      }
      function Ft() {
        var t = X.iteratee || R0;
        return t = t === R0 ? ru : t, arguments.length ? t(arguments[0], arguments[1]) : t;
      }
      function Qu(t, a) {
        var v = t.__data__;
        return wp(a) ? v[typeof a == "string" ? "string" : "hash"] : v.map;
      }
      function x0(t) {
        for (var a = zr(t), v = a.length; v--; ) {
          var E = a[v], O = t[E];
          a[v] = [E, O, Y1(O)];
        }
        return a;
      }
      function sl(t, a) {
        var v = Dr(t, a);
        return nu(v) ? v : n;
      }
      function yp(t) {
        var a = Y.call(t, Bt), v = t[Bt];
        try {
          t[Bt] = n;
          var E = !0;
        } catch {
        }
        var O = ie.call(t);
        return E && (a ? t[Bt] = v : delete t[Bt]), O;
      }
      var b0 = un ? function(t) {
        return t == null ? [] : (t = g(t), V(un(t), function(a) {
          return st.call(t, a);
        }));
      } : N0, z1 = un ? function(t) {
        for (var a = []; t; )
          ne(a, b0(t)), t = ut(t);
        return a;
      } : N0, ii = Br;
      (Zr && ii(new Zr(new ArrayBuffer(1))) != Lr || wi && ii(new wi()) != qn || Ti && ii(Ti.resolve()) != _a || yr && ii(new yr()) != Qn || mr && ii(new mr()) != Ji) && (ii = function(t) {
        var a = Br(t), v = a == li ? t.constructor : n, E = v ? ll(v) : "";
        if (E)
          switch (E) {
            case Js:
              return Lr;
            case el:
              return qn;
            case Uo:
              return _a;
            case tl:
              return Qn;
            case nl:
              return Ji;
          }
        return a;
      });
      function mp(t, a, v) {
        for (var E = -1, O = v.length; ++E < O; ) {
          var K = v[E], ae = K.size;
          switch (K.type) {
            case "drop":
              t += ae;
              break;
            case "dropRight":
              a -= ae;
              break;
            case "take":
              a = nn(a, t + ae);
              break;
            case "takeRight":
              t = tn(t, a - ae);
              break;
          }
        }
        return { start: t, end: a };
      }
      function _p(t) {
        var a = t.match(fr);
        return a ? a[1].split(wr) : [];
      }
      function V1(t, a, v) {
        a = zt(a, t);
        for (var E = -1, O = a.length, K = !1; ++E < O; ) {
          var ae = go(a[E]);
          if (!(K = t != null && v(t, ae)))
            break;
          t = t[ae];
        }
        return K || ++E != O ? K : (O = t == null ? 0 : t.length, !!O && ac(O) && es(ae, O) && (Zt(t) || ul(t)));
      }
      function xp(t) {
        var a = t.length, v = new t.constructor(a);
        return a && typeof t[0] == "string" && Y.call(t, "index") && (v.index = t.index, v.input = t.input), v;
      }
      function W1(t) {
        return typeof t.constructor == "function" && !hu(t) ? _r(ut(t)) : {};
      }
      function bp(t, a, v) {
        var E = t.constructor;
        switch (a) {
          case ea:
            return vn(t);
          case Kn:
          case Gn:
            return new E(+t);
          case Lr:
            return Sn(t, v);
          case xa:
          case ba:
          case Ca:
          case wo:
          case Ja:
          case ci:
          case To:
          case eo:
          case to:
            return Za(t, v);
          case qn:
            return new E();
          case Xr:
          case Er:
            return new E(t);
          case ui:
            return Hi(t);
          case Qn:
            return new E();
          case Qi:
            return po(t);
        }
      }
      function Cp(t, a) {
        var v = a.length;
        if (!v)
          return t;
        var E = v - 1;
        return a[E] = (v > 1 ? "& " : "") + a[E], a = a.join(v > 2 ? ", " : " "), t.replace(ys, `{
/* [wrapped with ` + a + `] */
`);
      }
      function Sp(t) {
        return Zt(t) || ul(t) || !!(It && t && t[It]);
      }
      function es(t, a) {
        var v = typeof t;
        return a = a ?? _n, !!a && (v == "number" || v != "symbol" && na.test(t)) && t > -1 && t % 1 == 0 && t < a;
      }
      function pi(t, a, v) {
        if (!nr(v))
          return !1;
        var E = typeof a;
        return (E == "number" ? Ii(v) && es(a, v.length) : E == "string" && a in v) ? Ua(v[a], t) : !1;
      }
      function C0(t, a) {
        if (Zt(t))
          return !1;
        var v = typeof t;
        return v == "number" || v == "symbol" || v == "boolean" || t == null || Zi(t) ? !0 : vs.test(t) || !Us.test(t) || a != null && t in g(a);
      }
      function wp(t) {
        var a = typeof t;
        return a == "string" || a == "number" || a == "symbol" || a == "boolean" ? t !== "__proto__" : t === null;
      }
      function S0(t) {
        var a = qu(t), v = X[a];
        if (typeof v != "function" || !(a in jt.prototype))
          return !1;
        if (t === v)
          return !0;
        var E = _0(v);
        return !!E && t === E[0];
      }
      function Tp(t) {
        return !!q && q in t;
      }
      var kp = W ? ts : z0;
      function hu(t) {
        var a = t && t.constructor, v = typeof a == "function" && a.prototype || R;
        return t === v;
      }
      function Y1(t) {
        return t === t && !nr(t);
      }
      function X1(t, a) {
        return function(v) {
          return v == null ? !1 : v[t] === a && (a !== n || t in g(v));
        };
      }
      function Pp(t) {
        var a = rc(t, function(E) {
          return v.size === H && v.clear(), E;
        }), v = a.cache;
        return a;
      }
      function Ip(t, a) {
        var v = t[1], E = a[1], O = v | E, K = O < (re | Ce | xt), ae = E == xt && v == Ee || E == xt && v == at && t[7].length <= a[8] || E == (xt | at) && a[7].length <= a[8] && v == Ee;
        if (!(K || ae))
          return t;
        E & re && (t[2] = a[2], O |= v & re ? 0 : ke);
        var he = a[3];
        if (he) {
          var xe = t[3];
          t[3] = xe ? fa(xe, he, a[4]) : he, t[4] = xe ? cr(t[3], ee) : a[4];
        }
        return he = a[5], he && (xe = t[5], t[5] = xe ? vo(xe, he, a[6]) : he, t[6] = xe ? cr(t[5], ee) : a[6]), he = a[7], he && (t[7] = he), E & xt && (t[8] = t[8] == null ? a[8] : nn(t[8], a[8])), t[9] == null && (t[9] = a[9]), t[0] = a[0], t[1] = O, t;
      }
      function Ep(t) {
        var a = [];
        if (t != null)
          for (var v in g(t))
            a.push(v);
        return a;
      }
      function Lp(t) {
        return ie.call(t);
      }
      function H1(t, a, v) {
        return a = tn(a === n ? t.length - 1 : a, 0), function() {
          for (var E = arguments, O = -1, K = tn(E.length - a, 0), ae = l(K); ++O < K; )
            ae[O] = E[a + O];
          O = -1;
          for (var he = l(a + 1); ++O < a; )
            he[O] = E[O];
          return he[a] = v(ae), C(t, this, he);
        };
      }
      function Z1(t, a) {
        return a.length < 2 ? t : jo(t, Ye(a, 0, -1));
      }
      function Ap(t, a) {
        for (var v = t.length, E = nn(a.length, v), O = Cr(t); E--; ) {
          var K = a[E];
          t[E] = es(K, v) ? O[K] : n;
        }
        return t;
      }
      function w0(t, a) {
        if (!(a === "constructor" && typeof t[a] == "function") && a != "__proto__")
          return t[a];
      }
      var U1 = G1(Se), du = zn || function(t, a) {
        return jn.setTimeout(t, a);
      }, T0 = G1(we);
      function K1(t, a, v) {
        var E = a + "";
        return T0(t, Cp(E, Mp(_p(E), v)));
      }
      function G1(t) {
        var a = 0, v = 0;
        return function() {
          var E = ei(), O = dt - (E - v);
          if (v = E, O > 0) {
            if (++a >= Ue)
              return arguments[0];
          } else
            a = 0;
          return t.apply(n, arguments);
        };
      }
      function Ju(t, a) {
        var v = -1, E = t.length, O = E - 1;
        for (a = a === n ? E : a; ++v < a; ) {
          var K = P(v, O), ae = t[K];
          t[K] = t[v], t[v] = ae;
        }
        return t.length = a, t;
      }
      var j1 = Pp(function(t) {
        var a = [];
        return t.charCodeAt(0) === 46 && a.push(""), t.replace(Ks, function(v, E, O, K) {
          a.push(O ? K.replace(ms, "$1") : E || v);
        }), a;
      });
      function go(t) {
        if (typeof t == "string" || Zi(t))
          return t;
        var a = t + "";
        return a == "0" && 1 / t == -nt ? "-0" : a;
      }
      function ll(t) {
        if (t != null) {
          try {
            return j.call(t);
          } catch {
          }
          try {
            return t + "";
          } catch {
          }
        }
        return "";
      }
      function Mp(t, a) {
        return A(si, function(v) {
          var E = "_." + v[0];
          a & v[1] && !Z(t, E) && t.push(E);
        }), t.sort();
      }
      function q1(t) {
        if (t instanceof jt)
          return t.clone();
        var a = new Rn(t.__wrapped__, t.__chain__);
        return a.__actions__ = Cr(t.__actions__), a.__index__ = t.__index__, a.__values__ = t.__values__, a;
      }
      function Dp(t, a, v) {
        (v ? pi(t, a, v) : a === n) ? a = 1 : a = tn(Gt(a), 0);
        var E = t == null ? 0 : t.length;
        if (!E || a < 1)
          return [];
        for (var O = 0, K = 0, ae = l(En(E / a)); O < E; )
          ae[K++] = Ye(t, O, O += a);
        return ae;
      }
      function Fp(t) {
        for (var a = -1, v = t == null ? 0 : t.length, E = 0, O = []; ++a < v; ) {
          var K = t[a];
          K && (O[E++] = K);
        }
        return O;
      }
      function $p() {
        var t = arguments.length;
        if (!t)
          return [];
        for (var a = l(t - 1), v = arguments[0], E = t; E--; )
          a[E - 1] = arguments[E];
        return ne(Zt(v) ? Cr(v) : [v], xr(a, 1));
      }
      var Rp = G(function(t, a) {
        return hr(t) ? il(t, xr(a, 1, hr, !0)) : [];
      }), Op = G(function(t, a) {
        var v = pa(a);
        return hr(v) && (v = n), hr(t) ? il(t, xr(a, 1, hr, !0), Ft(v, 2)) : [];
      }), Bp = G(function(t, a) {
        var v = pa(a);
        return hr(v) && (v = n), hr(t) ? il(t, xr(a, 1, hr, !0), n, v) : [];
      });
      function Np(t, a, v) {
        var E = t == null ? 0 : t.length;
        return E ? (a = v || a === n ? 1 : Gt(a), Ye(t, a < 0 ? 0 : a, E)) : [];
      }
      function zp(t, a, v) {
        var E = t == null ? 0 : t.length;
        return E ? (a = v || a === n ? 1 : Gt(a), a = E - a, Ye(t, 0, a < 0 ? 0 : a)) : [];
      }
      function Vp(t, a) {
        return t && t.length ? tr(t, Ft(a, 3), !0, !0) : [];
      }
      function Wp(t, a) {
        return t && t.length ? tr(t, Ft(a, 3), !0) : [];
      }
      function Yp(t, a, v, E) {
        var O = t == null ? 0 : t.length;
        return O ? (v && typeof v != "number" && pi(t, a, v) && (v = 0, E = O), s0(t, a, v, E)) : [];
      }
      function Q1(t, a, v) {
        var E = t == null ? 0 : t.length;
        if (!E)
          return -1;
        var O = v == null ? 0 : Gt(v);
        return O < 0 && (O = tn(E + O, 0)), rt(t, Ft(a, 3), O);
      }
      function J1(t, a, v) {
        var E = t == null ? 0 : t.length;
        if (!E)
          return -1;
        var O = E - 1;
        return v !== n && (O = Gt(v), O = v < 0 ? tn(E + O, 0) : nn(O, E - 1)), rt(t, Ft(a, 3), O, !0);
      }
      function eh(t) {
        var a = t == null ? 0 : t.length;
        return a ? xr(t, 1) : [];
      }
      function Xp(t) {
        var a = t == null ? 0 : t.length;
        return a ? xr(t, nt) : [];
      }
      function Hp(t, a) {
        var v = t == null ? 0 : t.length;
        return v ? (a = a === n ? 1 : Gt(a), xr(t, a)) : [];
      }
      function Zp(t) {
        for (var a = -1, v = t == null ? 0 : t.length, E = {}; ++a < v; ) {
          var O = t[a];
          E[O[0]] = O[1];
        }
        return E;
      }
      function th(t) {
        return t && t.length ? t[0] : n;
      }
      function Up(t, a, v) {
        var E = t == null ? 0 : t.length;
        if (!E)
          return -1;
        var O = v == null ? 0 : Gt(v);
        return O < 0 && (O = tn(E + O, 0)), ot(t, a, O);
      }
      function Kp(t) {
        var a = t == null ? 0 : t.length;
        return a ? Ye(t, 0, -1) : [];
      }
      var Gp = G(function(t) {
        var a = Q(t, Mt);
        return a.length && a[0] === t[0] ? yl(a) : [];
      }), jp = G(function(t) {
        var a = pa(t), v = Q(t, Mt);
        return a === pa(v) ? a = n : v.pop(), v.length && v[0] === t[0] ? yl(v, Ft(a, 2)) : [];
      }), qp = G(function(t) {
        var a = pa(t), v = Q(t, Mt);
        return a = typeof a == "function" ? a : n, a && v.pop(), v.length && v[0] === t[0] ? yl(v, n, a) : [];
      });
      function Qp(t, a) {
        return t == null ? "" : ar.call(t, a);
      }
      function pa(t) {
        var a = t == null ? 0 : t.length;
        return a ? t[a - 1] : n;
      }
      function Jp(t, a, v) {
        var E = t == null ? 0 : t.length;
        if (!E)
          return -1;
        var O = E;
        return v !== n && (O = Gt(v), O = O < 0 ? tn(E + O, 0) : nn(O, E - 1)), a === a ? Ho(t, a, O) : rt(t, lt, O, !0);
      }
      function ev(t, a) {
        return t && t.length ? ol(t, Gt(a)) : n;
      }
      var tv = G(nh);
      function nh(t, a) {
        return t && t.length && a && a.length ? or(t, a) : t;
      }
      function nv(t, a, v) {
        return t && t.length && a && a.length ? or(t, a, Ft(v, 2)) : t;
      }
      function rv(t, a, v) {
        return t && t.length && a && a.length ? or(t, a, n, v) : t;
      }
      var iv = Jo(function(t, a) {
        var v = t == null ? 0 : t.length, E = Ql(t, a);
        return Hu(t, Q(a, function(O) {
          return es(O, v) ? +O : O;
        }).sort(qo)), E;
      });
      function av(t, a) {
        var v = [];
        if (!(t && t.length))
          return v;
        var E = -1, O = [], K = t.length;
        for (a = Ft(a, 3); ++E < K; ) {
          var ae = t[E];
          a(ae, E, t) && (v.push(ae), O.push(E));
        }
        return Hu(t, O), v;
      }
      function k0(t) {
        return t == null ? t : kr.call(t);
      }
      function ov(t, a, v) {
        var E = t == null ? 0 : t.length;
        return E ? (v && typeof v != "number" && pi(t, a, v) ? (a = 0, v = E) : (a = a == null ? 0 : Gt(a), v = v === n ? E : Gt(v)), Ye(t, a, v)) : [];
      }
      function sv(t, a) {
        return tt(t, a);
      }
      function lv(t, a, v) {
        return bt(t, a, Ft(v, 2));
      }
      function uv(t, a) {
        var v = t == null ? 0 : t.length;
        if (v) {
          var E = tt(t, a);
          if (E < v && Ua(t[E], a))
            return E;
        }
        return -1;
      }
      function cv(t, a) {
        return tt(t, a, !0);
      }
      function hv(t, a, v) {
        return bt(t, a, Ft(v, 2), !0);
      }
      function dv(t, a) {
        var v = t == null ? 0 : t.length;
        if (v) {
          var E = tt(t, a, !0) - 1;
          if (Ua(t[E], a))
            return E;
        }
        return -1;
      }
      function fv(t) {
        return t && t.length ? Ct(t) : [];
      }
      function pv(t, a) {
        return t && t.length ? Ct(t, Ft(a, 2)) : [];
      }
      function vv(t) {
        var a = t == null ? 0 : t.length;
        return a ? Ye(t, 1, a) : [];
      }
      function gv(t, a, v) {
        return t && t.length ? (a = v || a === n ? 1 : Gt(a), Ye(t, 0, a < 0 ? 0 : a)) : [];
      }
      function yv(t, a, v) {
        var E = t == null ? 0 : t.length;
        return E ? (a = v || a === n ? 1 : Gt(a), a = E - a, Ye(t, a < 0 ? 0 : a, E)) : [];
      }
      function mv(t, a) {
        return t && t.length ? tr(t, Ft(a, 3), !1, !0) : [];
      }
      function _v(t, a) {
        return t && t.length ? tr(t, Ft(a, 3)) : [];
      }
      var xv = G(function(t) {
        return Ht(xr(t, 1, hr, !0));
      }), bv = G(function(t) {
        var a = pa(t);
        return hr(a) && (a = n), Ht(xr(t, 1, hr, !0), Ft(a, 2));
      }), Cv = G(function(t) {
        var a = pa(t);
        return a = typeof a == "function" ? a : n, Ht(xr(t, 1, hr, !0), n, a);
      });
      function Sv(t) {
        return t && t.length ? Ht(t) : [];
      }
      function wv(t, a) {
        return t && t.length ? Ht(t, Ft(a, 2)) : [];
      }
      function Tv(t, a) {
        return a = typeof a == "function" ? a : n, t && t.length ? Ht(t, n, a) : [];
      }
      function P0(t) {
        if (!(t && t.length))
          return [];
        var a = 0;
        return t = V(t, function(v) {
          if (hr(v))
            return a = tn(v.length, a), !0;
        }), Yn(a, function(v) {
          return Q(t, Pt(v));
        });
      }
      function rh(t, a) {
        if (!(t && t.length))
          return [];
        var v = P0(t);
        return a == null ? v : Q(v, function(E) {
          return C(a, n, E);
        });
      }
      var kv = G(function(t, a) {
        return hr(t) ? il(t, a) : [];
      }), Pv = G(function(t) {
        return rn(V(t, hr));
      }), Iv = G(function(t) {
        var a = pa(t);
        return hr(a) && (a = n), rn(V(t, hr), Ft(a, 2));
      }), Ev = G(function(t) {
        var a = pa(t);
        return a = typeof a == "function" ? a : n, rn(V(t, hr), n, a);
      }), Lv = G(P0);
      function Av(t, a) {
        return it(t || [], a || [], Ko);
      }
      function Mv(t, a) {
        return it(t || [], a || [], se);
      }
      var Dv = G(function(t) {
        var a = t.length, v = a > 1 ? t[a - 1] : n;
        return v = typeof v == "function" ? (t.pop(), v) : n, rh(t, v);
      });
      function ih(t) {
        var a = X(t);
        return a.__chain__ = !0, a;
      }
      function Fv(t, a) {
        return a(t), t;
      }
      function ec(t, a) {
        return a(t);
      }
      var $v = Jo(function(t) {
        var a = t.length, v = a ? t[0] : 0, E = this.__wrapped__, O = function(K) {
          return Ql(K, t);
        };
        return a > 1 || this.__actions__.length || !(E instanceof jt) || !es(v) ? this.thru(O) : (E = E.slice(v, +v + (a ? 1 : 0)), E.__actions__.push({
          func: ec,
          args: [O],
          thisArg: n
        }), new Rn(E, this.__chain__).thru(function(K) {
          return a && !K.length && K.push(n), K;
        }));
      });
      function Rv() {
        return ih(this);
      }
      function Ov() {
        return new Rn(this.value(), this.__chain__);
      }
      function Bv() {
        this.__values__ === n && (this.__values__ = mh(this.value()));
        var t = this.__index__ >= this.__values__.length, a = t ? n : this.__values__[this.__index__++];
        return { done: t, value: a };
      }
      function Nv() {
        return this;
      }
      function zv(t) {
        for (var a, v = this; v instanceof co; ) {
          var E = q1(v);
          E.__index__ = 0, E.__values__ = n, a ? O.__wrapped__ = E : a = E;
          var O = E;
          v = v.__wrapped__;
        }
        return O.__wrapped__ = t, a;
      }
      function Vv() {
        var t = this.__wrapped__;
        if (t instanceof jt) {
          var a = t;
          return this.__actions__.length && (a = new jt(this)), a = a.reverse(), a.__actions__.push({
            func: ec,
            args: [k0],
            thisArg: n
          }), new Rn(a, this.__chain__);
        }
        return this.thru(k0);
      }
      function Wv() {
        return Ur(this.__wrapped__, this.__actions__);
      }
      var Yv = Zu(function(t, a, v) {
        Y.call(t, v) ? ++t[v] : Xa(t, v, 1);
      });
      function Xv(t, a, v) {
        var E = Zt(t) ? B : o0;
        return v && pi(t, a, v) && (a = n), E(t, Ft(a, 3));
      }
      function Hv(t, a) {
        var v = Zt(t) ? V : Fu;
        return v(t, Ft(a, 3));
      }
      var Zv = A1(Q1), Uv = A1(J1);
      function Kv(t, a) {
        return xr(tc(t, a), 1);
      }
      function Gv(t, a) {
        return xr(tc(t, a), nt);
      }
      function jv(t, a, v) {
        return v = v === n ? 1 : Gt(v), xr(tc(t, a), v);
      }
      function ah(t, a) {
        var v = Zt(t) ? A : ha;
        return v(t, Ft(a, 3));
      }
      function oh(t, a) {
        var v = Zt(t) ? F : Du;
        return v(t, Ft(a, 3));
      }
      var qv = Zu(function(t, a, v) {
        Y.call(t, v) ? t[v].push(a) : Xa(t, v, [a]);
      });
      function Qv(t, a, v, E) {
        t = Ii(t) ? t : Tl(t), v = v && !E ? Gt(v) : 0;
        var O = t.length;
        return v < 0 && (v = tn(O + v, 0)), oc(t) ? v <= O && t.indexOf(a, v) > -1 : !!O && ot(t, a, v) > -1;
      }
      var Jv = G(function(t, a, v) {
        var E = -1, O = typeof a == "function", K = Ii(t) ? l(t.length) : [];
        return ha(t, function(ae) {
          K[++E] = O ? C(a, ae, v) : Os(ae, a, v);
        }), K;
      }), eg = Zu(function(t, a, v) {
        Xa(t, v, a);
      });
      function tc(t, a) {
        var v = Zt(t) ? Q : Wu;
        return v(t, Ft(a, 3));
      }
      function tg(t, a, v, E) {
        return t == null ? [] : (Zt(a) || (a = a == null ? [] : [a]), v = E ? n : v, Zt(v) || (v = v == null ? [] : [v]), xl(t, a, v));
      }
      var ng = Zu(function(t, a, v) {
        t[v ? 0 : 1].push(a);
      }, function() {
        return [[], []];
      });
      function rg(t, a, v) {
        var E = Zt(t) ? de : Yt, O = arguments.length < 3;
        return E(t, Ft(a, 4), v, O, ha);
      }
      function ig(t, a, v) {
        var E = Zt(t) ? be : Yt, O = arguments.length < 3;
        return E(t, Ft(a, 4), v, O, Du);
      }
      function ag(t, a) {
        var v = Zt(t) ? V : Fu;
        return v(t, ic(Ft(a, 3)));
      }
      function og(t) {
        var a = Zt(t) ? Lu : ce;
        return a(t);
      }
      function sg(t, a, v) {
        (v ? pi(t, a, v) : a === n) ? a = 1 : a = Gt(a);
        var E = Zt(t) ? n0 : fe;
        return E(t, a);
      }
      function lg(t) {
        var a = Zt(t) ? r0 : Ne;
        return a(t);
      }
      function ug(t) {
        if (t == null)
          return 0;
        if (Ii(t))
          return oc(t) ? Jr(t) : t.length;
        var a = ii(t);
        return a == qn || a == Qn ? t.size : iu(t).length;
      }
      function cg(t, a, v) {
        var E = Zt(t) ? me : yt;
        return v && pi(t, a, v) && (a = n), E(t, Ft(a, 3));
      }
      var hg = G(function(t, a) {
        if (t == null)
          return [];
        var v = a.length;
        return v > 1 && pi(t, a[0], a[1]) ? a = [] : v > 2 && pi(a[0], a[1], a[2]) && (a = [a[0]]), xl(t, xr(a, 1), []);
      }), nc = Fn || function() {
        return jn.Date.now();
      };
      function dg(t, a) {
        if (typeof a != "function")
          throw new k(T);
        return t = Gt(t), function() {
          if (--t < 1)
            return a.apply(this, arguments);
        };
      }
      function sh(t, a, v) {
        return a = v ? n : a, a = t && a == null ? t.length : a, Qo(t, xt, n, n, n, n, a);
      }
      function lh(t, a) {
        var v;
        if (typeof a != "function")
          throw new k(T);
        return t = Gt(t), function() {
          return --t > 0 && (v = a.apply(this, arguments)), t <= 1 && (a = n), v;
        };
      }
      var I0 = G(function(t, a, v) {
        var E = re;
        if (v.length) {
          var O = cr(v, Sl(I0));
          E |= Qe;
        }
        return Qo(t, E, a, v, O);
      }), uh = G(function(t, a, v) {
        var E = re | Ce;
        if (v.length) {
          var O = cr(v, Sl(uh));
          E |= Qe;
        }
        return Qo(a, E, t, v, O);
      });
      function ch(t, a, v) {
        a = v ? n : a;
        var E = Qo(t, Ee, n, n, n, n, n, a);
        return E.placeholder = ch.placeholder, E;
      }
      function hh(t, a, v) {
        a = v ? n : a;
        var E = Qo(t, De, n, n, n, n, n, a);
        return E.placeholder = hh.placeholder, E;
      }
      function dh(t, a, v) {
        var E, O, K, ae, he, xe, Ve = 0, Xe = !1, Ge = !1, mt = !0;
        if (typeof t != "function")
          throw new k(T);
        a = va(a) || 0, nr(v) && (Xe = !!v.leading, Ge = "maxWait" in v, K = Ge ? tn(va(v.maxWait) || 0, a) : K, mt = "trailing" in v ? !!v.trailing : mt);
        function kt(dr) {
          var Ka = E, rs = O;
          return E = O = n, Ve = dr, ae = t.apply(rs, Ka), ae;
        }
        function Rt(dr) {
          return Ve = dr, he = du(sn, a), Xe ? kt(dr) : ae;
        }
        function qt(dr) {
          var Ka = dr - xe, rs = dr - Ve, Ah = a - Ka;
          return Ge ? nn(Ah, K - rs) : Ah;
        }
        function Ot(dr) {
          var Ka = dr - xe, rs = dr - Ve;
          return xe === n || Ka >= a || Ka < 0 || Ge && rs >= K;
        }
        function sn() {
          var dr = nc();
          if (Ot(dr))
            return fn(dr);
          he = du(sn, qt(dr));
        }
        function fn(dr) {
          return he = n, mt && E ? kt(dr) : (E = O = n, ae);
        }
        function Ui() {
          he !== n && on(he), Ve = 0, E = xe = O = he = n;
        }
        function vi() {
          return he === n ? ae : fn(nc());
        }
        function Ki() {
          var dr = nc(), Ka = Ot(dr);
          if (E = arguments, O = this, xe = dr, Ka) {
            if (he === n)
              return Rt(xe);
            if (Ge)
              return on(he), he = du(sn, a), kt(xe);
          }
          return he === n && (he = du(sn, a)), ae;
        }
        return Ki.cancel = Ui, Ki.flush = vi, Ki;
      }
      var fg = G(function(t, a) {
        return Mu(t, 1, a);
      }), pg = G(function(t, a, v) {
        return Mu(t, va(a) || 0, v);
      });
      function vg(t) {
        return Qo(t, We);
      }
      function rc(t, a) {
        if (typeof t != "function" || a != null && typeof a != "function")
          throw new k(T);
        var v = function() {
          var E = arguments, O = a ? a.apply(this, E) : E[0], K = v.cache;
          if (K.has(O))
            return K.get(O);
          var ae = t.apply(this, E);
          return v.cache = K.set(O, ae) || K, ae;
        };
        return v.cache = new (rc.Cache || Wi)(), v;
      }
      rc.Cache = Wi;
      function ic(t) {
        if (typeof t != "function")
          throw new k(T);
        return function() {
          var a = arguments;
          switch (a.length) {
            case 0:
              return !t.call(this);
            case 1:
              return !t.call(this, a[0]);
            case 2:
              return !t.call(this, a[0], a[1]);
            case 3:
              return !t.call(this, a[0], a[1], a[2]);
          }
          return !t.apply(this, a);
        };
      }
      function gg(t) {
        return lh(2, t);
      }
      var yg = Ir(function(t, a) {
        a = a.length == 1 && Zt(a[0]) ? Q(a[0], Xt(Ft())) : Q(xr(a, 1), Xt(Ft()));
        var v = a.length;
        return G(function(E) {
          for (var O = -1, K = nn(E.length, v); ++O < K; )
            E[O] = a[O].call(this, E[O]);
          return C(t, this, E);
        });
      }), E0 = G(function(t, a) {
        var v = cr(a, Sl(E0));
        return Qo(t, Qe, n, a, v);
      }), fh = G(function(t, a) {
        var v = cr(a, Sl(fh));
        return Qo(t, et, n, a, v);
      }), mg = Jo(function(t, a) {
        return Qo(t, at, n, n, n, a);
      });
      function _g(t, a) {
        if (typeof t != "function")
          throw new k(T);
        return a = a === n ? a : Gt(a), G(t, a);
      }
      function xg(t, a) {
        if (typeof t != "function")
          throw new k(T);
        return a = a == null ? 0 : tn(Gt(a), 0), G(function(v) {
          var E = v[a], O = dn(v, 0, a);
          return E && ne(O, E), C(t, this, O);
        });
      }
      function bg(t, a, v) {
        var E = !0, O = !0;
        if (typeof t != "function")
          throw new k(T);
        return nr(v) && (E = "leading" in v ? !!v.leading : E, O = "trailing" in v ? !!v.trailing : O), dh(t, a, {
          leading: E,
          maxWait: a,
          trailing: O
        });
      }
      function Cg(t) {
        return sh(t, 1);
      }
      function Sg(t, a) {
        return E0(Kt(a), t);
      }
      function wg() {
        if (!arguments.length)
          return [];
        var t = arguments[0];
        return Zt(t) ? t : [t];
      }
      function Tg(t) {
        return Pi(t, ue);
      }
      function kg(t, a) {
        return a = typeof a == "function" ? a : n, Pi(t, ue, a);
      }
      function Pg(t) {
        return Pi(t, oe | ue);
      }
      function Ig(t, a) {
        return a = typeof a == "function" ? a : n, Pi(t, oe | ue, a);
      }
      function Eg(t, a) {
        return a == null || Au(t, a, zr(a));
      }
      function Ua(t, a) {
        return t === a || t !== t && a !== a;
      }
      var Lg = ju(tu), Ag = ju(function(t, a) {
        return t >= a;
      }), ul = Bu(function() {
        return arguments;
      }()) ? Bu : function(t) {
        return sr(t) && Y.call(t, "callee") && !st.call(t, "callee");
      }, Zt = l.isArray, Mg = o ? Xt(o) : Nu;
      function Ii(t) {
        return t != null && ac(t.length) && !ts(t);
      }
      function hr(t) {
        return sr(t) && Ii(t);
      }
      function Dg(t) {
        return t === !0 || t === !1 || sr(t) && Br(t) == Kn;
      }
      var Ns = en || z0, Fg = s ? Xt(s) : Ha;
      function $g(t) {
        return sr(t) && t.nodeType === 1 && !fu(t);
      }
      function Rg(t) {
        if (t == null)
          return !0;
        if (Ii(t) && (Zt(t) || typeof t == "string" || typeof t.splice == "function" || Ns(t) || wl(t) || ul(t)))
          return !t.length;
        var a = ii(t);
        if (a == qn || a == Qn)
          return !t.size;
        if (hu(t))
          return !iu(t).length;
        for (var v in t)
          if (Y.call(t, v))
            return !1;
        return !0;
      }
      function Og(t, a) {
        return Vn(t, a);
      }
      function Bg(t, a, v) {
        v = typeof v == "function" ? v : n;
        var E = v ? v(t, a) : n;
        return E === n ? Vn(t, a, n, v) : !!E;
      }
      function L0(t) {
        if (!sr(t))
          return !1;
        var a = Br(t);
        return a == jr || a == Yr || typeof t.message == "string" && typeof t.name == "string" && !fu(t);
      }
      function Ng(t) {
        return typeof t == "number" && $n(t);
      }
      function ts(t) {
        if (!nr(t))
          return !1;
        var a = Br(t);
        return a == Mi || a == Di || a == wn || a == Zs;
      }
      function ph(t) {
        return typeof t == "number" && t == Gt(t);
      }
      function ac(t) {
        return typeof t == "number" && t > -1 && t % 1 == 0 && t <= _n;
      }
      function nr(t) {
        var a = typeof t;
        return t != null && (a == "object" || a == "function");
      }
      function sr(t) {
        return t != null && typeof t == "object";
      }
      var vh = d ? Xt(d) : h0;
      function zg(t, a) {
        return t === a || ml(t, a, x0(a));
      }
      function Vg(t, a, v) {
        return v = typeof v == "function" ? v : n, ml(t, a, x0(a), v);
      }
      function Wg(t) {
        return gh(t) && t != +t;
      }
      function Yg(t) {
        if (kp(t))
          throw new i(S);
        return nu(t);
      }
      function Xg(t) {
        return t === null;
      }
      function Hg(t) {
        return t == null;
      }
      function gh(t) {
        return typeof t == "number" || sr(t) && Br(t) == Xr;
      }
      function fu(t) {
        if (!sr(t) || Br(t) != li)
          return !1;
        var a = ut(t);
        if (a === null)
          return !0;
        var v = Y.call(a, "constructor") && a.constructor;
        return typeof v == "function" && v instanceof v && j.call(v) == pe;
      }
      var A0 = h ? Xt(h) : _l;
      function Zg(t) {
        return ph(t) && t >= -_n && t <= _n;
      }
      var yh = m ? Xt(m) : zu;
      function oc(t) {
        return typeof t == "string" || !Zt(t) && sr(t) && Br(t) == Er;
      }
      function Zi(t) {
        return typeof t == "symbol" || sr(t) && Br(t) == Qi;
      }
      var wl = x ? Xt(x) : d0;
      function Ug(t) {
        return t === n;
      }
      function Kg(t) {
        return sr(t) && ii(t) == Ji;
      }
      function Gg(t) {
        return sr(t) && Br(t) == cs;
      }
      var jg = ju(au), qg = ju(function(t, a) {
        return t <= a;
      });
      function mh(t) {
        if (!t)
          return [];
        if (Ii(t))
          return oc(t) ? $r(t) : Cr(t);
        if (wt && t[wt])
          return Qs(t[wt]());
        var a = ii(t), v = a == qn ? Ba : a == Qn ? Fr : Tl;
        return v(t);
      }
      function ns(t) {
        if (!t)
          return t === 0 ? t : 0;
        if (t = va(t), t === nt || t === -nt) {
          var a = t < 0 ? -1 : 1;
          return a * Et;
        }
        return t === t ? t : 0;
      }
      function Gt(t) {
        var a = ns(t), v = a % 1;
        return a === a ? v ? a - v : a : 0;
      }
      function _h(t) {
        return t ? Go(Gt(t), 0, Tt) : 0;
      }
      function va(t) {
        if (typeof t == "number")
          return t;
        if (Zi(t))
          return ct;
        if (nr(t)) {
          var a = typeof t.valueOf == "function" ? t.valueOf() : t;
          t = nr(a) ? a + "" : a;
        }
        if (typeof t != "string")
          return t === 0 ? t : +t;
        t = ur(t);
        var v = pr.test(t);
        return v || bs.test(t) ? Fa(t.slice(2), v ? 2 : 8) : xs.test(t) ? ct : +t;
      }
      function xh(t) {
        return Nr(t, Ei(t));
      }
      function Qg(t) {
        return t ? Go(Gt(t), -_n, _n) : t === 0 ? t : 0;
      }
      function kn(t) {
        return t == null ? "" : Dt(t);
      }
      var Jg = bl(function(t, a) {
        if (hu(a) || Ii(a)) {
          Nr(a, zr(a), t);
          return;
        }
        for (var v in a)
          Y.call(a, v) && Ko(t, v, a[v]);
      }), bh = bl(function(t, a) {
        Nr(a, Ei(a), t);
      }), sc = bl(function(t, a, v, E) {
        Nr(a, Ei(a), t, E);
      }), e2 = bl(function(t, a, v, E) {
        Nr(a, zr(a), t, E);
      }), t2 = Jo(Ql);
      function n2(t, a) {
        var v = _r(t);
        return a == null ? v : Ya(v, a);
      }
      var r2 = G(function(t, a) {
        t = g(t);
        var v = -1, E = a.length, O = E > 2 ? a[2] : n;
        for (O && pi(a[0], a[1], O) && (E = 1); ++v < E; )
          for (var K = a[v], ae = Ei(K), he = -1, xe = ae.length; ++he < xe; ) {
            var Ve = ae[he], Xe = t[Ve];
            (Xe === n || Ua(Xe, R[Ve]) && !Y.call(t, Ve)) && (t[Ve] = K[Ve]);
          }
        return t;
      }), i2 = G(function(t) {
        return t.push(n, B1), C(Ch, n, t);
      });
      function a2(t, a) {
        return Ke(t, Ft(a, 3), da);
      }
      function o2(t, a) {
        return Ke(t, Ft(a, 3), eu);
      }
      function s2(t, a) {
        return t == null ? t : Jl(t, Ft(a, 3), Ei);
      }
      function l2(t, a) {
        return t == null ? t : $u(t, Ft(a, 3), Ei);
      }
      function u2(t, a) {
        return t && da(t, Ft(a, 3));
      }
      function c2(t, a) {
        return t && eu(t, Ft(a, 3));
      }
      function h2(t) {
        return t == null ? [] : vl(t, zr(t));
      }
      function d2(t) {
        return t == null ? [] : vl(t, Ei(t));
      }
      function M0(t, a, v) {
        var E = t == null ? n : jo(t, a);
        return E === n ? v : E;
      }
      function f2(t, a) {
        return t != null && V1(t, a, l0);
      }
      function D0(t, a) {
        return t != null && V1(t, a, u0);
      }
      var p2 = D1(function(t, a, v) {
        a != null && typeof a.toString != "function" && (a = ie.call(a)), t[a] = v;
      }, $0(Li)), v2 = D1(function(t, a, v) {
        a != null && typeof a.toString != "function" && (a = ie.call(a)), Y.call(t, a) ? t[a].push(v) : t[a] = [v];
      }, Ft), g2 = G(Os);
      function zr(t) {
        return Ii(t) ? Rs(t) : iu(t);
      }
      function Ei(t) {
        return Ii(t) ? Rs(t, !0) : Vu(t);
      }
      function y2(t, a) {
        var v = {};
        return a = Ft(a, 3), da(t, function(E, O, K) {
          Xa(v, a(E, O, K), E);
        }), v;
      }
      function m2(t, a) {
        var v = {};
        return a = Ft(a, 3), da(t, function(E, O, K) {
          Xa(v, O, a(E, O, K));
        }), v;
      }
      var _2 = bl(function(t, a, v) {
        al(t, a, v);
      }), Ch = bl(function(t, a, v, E) {
        al(t, a, v, E);
      }), x2 = Jo(function(t, a) {
        var v = {};
        if (t == null)
          return v;
        var E = !1;
        a = Q(a, function(K) {
          return K = zt(K, t), E || (E = K.length > 1), K;
        }), Nr(t, m0(t), v), E && (v = Pi(v, oe | _e | ue, pp));
        for (var O = a.length; O--; )
          hn(v, a[O]);
        return v;
      });
      function b2(t, a) {
        return Sh(t, ic(Ft(a)));
      }
      var C2 = Jo(function(t, a) {
        return t == null ? {} : Xu(t, a);
      });
      function Sh(t, a) {
        if (t == null)
          return {};
        var v = Q(m0(t), function(E) {
          return [E];
        });
        return a = Ft(a), su(t, v, function(E, O) {
          return a(E, O[0]);
        });
      }
      function S2(t, a, v) {
        a = zt(a, t);
        var E = -1, O = a.length;
        for (O || (O = 1, t = n); ++E < O; ) {
          var K = t == null ? n : t[go(a[E])];
          K === n && (E = O, K = v), t = ts(K) ? K.call(t) : K;
        }
        return t;
      }
      function w2(t, a, v) {
        return t == null ? t : se(t, a, v);
      }
      function T2(t, a, v, E) {
        return E = typeof E == "function" ? E : n, t == null ? t : se(t, a, v, E);
      }
      var wh = R1(zr), Th = R1(Ei);
      function k2(t, a, v) {
        var E = Zt(t), O = E || Ns(t) || wl(t);
        if (a = Ft(a, 4), v == null) {
          var K = t && t.constructor;
          O ? v = E ? new K() : [] : nr(t) ? v = ts(K) ? _r(ut(t)) : {} : v = {};
        }
        return (O ? A : da)(t, function(ae, he, xe) {
          return a(v, ae, he, xe);
        }), v;
      }
      function P2(t, a) {
        return t == null ? !0 : hn(t, a);
      }
      function I2(t, a, v) {
        return t == null ? t : br(t, a, Kt(v));
      }
      function E2(t, a, v, E) {
        return E = typeof E == "function" ? E : n, t == null ? t : br(t, a, Kt(v), E);
      }
      function Tl(t) {
        return t == null ? [] : ln(t, zr(t));
      }
      function L2(t) {
        return t == null ? [] : ln(t, Ei(t));
      }
      function A2(t, a, v) {
        return v === n && (v = a, a = n), v !== n && (v = va(v), v = v === v ? v : 0), a !== n && (a = va(a), a = a === a ? a : 0), Go(va(t), a, v);
      }
      function M2(t, a, v) {
        return a = ns(a), v === n ? (v = a, a = 0) : v = ns(v), t = va(t), Ru(t, a, v);
      }
      function D2(t, a, v) {
        if (v && typeof v != "boolean" && pi(t, a, v) && (a = v = n), v === n && (typeof a == "boolean" ? (v = a, a = n) : typeof t == "boolean" && (v = t, t = n)), t === n && a === n ? (t = 0, a = 1) : (t = ns(t), a === n ? (a = t, t = 0) : a = ns(a)), t > a) {
          var E = t;
          t = a, a = E;
        }
        if (v || t % 1 || a % 1) {
          var O = cn();
          return nn(t + O * (a - t + Ri("1e-" + ((O + "").length - 1))), a);
        }
        return P(t, a);
      }
      var F2 = Cl(function(t, a, v) {
        return a = a.toLowerCase(), t + (v ? kh(a) : a);
      });
      function kh(t) {
        return F0(kn(t).toLowerCase());
      }
      function Ph(t) {
        return t = kn(t), t && t.replace(Cs, Ar).replace(Vo, "");
      }
      function $2(t, a, v) {
        t = kn(t), a = Dt(a);
        var E = t.length;
        v = v === n ? E : Go(Gt(v), 0, E);
        var O = v;
        return v -= a.length, v >= 0 && t.slice(v, O) == a;
      }
      function R2(t) {
        return t = kn(t), t && Io.test(t) ? t.replace(fs, Mr) : t;
      }
      function O2(t) {
        return t = kn(t), t && gs.test(t) ? t.replace(Lo, "\\$&") : t;
      }
      var B2 = Cl(function(t, a, v) {
        return t + (v ? "-" : "") + a.toLowerCase();
      }), N2 = Cl(function(t, a, v) {
        return t + (v ? " " : "") + a.toLowerCase();
      }), z2 = L1("toLowerCase");
      function V2(t, a, v) {
        t = kn(t), a = Gt(a);
        var E = a ? Jr(t) : 0;
        if (!a || E >= a)
          return t;
        var O = (a - E) / 2;
        return Gu(Nt(O), v) + t + Gu(En(O), v);
      }
      function W2(t, a, v) {
        t = kn(t), a = Gt(a);
        var E = a ? Jr(t) : 0;
        return a && E < a ? t + Gu(a - E, v) : t;
      }
      function Y2(t, a, v) {
        t = kn(t), a = Gt(a);
        var E = a ? Jr(t) : 0;
        return a && E < a ? Gu(a - E, v) + t : t;
      }
      function X2(t, a, v) {
        return v || a == null ? a = 0 : a && (a = +a), Rr(kn(t).replace(mi, ""), a || 0);
      }
      function H2(t, a, v) {
        return (v ? pi(t, a, v) : a === n) ? a = 1 : a = Gt(a), N(kn(t), a);
      }
      function Z2() {
        var t = arguments, a = kn(t[0]);
        return t.length < 3 ? a : a.replace(t[1], t[2]);
      }
      var U2 = Cl(function(t, a, v) {
        return t + (v ? "_" : "") + a.toLowerCase();
      });
      function K2(t, a, v) {
        return v && typeof v != "number" && pi(t, a, v) && (a = v = n), v = v === n ? Tt : v >>> 0, v ? (t = kn(t), t && (typeof a == "string" || a != null && !A0(a)) && (a = Dt(a), !a && Jn(t)) ? dn($r(t), 0, v) : t.split(a, v)) : [];
      }
      var G2 = Cl(function(t, a, v) {
        return t + (v ? " " : "") + F0(a);
      });
      function j2(t, a, v) {
        return t = kn(t), v = v == null ? 0 : Go(Gt(v), 0, t.length), a = Dt(a), t.slice(v, v + a.length) == a;
      }
      function q2(t, a, v) {
        var E = X.templateSettings;
        v && pi(t, a, v) && (a = n), t = kn(t), a = sc({}, a, E, O1);
        var O = sc({}, a.imports, E.imports, O1), K = zr(O), ae = ln(O, K), he, xe, Ve = 0, Xe = a.interpolate || qr, Ge = "__p += '", mt = _(
          (a.escape || qr).source + "|" + Xe.source + "|" + (Xe === Eo ? _s : qr).source + "|" + (a.evaluate || qr).source + "|$",
          "g"
        ), kt = "//# sourceURL=" + (Y.call(a, "sourceURL") ? (a.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++la + "]") + `
`;
        t.replace(mt, function(Ot, sn, fn, Ui, vi, Ki) {
          return fn || (fn = Ui), Ge += t.slice(Ve, Ki).replace(Ss, di), sn && (he = !0, Ge += `' +
__e(` + sn + `) +
'`), vi && (xe = !0, Ge += `';
` + vi + `;
__p += '`), fn && (Ge += `' +
((__t = (` + fn + `)) == null ? '' : __t) +
'`), Ve = Ki + Ot.length, Ot;
        }), Ge += `';
`;
        var Rt = Y.call(a, "variable") && a.variable;
        if (!Rt)
          Ge = `with (obj) {
` + Ge + `
}
`;
        else if (ta.test(Rt))
          throw new i(M);
        Ge = (xe ? Ge.replace(hs, "") : Ge).replace(ko, "$1").replace(ds, "$1;"), Ge = "function(" + (Rt || "obj") + `) {
` + (Rt ? "" : `obj || (obj = {});
`) + "var __t, __p = ''" + (he ? ", __e = _.escape" : "") + (xe ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
` : `;
`) + Ge + `return __p
}`;
        var qt = Eh(function() {
          return u(K, kt + "return " + Ge).apply(n, ae);
        });
        if (qt.source = Ge, L0(qt))
          throw qt;
        return qt;
      }
      function Q2(t) {
        return kn(t).toLowerCase();
      }
      function J2(t) {
        return kn(t).toUpperCase();
      }
      function e9(t, a, v) {
        if (t = kn(t), t && (v || a === n))
          return ur(t);
        if (!t || !(a = Dt(a)))
          return t;
        var E = $r(t), O = $r(a), K = ir(E, O), ae = vr(E, O) + 1;
        return dn(E, K, ae).join("");
      }
      function t9(t, a, v) {
        if (t = kn(t), t && (v || a === n))
          return t.slice(0, ua(t) + 1);
        if (!t || !(a = Dt(a)))
          return t;
        var E = $r(t), O = vr(E, $r(a)) + 1;
        return dn(E, 0, O).join("");
      }
      function n9(t, a, v) {
        if (t = kn(t), t && (v || a === n))
          return t.replace(mi, "");
        if (!t || !(a = Dt(a)))
          return t;
        var E = $r(t), O = ir(E, $r(a));
        return dn(E, O).join("");
      }
      function r9(t, a) {
        var v = $e, E = gt;
        if (nr(a)) {
          var O = "separator" in a ? a.separator : O;
          v = "length" in a ? Gt(a.length) : v, E = "omission" in a ? Dt(a.omission) : E;
        }
        t = kn(t);
        var K = t.length;
        if (Jn(t)) {
          var ae = $r(t);
          K = ae.length;
        }
        if (v >= K)
          return t;
        var he = v - Jr(E);
        if (he < 1)
          return E;
        var xe = ae ? dn(ae, 0, he).join("") : t.slice(0, he);
        if (O === n)
          return xe + E;
        if (ae && (he += xe.length - he), A0(O)) {
          if (t.slice(he).search(O)) {
            var Ve, Xe = xe;
            for (O.global || (O = _(O.source, kn(rr.exec(O)) + "g")), O.lastIndex = 0; Ve = O.exec(Xe); )
              var Ge = Ve.index;
            xe = xe.slice(0, Ge === n ? he : Ge);
          }
        } else if (t.indexOf(Dt(O), he) != he) {
          var mt = xe.lastIndexOf(O);
          mt > -1 && (xe = xe.slice(0, mt));
        }
        return xe + E;
      }
      function i9(t) {
        return t = kn(t), t && ps.test(t) ? t.replace(Po, Zo) : t;
      }
      var a9 = Cl(function(t, a, v) {
        return t + (v ? " " : "") + a.toUpperCase();
      }), F0 = L1("toUpperCase");
      function Ih(t, a, v) {
        return t = kn(t), a = v ? n : a, a === n ? Oa(t) ? uo(t) : He(t) : t.match(a) || [];
      }
      var Eh = G(function(t, a) {
        try {
          return C(t, n, a);
        } catch (v) {
          return L0(v) ? v : new i(v);
        }
      }), o9 = Jo(function(t, a) {
        return A(a, function(v) {
          v = go(v), Xa(t, v, I0(t[v], t));
        }), t;
      });
      function s9(t) {
        var a = t == null ? 0 : t.length, v = Ft();
        return t = a ? Q(t, function(E) {
          if (typeof E[1] != "function")
            throw new k(T);
          return [v(E[0]), E[1]];
        }) : [], G(function(E) {
          for (var O = -1; ++O < a; ) {
            var K = t[O];
            if (C(K[0], this, E))
              return C(K[1], this, E);
          }
        });
      }
      function l9(t) {
        return a0(Pi(t, oe));
      }
      function $0(t) {
        return function() {
          return t;
        };
      }
      function u9(t, a) {
        return t == null || t !== t ? a : t;
      }
      var c9 = M1(), h9 = M1(!0);
      function Li(t) {
        return t;
      }
      function R0(t) {
        return ru(typeof t == "function" ? t : Pi(t, oe));
      }
      function d9(t) {
        return Yu(Pi(t, oe));
      }
      function f9(t, a) {
        return ou(t, Pi(a, oe));
      }
      var p9 = G(function(t, a) {
        return function(v) {
          return Os(v, t, a);
        };
      }), v9 = G(function(t, a) {
        return function(v) {
          return Os(t, v, a);
        };
      });
      function O0(t, a, v) {
        var E = zr(a), O = vl(a, E);
        v == null && !(nr(a) && (O.length || !E.length)) && (v = a, a = t, t = this, O = vl(a, zr(a)));
        var K = !(nr(v) && "chain" in v) || !!v.chain, ae = ts(t);
        return A(O, function(he) {
          var xe = a[he];
          t[he] = xe, ae && (t.prototype[he] = function() {
            var Ve = this.__chain__;
            if (K || Ve) {
              var Xe = t(this.__wrapped__), Ge = Xe.__actions__ = Cr(this.__actions__);
              return Ge.push({ func: xe, args: arguments, thisArg: t }), Xe.__chain__ = Ve, Xe;
            }
            return xe.apply(t, ne([this.value()], arguments));
          });
        }), t;
      }
      function g9() {
        return jn._ === this && (jn._ = ye), this;
      }
      function B0() {
      }
      function y9(t) {
        return t = Gt(t), G(function(a) {
          return ol(a, t);
        });
      }
      var m9 = v0(Q), _9 = v0(B), x9 = v0(me);
      function Lh(t) {
        return C0(t) ? Pt(go(t)) : p0(t);
      }
      function b9(t) {
        return function(a) {
          return t == null ? n : jo(t, a);
        };
      }
      var C9 = F1(), S9 = F1(!0);
      function N0() {
        return [];
      }
      function z0() {
        return !1;
      }
      function w9() {
        return {};
      }
      function T9() {
        return "";
      }
      function k9() {
        return !0;
      }
      function P9(t, a) {
        if (t = Gt(t), t < 1 || t > _n)
          return [];
        var v = Tt, E = nn(t, Tt);
        a = Ft(a), t -= Tt;
        for (var O = Yn(E, a); ++v < t; )
          a(v);
        return O;
      }
      function I9(t) {
        return Zt(t) ? Q(t, go) : Zi(t) ? [t] : Cr(j1(kn(t)));
      }
      function E9(t) {
        var a = ++te;
        return kn(t) + a;
      }
      var L9 = Ku(function(t, a) {
        return t + a;
      }, 0), A9 = g0("ceil"), M9 = Ku(function(t, a) {
        return t / a;
      }, 1), D9 = g0("floor");
      function F9(t) {
        return t && t.length ? pl(t, Li, tu) : n;
      }
      function $9(t, a) {
        return t && t.length ? pl(t, Ft(a, 2), tu) : n;
      }
      function R9(t) {
        return St(t, Li);
      }
      function O9(t, a) {
        return St(t, Ft(a, 2));
      }
      function B9(t) {
        return t && t.length ? pl(t, Li, au) : n;
      }
      function N9(t, a) {
        return t && t.length ? pl(t, Ft(a, 2), au) : n;
      }
      var z9 = Ku(function(t, a) {
        return t * a;
      }, 1), V9 = g0("round"), W9 = Ku(function(t, a) {
        return t - a;
      }, 0);
      function Y9(t) {
        return t && t.length ? Jt(t, Li) : 0;
      }
      function X9(t, a) {
        return t && t.length ? Jt(t, Ft(a, 2)) : 0;
      }
      return X.after = dg, X.ary = sh, X.assign = Jg, X.assignIn = bh, X.assignInWith = sc, X.assignWith = e2, X.at = t2, X.before = lh, X.bind = I0, X.bindAll = o9, X.bindKey = uh, X.castArray = wg, X.chain = ih, X.chunk = Dp, X.compact = Fp, X.concat = $p, X.cond = s9, X.conforms = l9, X.constant = $0, X.countBy = Yv, X.create = n2, X.curry = ch, X.curryRight = hh, X.debounce = dh, X.defaults = r2, X.defaultsDeep = i2, X.defer = fg, X.delay = pg, X.difference = Rp, X.differenceBy = Op, X.differenceWith = Bp, X.drop = Np, X.dropRight = zp, X.dropRightWhile = Vp, X.dropWhile = Wp, X.fill = Yp, X.filter = Hv, X.flatMap = Kv, X.flatMapDeep = Gv, X.flatMapDepth = jv, X.flatten = eh, X.flattenDeep = Xp, X.flattenDepth = Hp, X.flip = vg, X.flow = c9, X.flowRight = h9, X.fromPairs = Zp, X.functions = h2, X.functionsIn = d2, X.groupBy = qv, X.initial = Kp, X.intersection = Gp, X.intersectionBy = jp, X.intersectionWith = qp, X.invert = p2, X.invertBy = v2, X.invokeMap = Jv, X.iteratee = R0, X.keyBy = eg, X.keys = zr, X.keysIn = Ei, X.map = tc, X.mapKeys = y2, X.mapValues = m2, X.matches = d9, X.matchesProperty = f9, X.memoize = rc, X.merge = _2, X.mergeWith = Ch, X.method = p9, X.methodOf = v9, X.mixin = O0, X.negate = ic, X.nthArg = y9, X.omit = x2, X.omitBy = b2, X.once = gg, X.orderBy = tg, X.over = m9, X.overArgs = yg, X.overEvery = _9, X.overSome = x9, X.partial = E0, X.partialRight = fh, X.partition = ng, X.pick = C2, X.pickBy = Sh, X.property = Lh, X.propertyOf = b9, X.pull = tv, X.pullAll = nh, X.pullAllBy = nv, X.pullAllWith = rv, X.pullAt = iv, X.range = C9, X.rangeRight = S9, X.rearg = mg, X.reject = ag, X.remove = av, X.rest = _g, X.reverse = k0, X.sampleSize = sg, X.set = w2, X.setWith = T2, X.shuffle = lg, X.slice = ov, X.sortBy = hg, X.sortedUniq = fv, X.sortedUniqBy = pv, X.split = K2, X.spread = xg, X.tail = vv, X.take = gv, X.takeRight = yv, X.takeRightWhile = mv, X.takeWhile = _v, X.tap = Fv, X.throttle = bg, X.thru = ec, X.toArray = mh, X.toPairs = wh, X.toPairsIn = Th, X.toPath = I9, X.toPlainObject = xh, X.transform = k2, X.unary = Cg, X.union = xv, X.unionBy = bv, X.unionWith = Cv, X.uniq = Sv, X.uniqBy = wv, X.uniqWith = Tv, X.unset = P2, X.unzip = P0, X.unzipWith = rh, X.update = I2, X.updateWith = E2, X.values = Tl, X.valuesIn = L2, X.without = kv, X.words = Ih, X.wrap = Sg, X.xor = Pv, X.xorBy = Iv, X.xorWith = Ev, X.zip = Lv, X.zipObject = Av, X.zipObjectDeep = Mv, X.zipWith = Dv, X.entries = wh, X.entriesIn = Th, X.extend = bh, X.extendWith = sc, O0(X, X), X.add = L9, X.attempt = Eh, X.camelCase = F2, X.capitalize = kh, X.ceil = A9, X.clamp = A2, X.clone = Tg, X.cloneDeep = Pg, X.cloneDeepWith = Ig, X.cloneWith = kg, X.conformsTo = Eg, X.deburr = Ph, X.defaultTo = u9, X.divide = M9, X.endsWith = $2, X.eq = Ua, X.escape = R2, X.escapeRegExp = O2, X.every = Xv, X.find = Zv, X.findIndex = Q1, X.findKey = a2, X.findLast = Uv, X.findLastIndex = J1, X.findLastKey = o2, X.floor = D9, X.forEach = ah, X.forEachRight = oh, X.forIn = s2, X.forInRight = l2, X.forOwn = u2, X.forOwnRight = c2, X.get = M0, X.gt = Lg, X.gte = Ag, X.has = f2, X.hasIn = D0, X.head = th, X.identity = Li, X.includes = Qv, X.indexOf = Up, X.inRange = M2, X.invoke = g2, X.isArguments = ul, X.isArray = Zt, X.isArrayBuffer = Mg, X.isArrayLike = Ii, X.isArrayLikeObject = hr, X.isBoolean = Dg, X.isBuffer = Ns, X.isDate = Fg, X.isElement = $g, X.isEmpty = Rg, X.isEqual = Og, X.isEqualWith = Bg, X.isError = L0, X.isFinite = Ng, X.isFunction = ts, X.isInteger = ph, X.isLength = ac, X.isMap = vh, X.isMatch = zg, X.isMatchWith = Vg, X.isNaN = Wg, X.isNative = Yg, X.isNil = Hg, X.isNull = Xg, X.isNumber = gh, X.isObject = nr, X.isObjectLike = sr, X.isPlainObject = fu, X.isRegExp = A0, X.isSafeInteger = Zg, X.isSet = yh, X.isString = oc, X.isSymbol = Zi, X.isTypedArray = wl, X.isUndefined = Ug, X.isWeakMap = Kg, X.isWeakSet = Gg, X.join = Qp, X.kebabCase = B2, X.last = pa, X.lastIndexOf = Jp, X.lowerCase = N2, X.lowerFirst = z2, X.lt = jg, X.lte = qg, X.max = F9, X.maxBy = $9, X.mean = R9, X.meanBy = O9, X.min = B9, X.minBy = N9, X.stubArray = N0, X.stubFalse = z0, X.stubObject = w9, X.stubString = T9, X.stubTrue = k9, X.multiply = z9, X.nth = ev, X.noConflict = g9, X.noop = B0, X.now = nc, X.pad = V2, X.padEnd = W2, X.padStart = Y2, X.parseInt = X2, X.random = D2, X.reduce = rg, X.reduceRight = ig, X.repeat = H2, X.replace = Z2, X.result = S2, X.round = V9, X.runInContext = ge, X.sample = og, X.size = ug, X.snakeCase = U2, X.some = cg, X.sortedIndex = sv, X.sortedIndexBy = lv, X.sortedIndexOf = uv, X.sortedLastIndex = cv, X.sortedLastIndexBy = hv, X.sortedLastIndexOf = dv, X.startCase = G2, X.startsWith = j2, X.subtract = W9, X.sum = Y9, X.sumBy = X9, X.template = q2, X.times = P9, X.toFinite = ns, X.toInteger = Gt, X.toLength = _h, X.toLower = Q2, X.toNumber = va, X.toSafeInteger = Qg, X.toString = kn, X.toUpper = J2, X.trim = e9, X.trimEnd = t9, X.trimStart = n9, X.truncate = r9, X.unescape = i9, X.uniqueId = E9, X.upperCase = a9, X.upperFirst = F0, X.each = ah, X.eachRight = oh, X.first = th, O0(X, function() {
        var t = {};
        return da(X, function(a, v) {
          Y.call(X.prototype, v) || (t[v] = a);
        }), t;
      }(), { chain: !1 }), X.VERSION = y, A(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(t) {
        X[t].placeholder = X;
      }), A(["drop", "take"], function(t, a) {
        jt.prototype[t] = function(v) {
          v = v === n ? 1 : tn(Gt(v), 0);
          var E = this.__filtered__ && !a ? new jt(this) : this.clone();
          return E.__filtered__ ? E.__takeCount__ = nn(v, E.__takeCount__) : E.__views__.push({
            size: nn(v, Tt),
            type: t + (E.__dir__ < 0 ? "Right" : "")
          }), E;
        }, jt.prototype[t + "Right"] = function(v) {
          return this.reverse()[t](v).reverse();
        };
      }), A(["filter", "map", "takeWhile"], function(t, a) {
        var v = a + 1, E = v == ft || v == Le;
        jt.prototype[t] = function(O) {
          var K = this.clone();
          return K.__iteratees__.push({
            iteratee: Ft(O, 3),
            type: v
          }), K.__filtered__ = K.__filtered__ || E, K;
        };
      }), A(["head", "last"], function(t, a) {
        var v = "take" + (a ? "Right" : "");
        jt.prototype[t] = function() {
          return this[v](1).value()[0];
        };
      }), A(["initial", "tail"], function(t, a) {
        var v = "drop" + (a ? "" : "Right");
        jt.prototype[t] = function() {
          return this.__filtered__ ? new jt(this) : this[v](1);
        };
      }), jt.prototype.compact = function() {
        return this.filter(Li);
      }, jt.prototype.find = function(t) {
        return this.filter(t).head();
      }, jt.prototype.findLast = function(t) {
        return this.reverse().find(t);
      }, jt.prototype.invokeMap = G(function(t, a) {
        return typeof t == "function" ? new jt(this) : this.map(function(v) {
          return Os(v, t, a);
        });
      }), jt.prototype.reject = function(t) {
        return this.filter(ic(Ft(t)));
      }, jt.prototype.slice = function(t, a) {
        t = Gt(t);
        var v = this;
        return v.__filtered__ && (t > 0 || a < 0) ? new jt(v) : (t < 0 ? v = v.takeRight(-t) : t && (v = v.drop(t)), a !== n && (a = Gt(a), v = a < 0 ? v.dropRight(-a) : v.take(a - t)), v);
      }, jt.prototype.takeRightWhile = function(t) {
        return this.reverse().takeWhile(t).reverse();
      }, jt.prototype.toArray = function() {
        return this.take(Tt);
      }, da(jt.prototype, function(t, a) {
        var v = /^(?:filter|find|map|reject)|While$/.test(a), E = /^(?:head|last)$/.test(a), O = X[E ? "take" + (a == "last" ? "Right" : "") : a], K = E || /^find/.test(a);
        O && (X.prototype[a] = function() {
          var ae = this.__wrapped__, he = E ? [1] : arguments, xe = ae instanceof jt, Ve = he[0], Xe = xe || Zt(ae), Ge = function(sn) {
            var fn = O.apply(X, ne([sn], he));
            return E && mt ? fn[0] : fn;
          };
          Xe && v && typeof Ve == "function" && Ve.length != 1 && (xe = Xe = !1);
          var mt = this.__chain__, kt = !!this.__actions__.length, Rt = K && !mt, qt = xe && !kt;
          if (!K && Xe) {
            ae = qt ? ae : new jt(this);
            var Ot = t.apply(ae, he);
            return Ot.__actions__.push({ func: ec, args: [Ge], thisArg: n }), new Rn(Ot, mt);
          }
          return Rt && qt ? t.apply(this, he) : (Ot = this.thru(Ge), Rt ? E ? Ot.value()[0] : Ot.value() : Ot);
        });
      }), A(["pop", "push", "shift", "sort", "splice", "unshift"], function(t) {
        var a = I[t], v = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru", E = /^(?:pop|shift)$/.test(t);
        X.prototype[t] = function() {
          var O = arguments;
          if (E && !this.__chain__) {
            var K = this.value();
            return a.apply(Zt(K) ? K : [], O);
          }
          return this[v](function(ae) {
            return a.apply(Zt(ae) ? ae : [], O);
          });
        };
      }), da(jt.prototype, function(t, a) {
        var v = X[a];
        if (v) {
          var E = v.name + "";
          Y.call(Ni, E) || (Ni[E] = []), Ni[E].push({ name: a, func: v });
        }
      }), Ni[Uu(n, Ce).name] = [{
        name: "wrapper",
        func: n
      }], jt.prototype.clone = fl, jt.prototype.reverse = ca, jt.prototype.value = Hl, X.prototype.at = $v, X.prototype.chain = Rv, X.prototype.commit = Ov, X.prototype.next = Bv, X.prototype.plant = zv, X.prototype.reverse = Vv, X.prototype.toJSON = X.prototype.valueOf = X.prototype.value = Wv, X.prototype.first = X.prototype.head, wt && (X.prototype[wt] = Nv), X;
    }, er = Va();
    Hr ? ((Hr.exports = er)._ = er, Ra._ = er) : jn._ = er;
  }).call(ya);
})(Tc, Tc.exports);
var mn = Tc.exports;
const vd = /* @__PURE__ */ Rc(mn), [Gi, Hf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#00698b",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#00698b"
  }
}), [ji, Zf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#00698b",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#00698b"
  }
}), [qi, Uf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#00698b",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#00698b"
  }
}), [oi, Kf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#fb7b50",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#fb7b50"
  }
}), [_o, Gf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#fb7b50",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#fb7b50"
  }
}), [xo, jf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#fb7b50",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#fb7b50"
  }
}), [an, qf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#00698b",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#00698b"
  }
}), [gn, Qf] = Ae({
  lineStyle: {
    style: "dashed",
    size: 1,
    color: "#fb7b50",
    dashedValue: [4, 4]
  },
  labelStyle: {
    style: "fill",
    size: 12,
    family: "Helvetica Neue",
    weight: "normal",
    paddingLeft: 5,
    paddingRight: 5,
    paddingBottom: 5,
    paddingTop: 5,
    borderStyle: "solid",
    borderSize: 1,
    color: "#FFFFFF",
    borderColor: "#00698b",
    backgroundColor: "#fb7b50"
  }
}), Sb = {
  color: "#1677FF",
  borderColor: "rgba(22, 119, 255, 0.35)",
  borderSize: 1,
  radius: 5,
  activeColor: "#1677FF",
  activeBorderColor: "rgba(22, 119, 255, 0.35)",
  activeBorderSize: 3,
  activeRadius: 5
}, wb = {
  // 'fill' | 'stroke' | 'stroke_fill'
  style: "fill",
  color: "#FFFFFF",
  size: 12,
  family: "Helvetica Neue",
  weight: "normal",
  // 'solid' | 'dashed'
  borderStyle: "solid",
  borderDashedValue: [2, 2],
  borderSize: 0,
  borderRadius: 2,
  borderColor: "#1677FF",
  paddingLeft: 0,
  paddingRight: 0,
  paddingTop: 0,
  paddingBottom: 0,
  backgroundColor: "transparent"
}, k1 = {
  // 'fill' | 'stroke' | 'stroke_fill'
  style: "fill",
  color: "rgba(22, 119, 255, 0.25)",
  borderColor: "#1677FF",
  borderSize: 1,
  // 'solid' | 'dashed'
  borderStyle: "solid",
  borderDashedValue: [2, 2]
}, Jf = k1;
({
  ...k1
});
const ep = {
  // 'solid' | 'dashed'
  style: "solid",
  color: "#1677FF",
  size: 1,
  dashedValue: [2, 2]
}, Qa = {
  ...ep,
  smooth: !1
}, [Tb, kb] = Ae({
  point: Sb
}), [Pb, Ib] = Ae({
  line: Qa
}), [Eb, Lb] = Ae({
  line: Qa
}), [Ab, Mb] = Ae({
  line: Qa
}), [Db, Fb] = Ae({
  line: Qa
}), [$b, Rb] = Ae({
  line: Qa
}), [Ob, Bb] = Ae({
  line: Qa
}), [Nb, zb] = Ae({
  line: Qa
}), [Vb, Wb] = Ae({
  line: Qa
}), [Yb, Xb] = Ae({
  line: Qa
}), [Hb, Zb] = Ae({
  line: Qa
}), [Ub, Kb] = Ae({
  line: Qa
}), [Gb, jb] = Ae({
  polygon: Jf
}), [qb, Qb] = Ae({
  polygon: Jf
}), [Jb, eC] = Ae({
  circle: k1
}), [tC, nC] = Ae({
  arc: ep
}), [rC, iC] = Ae({
  text: wb
}), El = {
  pointStyle: Tb,
  horizontalStraightLineStyle: Pb,
  horizontalRayLineStyle: Ab,
  horizontalSegmentStyle: Eb,
  verticalStraightLineStyle: Ob,
  verticalRayLineStyle: Db,
  verticalSegmentStyle: $b,
  straightLineStyle: Ub,
  rayLineStyle: Nb,
  segmentStyle: Vb,
  arrowStyle: Yb,
  priceLineStyle: Hb,
  rectStyle: Gb,
  polygonStyle: qb,
  circleStyle: Jb,
  arcStyle: tC,
  textStyle: rC
}, gd = {
  setpointStyle: (e) => kb(e),
  sethorizontalStraightLineStyle: (e) => Ib(e),
  sethorizontalRayLineStyle: (e) => Mb(e),
  sethorizontalSegmentStyle: (e) => Lb(e),
  setverticalStraightLineStyle: (e) => Bb(e),
  setverticalRayLineStyle: (e) => Fb(e),
  setverticalSegmentStyle: (e) => Rb(e),
  setstraightLineStyle: (e) => Kb(e),
  setrayLineStyle: (e) => zb(e),
  setsegmentStyle: (e) => Wb(e),
  setarrowStyle: (e) => Xb(e),
  setpriceLineStyle: (e) => Zb(e),
  setrectStyle: (e) => jb(e),
  setpolygonStyle: (e) => Qb(e),
  setcircleStyle: (e) => eC(e),
  setarcStyle: (e) => nC(e),
  settextStyle: (e) => iC(e)
}, [Cu, kc] = Ae([""]), [Pc, Ic] = Ae({}), [tp, Vs] = Ae(!1), [a1, yd] = Ae(""), [o1, aC] = Ae(!1), [hc, Pu] = Ae(!1), [as, s1] = Ae(1), [Fl, oC] = Ae(), yu = () => {
  var e;
  (e = At()) == null || e.resize();
}, np = () => {
  (async () => {
    var S;
    clearInterval(Rk()), Fl().unsubscribe();
    const f = async (T, M, z) => {
      let H = 0, ee = 0;
      if (T && M !== void 0)
        for (; H < T.length; )
          T[H].pl !== null && T[H].pips !== null && (ee = +ee + +T[H].pl, await z.modifyOrder({
            id: T[H].orderId,
            //in a real application this should be calculated on backend
            pips: T[H].pips,
            //in a real application this should be calculated on backend
            pl: T[H].pips * T[H].lotSize * M.dollarPerPip
          }), await new Promise((oe) => setTimeout(oe, 500))), H++;
      return ee;
    }, n = async (T, M, z) => {
      var ee, oe;
      const H = +T.current_bal + +M;
      T && await (z == null ? void 0 : z.updateSession({
        id: T.id,
        current_bal: T.current_bal,
        equity: H,
        chart_timestamp: vc(),
        chart: localStorage.getItem(`chartstatedata_${(ee = Ln()) == null ? void 0 : ee.id}`) != null && tp() ? btoa(localStorage.getItem(`chartstatedata_${(oe = Ln()) == null ? void 0 : oe.id}`)) : void 0
      }));
    }, y = pn().filter((T) => (T.action == "buy" || T.action == "sell") && !T.exitType && !T.exitPoint);
    let b = await f(y, Kr(), os());
    await n(Ln(), b, Ac()), sp(null), Ie.dispose(Fk()), await new Promise((T) => setTimeout(T, 500)), window.location.href = (S = Ac()) != null && S.isNotGuest() ? "/dashboard" : "/";
  })();
}, sC = (e) => {
  const f = [
    "calc",
    "figures",
    "regenerateFigures",
    "draw",
    "createTooltipDataSource"
  ];
  let n = e;
  return f.forEach((y) => {
    delete n[y];
  }), n;
}, lC = (e) => {
  const f = [
    "onDrawStart",
    "onDrawing",
    "onDrawEnd",
    "onClick",
    "onDoubleClick",
    "onRightClick",
    "onMouseEnter",
    "onMouseLeave",
    "onPressedMoveStart",
    "onPressedMoving",
    "onPressedMoveEnd",
    "onRemoved",
    "onSelected",
    "onDeselected",
    "performEventMoveForDrawing",
    "performEventPressedMove",
    "_prevPressedPoint",
    "_prevPressedPoints",
    "createPointFigures",
    "createXAxisFigures",
    "createYAxisFigures"
  ];
  let n = e;
  return f.forEach((y) => {
    delete n[y];
  }), n;
}, Zc = () => {
  const e = (oe, _e, ue) => {
    var Ce, ke;
    const ve = localStorage.getItem(`chartstatedata_${(Ce = Ln()) == null ? void 0 : Ce.id}`);
    let le;
    const re = sC(vd.cloneDeep(oe));
    return ve ? (le = JSON.parse(ve), le.indicators ? le.indicators.find((Ee) => {
      var De, Qe;
      return ((De = Ee.value) == null ? void 0 : De.name) === re.name && ((Qe = Ee.paneOptions) == null ? void 0 : Qe.id) === (ue == null ? void 0 : ue.id);
    }) ? le.indicators = le.indicators.map((Ee) => {
      var De;
      return ((De = Ee.value) == null ? void 0 : De.id) !== re.id ? Ee : {
        value: re,
        isStack: _e,
        paneOptions: ue
      };
    }) : le.indicators.push({
      value: re,
      isStack: _e,
      paneOptions: ue
    }) : le.indicators = [{
      value: re,
      isStack: _e,
      paneOptions: ue
    }]) : le = {
      indicators: [{
        value: re,
        isStack: _e,
        paneOptions: ue
      }]
    }, localStorage.setItem(`chartstatedata_${(ke = Ln()) == null ? void 0 : ke.id}`, JSON.stringify(le)), Vs(!0), !1;
  }, f = (oe) => {
    var le, re;
    const _e = localStorage.getItem(`chartstatedata_${(le = Ln()) == null ? void 0 : le.id}`);
    let ue;
    const ve = lC(vd.cloneDeep(oe));
    return _e ? (ue = JSON.parse(_e), ue.overlays ? ue.overlays.find((Ce) => {
      var ke;
      return ((ke = Ce.value) == null ? void 0 : ke.id) === ve.id;
    }) ? ue.overlays = ue.overlays.map((Ce) => {
      var ke;
      return ((ke = Ce.value) == null ? void 0 : ke.id) !== ve.id ? Ce : {
        value: ve,
        paneId: oe.paneId
      };
    }) : ue.overlays.push({
      value: ve,
      paneId: oe.paneId
    }) : ue.overlays = [{
      value: oe,
      paneId: oe.paneId
    }]) : ue = {
      overlays: [{
        value: ve,
        paneId: oe.paneId
      }]
    }, localStorage.setItem(`chartstatedata_${(re = Ln()) == null ? void 0 : re.id}`, JSON.stringify(ue)), Vs(!0), !1;
  };
  function n(oe, _e, ue, ve, le = !1) {
    _e === "VOL" && (ve = { gap: { bottom: 2 }, ...ve });
    const re = (oe == null ? void 0 : oe.createIndicator({
      name: _e,
      // @ts-expect-error
      createTooltipDataSource: ({ indicator: Ce, defaultStyles: ke }) => {
        const Ee = [];
        return Ce.visible ? (Ee.push(ke.tooltip.icons[1]), Ee.push(ke.tooltip.icons[2]), Ee.push(ke.tooltip.icons[3])) : (Ee.push(ke.tooltip.icons[0]), Ee.push(ke.tooltip.icons[2]), Ee.push(ke.tooltip.icons[3])), { icons: Ee };
      }
    }, ue, ve)) ?? null;
    if (re && le) {
      const Ce = oe == null ? void 0 : oe.getIndicatorByPaneId(re, _e);
      Ce && e(Ce, ue, { id: re });
    }
    return re;
  }
  const y = (oe, _e, ue = !1) => {
    var re, Ce, ke, Ee;
    const ve = (re = At()) == null ? void 0 : re.createOverlay(oe, _e), le = (Ce = At()) == null ? void 0 : Ce.getOverlayById(ve);
    if (le) {
      const De = !ue && El[`${le.name}Style`] ? El[`${le.name}Style`]() : void 0;
      (ke = At()) == null || ke.overrideOverlay({
        id: le.id,
        styles: oe.styles ?? De,
        onDrawEnd: (Qe) => f(Qe.overlay),
        onPressedMoveEnd: (Qe) => f(Qe.overlay),
        onRightClick: (Qe) => Ll() ? (b(Qe.overlay.id), !0) : (Un().openPopup(Qe, { overlayType: Qe.overlay.name }), !0)
      }), ue || f((Ee = At()) == null ? void 0 : Ee.getOverlayById(ve));
    }
  }, b = (oe) => {
    var ue, ve, le, re;
    const _e = localStorage.getItem(`chartstatedata_${(ue = Ln()) == null ? void 0 : ue.id}`);
    if (_e) {
      let Ce = JSON.parse(_e);
      Ce.overlays = (ve = Ce.overlays) == null ? void 0 : ve.filter((ke) => {
        var Ee;
        return ((Ee = ke.value) == null ? void 0 : Ee.id) !== oe;
      }), localStorage.setItem(`chartstatedata_${(le = Ln()) == null ? void 0 : le.id}`, JSON.stringify(Ce)), Vs(!0);
    }
    (re = At()) == null || re.removeOverlay(oe);
  }, S = (oe) => {
    const _e = [...Cu()];
    oe.added ? (n(At(), oe.name, !0, { id: "candle_pane" }, !0), _e.push(oe.name)) : (z(oe.name, "candle_pane"), _e.splice(_e.indexOf(oe.name), 1)), kc(_e);
  }, T = (oe) => {
    const _e = { ...Pc() };
    if (oe.added) {
      const ue = n(At(), oe.name, !1, void 0, !0);
      ue && (_e[oe.name] = ue);
    } else
      oe.paneId && (z(oe.name, oe.paneId), delete _e[oe.name]);
    Ic(_e);
  }, M = (oe, _e) => {
    var ve, le, re, Ce;
    const ue = localStorage.getItem(`chartstatedata_${(ve = Ln()) == null ? void 0 : ve.id}`);
    if (ue) {
      let ke = JSON.parse(ue);
      ke.indicators = (le = ke.indicators) == null ? void 0 : le.map((Ee) => {
        var De;
        return ((De = Ee.value) == null ? void 0 : De.name) === oe.indicatorName && (Ee.value.name = oe.indicatorName, Ee.value.calcParams = _e, Ee.paneOptions.id = oe.paneId), Ee;
      }), localStorage.setItem(`chartstatedata_${(re = Ln()) == null ? void 0 : re.id}`, JSON.stringify(ke)), Vs(!0), (Ce = At()) == null || Ce.overrideIndicator({ name: oe.indicatorName, calcParams: _e }, oe.paneId);
    }
  }, z = (oe, _e) => {
    var ve, le, re, Ce;
    const ue = localStorage.getItem(`chartstatedata_${(ve = Ln()) == null ? void 0 : ve.id}`);
    if ((le = At()) == null || le.removeIndicator(_e, oe), ue) {
      let ke = JSON.parse(ue);
      ke.indicators = (re = ke.indicators) == null ? void 0 : re.filter((Ee) => {
        var De, Qe;
        return ((De = Ee.paneOptions) == null ? void 0 : De.id) !== _e && ((Qe = Ee.value) == null ? void 0 : Qe.name) !== oe;
      }), localStorage.setItem(`chartstatedata_${(Ce = Ln()) == null ? void 0 : Ce.id}`, JSON.stringify(ke)), Vs(!0);
    }
  };
  return { createIndicator: n, modifyIndicator: M, popIndicator: z, syncIndiObject: e, syncObject: f, pushOverlay: y, popOverlay: b, pushMainIndicator: S, pushSubIndicator: T, redrawOrders: async () => {
    let oe = await os().retrieveOrders();
    oe && (Ai(oe), oe.forEach((_e) => {
      _e.exitType || Dl(_e);
    }));
  }, redraOverlaysIndiAndFigs: async () => {
    var ue, ve, le, re, Ce;
    const oe = (ke) => {
      var De;
      const Ee = JSON.parse(ke);
      if (Ee.figures, Ee.overlays && Ee.overlays.forEach((Qe) => {
        y(Qe.value, Qe.paneId, !0);
      }), Ee.indicators && setTimeout(() => {
        const Qe = [...Cu()], et = { ...Pc };
        Ee.indicators.forEach((xt) => {
          var at, We, $e;
          xt.value && ((at = At()) == null || at.createIndicator(xt.value, xt.isStack, xt.paneOptions), ((We = xt.paneOptions) == null ? void 0 : We.id) === "candle_pane" ? Qe.push(xt.value.name) : et[xt.value.name] = ($e = xt.paneOptions) == null ? void 0 : $e.id);
        }), kc(Qe), Ic(et);
      }, 500), Ee.styleObj && ((De = At()) == null || De.setStyles(Ee.styleObj)), Ee.orderStyles) {
        const Qe = Ee.orderStyles;
        uC(Qe);
      }
    };
    if ((ue = Ln()) != null && ue.chart) {
      let ke = atob((ve = Ln()) == null ? void 0 : ve.chart);
      if (ke)
        return ke !== localStorage.getItem(`chartstatedata_${(le = Ln()) == null ? void 0 : le.id}`) && localStorage.setItem(`chartstatedata_${(re = Ln()) == null ? void 0 : re.id}`, ke), oe(ke);
    }
    const _e = localStorage.getItem(`chartstatedata_${(Ce = Ln()) == null ? void 0 : Ce.id}`);
    _e && oe(_e);
  } };
}, uC = (e) => {
  e.buyStyle && Hf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.buyStyle) != null && y.lineStyle)
      for (const S in e.buyStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.buyStyle.lineStyle[S]);
    if ((b = e.buyStyle) != null && b.labelStyle)
      for (const S in e.buyStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.buyStyle.labelStyle[S]);
    return n;
  }), e.buyLimitStyle && Zf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.buyLimitStyle) != null && y.lineStyle)
      for (const S in e.buyLimitStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.buyLimitStyle.lineStyle[S]);
    if ((b = e.buyLimitStyle) != null && b.labelStyle)
      for (const S in e.buyLimitStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.buyLimitStyle.labelStyle[S]);
    return n;
  }), e.buyStopStyle && Uf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.buyStopStyle) != null && y.lineStyle)
      for (const S in e.buyStopStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.buyStopStyle.lineStyle[S]);
    if ((b = e.buyStopStyle) != null && b.labelStyle)
      for (const S in e.buyStopStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.buyStopStyle.labelStyle[S]);
    return n;
  }), e.sellStyle && Kf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.sellStyle) != null && y.lineStyle)
      for (const S in e.sellStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.sellStyle.lineStyle[S]);
    if ((b = e.sellStyle) != null && b.labelStyle)
      for (const S in e.sellStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.sellStyle.labelStyle[S]);
    return n;
  }), e.sellLimitStyle && Gf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.sellLimitStyle) != null && y.lineStyle)
      for (const S in e.sellLimitStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.sellLimitStyle.lineStyle[S]);
    if ((b = e.sellLimitStyle) != null && b.labelStyle)
      for (const S in e.sellLimitStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.sellLimitStyle.labelStyle[S]);
    return n;
  }), e.sellStopStyle && jf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.sellStopStyle) != null && y.lineStyle)
      for (const S in e.sellStopStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.sellStopStyle.lineStyle[S]);
    if ((b = e.sellStopStyle) != null && b.labelStyle)
      for (const S in e.sellStopStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.sellStopStyle.labelStyle[S]);
    return n;
  }), e.stopLossStyle && Qf((f) => {
    var y, b;
    const n = mn.cloneDeep(f);
    if ((y = e.stopLossStyle) != null && y.lineStyle)
      for (const S in e.stopLossStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.stopLossStyle.lineStyle[S]);
    if ((b = e.stopLossStyle) != null && b.labelStyle)
      for (const S in e.stopLossStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.stopLossStyle.labelStyle[S]);
    return n;
  }), e.takeProfitStyle && qf((f) => {
    var y, b;
    const n = mn.cloneDeep(an());
    if ((y = e.takeProfitStyle) != null && y.lineStyle)
      for (const S in e.takeProfitStyle.lineStyle)
        S !== void 0 && mn.set(n, `lineStyle.${S}`, e.takeProfitStyle.lineStyle[S]);
    if ((b = e.takeProfitStyle) != null && b.labelStyle)
      for (const S in e.takeProfitStyle.labelStyle)
        S !== void 0 && mn.set(n, `labelStyle.${S}`, e.takeProfitStyle.labelStyle[S]);
    return n;
  });
}, cC = "", hC = "", dC = "", fC = "", pC = "", vC = "", gC = "", yC = "", mC = "", _C = "", xC = "", bC = "MA()", CC = "EMA()", SC = "SMA", wC = "BOLL()", TC = "BBI()", kC = "SAR()", PC = "VOL()", IC = "MACD()", EC = "KDJ()", LC = "RSI()", AC = "BIAS()", MC = "BRAR()", DC = "CCI()", FC = "DMI()", $C = "CR()", RC = "PSY()", OC = "DMA()", BC = "TRIX()", NC = "OBV()", zC = "VR()", VC = "WR()", WC = "MTM()", YC = "EMV()", XC = "ROC()", HC = "PVT()", ZC = "AO()", UC = "", KC = "(UTC-10) ", GC = "(UTC-8) ", jC = "(UTC-7) ", qC = "(UTC-5) ", QC = "(UTC-4) ", JC = "(UTC-3) ", eS = "(UTC+1) ", tS = "(UTC+2) ", nS = "(UTC+3) ", rS = "(UTC+4) ", iS = "(UTC+5) ", aS = "(UTC+6) ", oS = "(UTC+7) ", sS = "(UTC+8) ", lS = "(UTC+9) ", uS = "(UTC+10) ", cS = "(UTC+12) ", hS = "", dS = "", fS = "", pS = "", vS = "", gS = "", yS = "", mS = "", _S = "", xS = "", bS = "", CS = "", SS = "", wS = "", TS = "", kS = "", PS = "", IS = "", ES = "", LS = "", AS = "", MS = "", DS = "", FS = "", $S = "", RS = "", OS = "", BS = "", NS = "ABCD", zS = "XABCD", VS = "", WS = "", YS = "", XS = "", HS = "1", ZS = "2", US = "3", KS = "4", GS = "5", jS = "", qS = "", QS = "", JS = "", ew = "", tw = "", nw = "", rw = "OHLC", iw = "", aw = "", ow = "", sw = "", lw = "", uw = "", cw = "", hw = "", dw = "", fw = "", pw = "", vw = "", gw = {
  indicator: cC,
  main_indicator: hC,
  sub_indicator: dC,
  setting: fC,
  timezone: pC,
  screenshot: vC,
  full_screen: gC,
  exit_full_screen: yC,
  save: mC,
  confirm: _C,
  cancel: xC,
  ma: bC,
  ema: CC,
  sma: SC,
  boll: wC,
  bbi: TC,
  sar: kC,
  vol: PC,
  macd: IC,
  kdj: EC,
  rsi: LC,
  bias: AC,
  brar: MC,
  cci: DC,
  dmi: FC,
  cr: $C,
  psy: RC,
  dma: OC,
  trix: BC,
  obv: NC,
  vr: zC,
  wr: VC,
  mtm: WC,
  emv: YC,
  roc: XC,
  pvt: HC,
  ao: ZC,
  utc: UC,
  honolulu: KC,
  juneau: GC,
  los_angeles: jC,
  chicago: qC,
  toronto: QC,
  sao_paulo: JC,
  london: eS,
  berlin: tS,
  bahrain: nS,
  dubai: rS,
  ashkhabad: iS,
  almaty: aS,
  bangkok: oS,
  shanghai: sS,
  tokyo: lS,
  sydney: uS,
  norfolk: cS,
  horizontal_straight_line: hS,
  horizontal_ray_line: dS,
  horizontal_segment: fS,
  vertical_straight_line: pS,
  vertical_ray_line: vS,
  vertical_segment: gS,
  straight_line: yS,
  ray_line: mS,
  segment: _S,
  arrow: xS,
  price_line: bS,
  price_channel_line: CS,
  parallel_straight_line: SS,
  fibonacci_line: wS,
  fibonacci_segment: TS,
  fibonacci_circle: kS,
  fibonacci_spiral: PS,
  fibonacci_speed_resistance_fan: IS,
  fibonacci_extension: ES,
  gann_box: LS,
  rect: AS,
  parallelogram: MS,
  circle: DS,
  triangle: FS,
  three_waves: $S,
  five_waves: RS,
  eight_waves: OS,
  any_waves: BS,
  abcd: NS,
  xabcd: zS,
  weak_magnet: VS,
  strong_magnet: WS,
  symbol_search: YS,
  symbol_code: XS,
  params_1: HS,
  params_2: ZS,
  params_3: US,
  params_4: KS,
  params_5: GS,
  period: jS,
  standard_deviation: qS,
  candle_type: QS,
  candle_solid: JS,
  candle_stroke: ew,
  candle_up_stroke: tw,
  candle_down_stroke: nw,
  ohlc: rw,
  area: iw,
  last_price_show: aw,
  high_price_show: ow,
  low_price_show: sw,
  indicator_last_value_show: lw,
  price_axis_type: uw,
  normal: cw,
  percentage: hw,
  log: dw,
  reverse_coordinate: fw,
  grid_show: pw,
  restore_default: vw
}, yw = "Indicator", mw = "Main Indicator", _w = "Sub Indicator", xw = "Setting", bw = "Timezone", Cw = "Screenshot", Sw = "Full Screen", ww = "Exit", Tw = "Save", kw = "Confirm", Pw = "Cancel", Iw = "MA(Moving Average)", Ew = "EMA(Exponential Moving Average)", Lw = "SMA", Aw = "BOLL(Bolinger Bands)", Mw = "BBI(Bull And Bearlndex)", Dw = "SAR(Stop and Reverse)", Fw = "VOL(Volume)", $w = "MACD(Moving Average Convergence / Divergence)", Rw = "KDJ(KDJ Index)", Ow = "RSI(Relative Strength Index)", Bw = "BIAS(Bias Ratio)", Nw = "BRAR()", zw = "CCI(Commodity Channel Index)", Vw = "DMI(Directional Movement Index)", Ww = "CR()", Yw = "PSY(Psychological Line)", Xw = "DMA(Different of Moving Average)", Hw = "TRIX(Triple Exponentially Smoothed Moving Average)", Zw = "OBV(On Balance Volume)", Uw = "VR(Volatility Volume Ratio)", Kw = "WR(Williams %R)", Gw = "MTM(Momentum Index)", jw = "EMV(Ease of Movement Value)", qw = "ROC(Price Rate of Change)", Qw = "PVT(Price and Volume Trend)", Jw = "AO(Awesome Oscillator)", eT = "UTC", tT = "(UTC-10) Honolulu", nT = "(UTC-8) Juneau", rT = "(UTC-7) Los Angeles", iT = "(UTC-5) Chicago", aT = "(UTC-4) Toronto", oT = "(UTC-3) Sao Paulo", sT = "(UTC+1) London", lT = "(UTC+2) Berlin", uT = "(UTC+3) Bahrain", cT = "(UTC+4) Dubai", hT = "(UTC+5) Ashkhabad", dT = "(UTC+6) Almaty", fT = "(UTC+7) Bangkok", pT = "(UTC+8) Shanghai", vT = "(UTC+9) Tokyo", gT = "(UTC+10) Sydney", yT = "(UTC+12) Norfolk", mT = "Horizontal Line", _T = "Horizontal Ray", xT = "Horizontal Segment", bT = "Vertical Line", CT = "Vertical Ray", ST = "Vertical Segment", wT = "Trend Line", TT = "Extended Line", kT = "Ray", PT = "Segment", IT = "Arrow", ET = "Price Line", LT = "Price Channel Line", AT = "Parallel Line", MT = "Fibonacci Line", DT = "Fibonacci Segment", FT = "Fibonacci Circle", $T = "Fibonacci Spiral", RT = "Fibonacci Sector", OT = "Fibonacci Extension", BT = "Gann Box", NT = "Rect", zT = "Parallelogram", VT = "Circle", WT = "Triangle", YT = "Three Waves", XT = "Five Waves", HT = "Eight Waves", ZT = "Any Waves", UT = "ABCD Pattern", KT = "XABCD Pattern", GT = "Weak Magnet", jT = "Strong Magnet", qT = "Symbol Search", QT = "Symbol Code", JT = "Parameter 1", ek = "Parameter 2", tk = "Parameter 3", nk = "Parameter 4", rk = "Parameter 5", ik = "Period", ak = "Standard Deviation", ok = "Candle Type", sk = "Candle Tooltip", lk = "Candle Solid", uk = "Candle Stroke", ck = "Candle Up Stroke", hk = "Candle Down Stroke", dk = "OHLC", fk = "Area", pk = "Show Last Price", vk = "Show Highest Price", gk = "Show Lowest Price", yk = "Show indicator's last value", mk = "Price Axis Type", _k = "Normal", xk = "Percentage", bk = "Log", Ck = "Reverse Coordinate", Sk = "Show Grids", wk = "Restore Defaults", Tk = "None", kk = "Always", Pk = "Follow Cross", Ik = "Change Period", Ek = "Enter Period Key", Lk = "Dashed Value", Ak = {
  indicator: yw,
  main_indicator: mw,
  sub_indicator: _w,
  setting: xw,
  timezone: bw,
  screenshot: Cw,
  full_screen: Sw,
  exit_full_screen: ww,
  save: Tw,
  confirm: kw,
  cancel: Pw,
  ma: Iw,
  ema: Ew,
  sma: Lw,
  boll: Aw,
  bbi: Mw,
  sar: Dw,
  vol: Fw,
  macd: $w,
  kdj: Rw,
  rsi: Ow,
  bias: Bw,
  brar: Nw,
  cci: zw,
  dmi: Vw,
  cr: Ww,
  psy: Yw,
  dma: Xw,
  trix: Hw,
  obv: Zw,
  vr: Uw,
  wr: Kw,
  mtm: Gw,
  emv: jw,
  roc: qw,
  pvt: Qw,
  ao: Jw,
  utc: eT,
  honolulu: tT,
  juneau: nT,
  los_angeles: rT,
  chicago: iT,
  toronto: aT,
  sao_paulo: oT,
  london: sT,
  berlin: lT,
  bahrain: uT,
  dubai: cT,
  ashkhabad: hT,
  almaty: dT,
  bangkok: fT,
  shanghai: pT,
  tokyo: vT,
  sydney: gT,
  norfolk: yT,
  horizontal_straight_line: mT,
  horizontal_ray_line: _T,
  horizontal_segment: xT,
  vertical_straight_line: bT,
  vertical_ray_line: CT,
  vertical_segment: ST,
  trend_line: wT,
  extended_line: TT,
  ray_line: kT,
  segment: PT,
  arrow: IT,
  price_line: ET,
  price_channel_line: LT,
  parallel_straight_line: AT,
  fibonacci_line: MT,
  fibonacci_segment: DT,
  fibonacci_circle: FT,
  fibonacci_spiral: $T,
  fibonacci_speed_resistance_fan: RT,
  fibonacci_extension: OT,
  gann_box: BT,
  rect: NT,
  parallelogram: zT,
  circle: VT,
  triangle: WT,
  three_waves: YT,
  five_waves: XT,
  eight_waves: HT,
  any_waves: ZT,
  abcd: UT,
  xabcd: KT,
  weak_magnet: GT,
  strong_magnet: jT,
  symbol_search: qT,
  symbol_code: QT,
  params_1: JT,
  params_2: ek,
  params_3: tk,
  params_4: nk,
  params_5: rk,
  period: ik,
  standard_deviation: ak,
  candle_type: ok,
  candle_tooltip: sk,
  candle_solid: lk,
  candle_stroke: uk,
  candle_up_stroke: ck,
  candle_down_stroke: hk,
  ohlc: dk,
  area: fk,
  last_price_show: pk,
  high_price_show: vk,
  low_price_show: gk,
  indicator_last_value_show: yk,
  price_axis_type: mk,
  normal: _k,
  percentage: xk,
  log: bk,
  reverse_coordinate: Ck,
  grid_show: Sk,
  restore_default: wk,
  none: Tk,
  always: kk,
  follow_cross: Pk,
  period_change: Ik,
  period_code: Ek,
  dashed_value: Lk
}, rp = {
  "zh-CN": gw,
  "en-US": Ak
};
function uA(e, f) {
  rp[e] = f;
}
const U = (e, f) => {
  var n;
  return ((n = rp[f]) == null ? void 0 : n[e]) ?? e;
}, Mk = /* @__PURE__ */ Je('<svg viewBox="0 0 1024 1024"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z">'), [hl, Su] = Ae(""), Dk = (e) => {
  const f = "klinecharts-pro-input klinecharts-pro-timeframe-modal-input", [n, y] = Ae(null), b = (M) => {
    if (M.key === "Enter")
      n() && e.onTimeframeSelected(n()), T();
    else {
      const z = M.key;
      (/^[a-zA-Z0-9]$/i.test(z) || // Check for letters and numbers
      z === "Backspace") && (Su(z === "Backspace" ? hl().slice(0, -1) : hl() + M.key), S());
    }
  };
  function S() {
    const M = e.periods.find((z) => hl() === `${z.multiplier}` && z.text.split(" ")[1].charAt(0) === "m" ? (console.log("1 passed"), !0) : hl().slice(0, -1) === `${z.multiplier}` && hl().charAt(hl().length - 1) === z.text.split(" ")[1].charAt(0) ? (console.log("3 passed"), !0) : !1);
    console.log(M), M ? (y(M), i1(f)) : (i1(f + " input-error"), y(null));
  }
  function T() {
    Su(""), Sr(!1), u1(!1);
  }
  return S(), je(us, {
    get title() {
      return U("period_change", e.locale);
    },
    width: 460,
    onClose: T,
    get children() {
      return je(Xs, {
        get placeholder() {
          return U("period_code", e.locale);
        },
        get suffix() {
          return Mk();
        },
        focus: !0,
        value: "",
        onKeyDown: b
      });
    }
  });
}, [Ll, md] = Ae(!1), [Fk, $k] = Ae(""), [Rk, Ok] = Ae(), dc = () => ({ handleKeyDown: (n) => {
  var y;
  if ((n.ctrlKey || n.metaKey) && (n.preventDefault(), md(!0)), Ll()) {
    switch (n.key) {
      case "o":
        vu("order") && Bk();
        break;
      case "l":
        Nk();
        break;
      case "i":
        vu("indi") && ($c((b) => !b), Sr(!0));
        break;
      case "s":
        vu("settings") && (Fc((b) => !b), Sr(!0));
        break;
      case "z":
        break;
      case "y":
        break;
      case "c":
        break;
      case "v":
        break;
      case "p":
        vu("screenshot") && zk();
        break;
      case "f":
        Vk();
        break;
      case "Backspace":
        np();
        break;
    }
    return;
  }
  ["1", "2", "3", "4", "5", "6", "7", "8", "9"].includes(n.key) && vu("period") ? (hl().length < 1 && Su(n.key), Ml() || (Sr(!0), u1(!0), i1("klinecharts-pro-input klinecharts-pro-timeframe-modal-input input-error"))) : n.key === " " ? Wk() : n.key === "ArrowDown" ? _d(-1) : n.key === "ArrowUp" ? _d(1) : n.key === "Delete" ? (y = At()) == null || y.removeOverlay() : n.key === "Escape" && (u1(!1), Su(""), Fc(!1), Dc(!1), $c(!1), Mc(""), Sr(!1));
}, handleKeyUp: (n) => {
  (!n.ctrlKey || !n.metaKey) && (md(!1), n.preventDefault());
} }), vu = (e) => {
  let f = !1;
  switch (e) {
    case "settings":
      f = !xu() && Al() === "" && !hc() && !Ml() && !Pl() && !Il();
    case "indi":
      f = !_u() && Al() === "" && !hc() && !Ml() && !Pl() && !Il();
      break;
    case "screenshot":
      f = !_u() && !xu() && !hc() && !Ml() && !Pl() && !Il();
      break;
    case "order":
      f = !_u() && !xu() && Al() === "" && !Ml() && !Pl() && !Il();
      break;
    case "period":
      f = !_u() && !xu() && Al() === "" && !hc() && !Pl() && !Il();
      break;
  }
  return f;
}, Bk = () => {
  Sr(!0), Pu(!0), os().launchOrderModal("placeorder", Te().onOrderPlaced);
}, Nk = async () => {
  try {
    await j0(() => Dc(!mu())), yu();
  } catch {
  }
}, zk = () => {
  const e = At().getConvertPictureUrl(!0, "jpeg", a1() === "dark" ? "#151517" : "#ffffff");
  Sr(!0), Mc(e);
}, Vk = () => {
  if (o1())
    (document.exitFullscreen ?? document.msExitFullscreen ?? document.mozCancelFullScreen ?? document.webkitExitFullscreen).call(document);
  else {
    const e = document.querySelector(`#${up()}`);
    e && (e.requestFullscreen ?? e.webkitRequestFullscreen ?? e.mozRequestFullScreen ?? e.msRequestFullscreen).call(e);
  }
}, Wk = () => {
  l1(!Ws()), Fl().setIsPaused = Ws();
}, Sr = (e) => {
  KE(e ?? !$d()), (!e && !Ws() || e) && (Fl().setIsPaused = $d());
}, _d = (e) => {
  e > 0 && as() < 10 ? (s1(+as() + +e), Fl().setInterval = (11 - as()) * 100) : e < 0 && as() > 1 && (s1(+as() + e), Fl().setInterval = (11 - as()) * 100);
}, Ys = () => ({ x: window.innerWidth, y: window.innerHeight }), [Yk, xd] = Ae(!1), [Xk, Hk] = Ae(0), [Zk, Uk] = Ae(0), [Mn, Xl] = Ae(), [On, Kk] = Ae(), [Pl, ip] = Ae(!1), [Il, ap] = Ae(!1);
Ae(!1);
Ae(!1);
Ae(!1);
const P1 = () => {
  var e, f, n, y, b, S, T, M, z;
  return ((e = On()) == null ? void 0 : e.overlayType) == "buy" ? "Buy" : ((f = On()) == null ? void 0 : f.overlayType) == "buylimit" ? "Buy Limit" : ((n = On()) == null ? void 0 : n.overlayType) == "buystop" ? "Buy Stop" : ((y = On()) == null ? void 0 : y.overlayType) == "sell" ? "Sell" : ((b = On()) == null ? void 0 : b.overlayType) == "selllimit" ? "Sell Limit" : ((S = On()) == null ? void 0 : S.overlayType) == "sellstop" ? "Sell Stop" : ((T = On()) == null ? void 0 : T.overlayType) == "sl" ? "Stop loss" : ((M = On()) == null ? void 0 : M.overlayType) == "tp" ? "Take profit" : ((z = Mn()) == null ? void 0 : z.name) ?? "Object";
}, zs = (e, f) => {
  f == "buy" || f == "sell" ? Te().closeOrder(e.overlay, "manualclose") : f == "tp" || f == "sl" ? Te().removeStopOrTP(e.overlay, f) : ["buystop", "buylimit", "sellstop", "selllimit"].includes(f) ? Te().closeOrder(e.overlay, "cancel") : Zc().popOverlay(e.overlay.id);
}, Un = () => {
  const e = (T, M) => {
    Hk(Ys().y - T.pageY > 200 ? T.pageY : Ys().y - 200), Uk(Ys().x - T.pageX > 200 ? T.pageX : Ys().x - 200), Xl(T.overlay), Kk(M), xd(!0);
  };
  return { openPopup: e, closePopup: () => {
    xd(!1);
  }, profitLossPopup: (T, M) => {
    if (Ll()) {
      T.figureIndex == 0 || T.figureIndex == 3 ? zs(T, M) : T.figureIndex == 1 || T.figureIndex == 4 ? zs(T, "tp") : (T.figureIndex == 2 || T.figureIndex == 5) && zs(T, "sl");
      return;
    }
    T.figureIndex == 0 || T.figureIndex == 3 ? e(T, { overlayType: M }) : T.figureIndex == 1 || T.figureIndex == 4 ? e(T, { overlayType: "tp" }) : (T.figureIndex == 2 || T.figureIndex == 5) && e(T, { overlayType: "sl" });
  }, profitPopup: (T, M) => {
    if (Ll()) {
      T.figureIndex == 0 || T.figureIndex == 2 ? zs(T, M) : zs(T, "tp");
      return;
    }
    T.figureIndex == 0 || T.figureIndex == 2 ? e(T, { overlayType: M }) : e(T, { overlayType: "tp" });
  }, lossPopup: (T, M) => {
    if (Ll()) {
      T.figureIndex == 0 || T.figureIndex == 2 ? zs(T, M) : zs(T, "sl");
      return;
    }
    T.figureIndex == 0 || T.figureIndex == 2 ? e(T, { overlayType: M }) : e(T, { overlayType: "sl" });
  }, singlePopup: (T, M) => {
    if (Ll()) {
      zs(T, M);
      return;
    }
    e(T, { overlayType: M });
  } };
}, Gk = /* @__PURE__ */ Je("<button>Send Back"), jk = /* @__PURE__ */ Je("<button>Send Front"), bd = /* @__PURE__ */ Je("<button>"), qk = /* @__PURE__ */ Je('<div class="klinecharts-pro-popup_background"><div class="popup"><button></button><button>Settings'), Qk = () => {
  var e, f, n, y, b, S, T;
  ((e = On()) == null ? void 0 : e.overlayType) == "buy" || ((f = On()) == null ? void 0 : f.overlayType) == "sell" ? Te().closeOrder(Mn(), "manualclose") : ((n = On()) == null ? void 0 : n.overlayType) == "tp" || ((y = On()) == null ? void 0 : y.overlayType) == "sl" ? Te().removeStopOrTP(Mn(), (b = On()) == null ? void 0 : b.overlayType) : (S = On()) != null && S.overlayType && ["buystop", "buylimit", "sellstop", "selllimit"].includes((T = On()) == null ? void 0 : T.overlayType) ? Te().closeOrder(Mn(), "cancel") : Zc().popOverlay(Mn().id);
}, H0 = () => {
  var e, f, n, y;
  return !!((f = (e = On()) == null ? void 0 : e.overlayType) != null && f.includes("buy") || (y = (n = On()) == null ? void 0 : n.overlayType) != null && y.includes("sell"));
}, Cd = () => {
  var e, f;
  return ((e = On()) == null ? void 0 : e.overlayType) == "tp" || ((f = On()) == null ? void 0 : f.overlayType) == "sl";
}, Jk = (e) => {
  e === "position" ? ip(!0) : e === "overlay" && ap(!0);
}, eP = () => {
  var f, n;
  const e = Mn();
  (f = At()) == null || f.overrideOverlay({
    id: e == null ? void 0 : e.id,
    zLevel: +e.zLevel + 1
  }), Xl(((n = At()) == null ? void 0 : n.getOverlayById(Mn().id)) ?? Mn());
}, tP = () => {
  var f, n;
  const e = Mn();
  (f = At()) == null || f.overrideOverlay({
    id: e == null ? void 0 : e.id,
    zLevel: +e.zLevel - 1
  }), Xl(((n = At()) == null ? void 0 : n.getOverlayById(Mn().id)) ?? Mn());
}, nP = () => {
  var e, f, n, y;
  (n = At()) == null || n.overrideOverlay({
    id: (e = Mn()) == null ? void 0 : e.id,
    lock: !((f = Mn()) != null && f.lock)
  }), Xl(((y = At()) == null ? void 0 : y.getOverlayById(Mn().id)) ?? Mn());
}, rP = () => {
  var e, f, n, y;
  (n = At()) == null || n.overrideOverlay({
    id: (e = Mn()) == null ? void 0 : e.id,
    visible: !((f = Mn()) != null && f.visible)
  }), Xl(((y = At()) == null ? void 0 : y.getOverlayById(Mn().id)) ?? Mn());
}, iP = () => (() => {
  const e = qk(), f = e.firstChild, n = f.firstChild, y = n.nextSibling;
  return e.$$click = () => Un().closePopup(), n.$$click = Qk, qe(n, (() => {
    const b = In(() => !!H0());
    return () => b() ? "Close order" : `Remove ${P1()}`;
  })()), y.$$click = () => Jk(H0() || Cd() ? "position" : "overlay"), qe(f, je(An, {
    get when() {
      return In(() => !H0())() && !Cd();
    },
    get children() {
      return [(() => {
        const b = Gk();
        return b.$$click = eP, b;
      })(), (() => {
        const b = jk();
        return b.$$click = tP, b;
      })(), (() => {
        const b = bd();
        return b.$$click = nP, qe(b, () => {
          var S;
          return (S = Mn()) != null && S.lock ? "Unlock" : "Lock";
        }), b;
      })(), (() => {
        const b = bd();
        return b.$$click = rP, qe(b, () => {
          var S;
          return (S = Mn()) != null && S.visible ? "Hide" : "Unhide";
        }), b;
      })()];
    }
  }), null), Bn((b) => {
    const S = `${Xk()}px`, T = `${Zk()}px`;
    return S !== b._v$ && ((b._v$ = S) != null ? f.style.setProperty("top", S) : f.style.removeProperty("top")), T !== b._v$2 && ((b._v$2 = T) != null ? f.style.setProperty("left", T) : f.style.removeProperty("left")), b;
  }, {
    _v$: void 0,
    _v$2: void 0
  }), e;
})();
yi(["click"]);
var op = { exports: {} };
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
(function(e, f) {
  (function(n, y) {
    e.exports = y();
  })(ya, function() {
    for (var n = function(P, $, N) {
      return $ === void 0 && ($ = 0), N === void 0 && (N = 1), P < $ ? $ : P > N ? N : P;
    }, y = n, b = function(P) {
      P._clipped = !1, P._unclipped = P.slice(0);
      for (var $ = 0; $ <= 3; $++)
        $ < 3 ? ((P[$] < 0 || P[$] > 255) && (P._clipped = !0), P[$] = y(P[$], 0, 255)) : $ === 3 && (P[$] = y(P[$], 0, 1));
      return P;
    }, S = {}, T = 0, M = ["Boolean", "Number", "String", "Function", "Array", "Date", "RegExp", "Undefined", "Null"]; T < M.length; T += 1) {
      var z = M[T];
      S["[object " + z + "]"] = z.toLowerCase();
    }
    var H = function(P) {
      return S[Object.prototype.toString.call(P)] || "object";
    }, ee = H, oe = function(P, $) {
      return $ === void 0 && ($ = null), P.length >= 3 ? Array.prototype.slice.call(P) : ee(P[0]) == "object" && $ ? $.split("").filter(function(N) {
        return P[0][N] !== void 0;
      }).map(function(N) {
        return P[0][N];
      }) : P[0];
    }, _e = H, ue = function(P) {
      if (P.length < 2)
        return null;
      var $ = P.length - 1;
      return _e(P[$]) == "string" ? P[$].toLowerCase() : null;
    }, ve = Math.PI, le = {
      clip_rgb: b,
      limit: n,
      type: H,
      unpack: oe,
      last: ue,
      PI: ve,
      TWOPI: ve * 2,
      PITHIRD: ve / 3,
      DEG2RAD: ve / 180,
      RAD2DEG: 180 / ve
    }, re = {
      format: {},
      autodetect: []
    }, Ce = le.last, ke = le.clip_rgb, Ee = le.type, De = re, Qe = function() {
      for (var $ = [], N = arguments.length; N--; )
        $[N] = arguments[N];
      var G = this;
      if (Ee($[0]) === "object" && $[0].constructor && $[0].constructor === this.constructor)
        return $[0];
      var ce = Ce($), fe = !1;
      if (!ce) {
        fe = !0, De.sorted || (De.autodetect = De.autodetect.sort(function(Ye, yt) {
          return yt.p - Ye.p;
        }), De.sorted = !0);
        for (var se = 0, Se = De.autodetect; se < Se.length; se += 1) {
          var we = Se[se];
          if (ce = we.test.apply(we, $), ce)
            break;
        }
      }
      if (De.format[ce]) {
        var Ne = De.format[ce].apply(null, fe ? $ : $.slice(0, -1));
        G._rgb = ke(Ne);
      } else
        throw new Error("unknown format: " + $);
      G._rgb.length === 3 && G._rgb.push(1);
    };
    Qe.prototype.toString = function() {
      return Ee(this.hex) == "function" ? this.hex() : "[" + this._rgb.join(",") + "]";
    };
    var et = Qe, xt = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(xt.Color, [null].concat(P)))();
    };
    xt.Color = et, xt.version = "2.4.2";
    var at = xt, We = le.unpack, $e = Math.max, gt = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = We(P, "rgb"), G = N[0], ce = N[1], fe = N[2];
      G = G / 255, ce = ce / 255, fe = fe / 255;
      var se = 1 - $e(G, $e(ce, fe)), Se = se < 1 ? 1 / (1 - se) : 0, we = (1 - G - se) * Se, Ne = (1 - ce - se) * Se, Ye = (1 - fe - se) * Se;
      return [we, Ne, Ye, se];
    }, Ue = gt, dt = le.unpack, ft = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = dt(P, "cmyk");
      var N = P[0], G = P[1], ce = P[2], fe = P[3], se = P.length > 4 ? P[4] : 1;
      return fe === 1 ? [0, 0, 0, se] : [
        N >= 1 ? 0 : 255 * (1 - N) * (1 - fe),
        // r
        G >= 1 ? 0 : 255 * (1 - G) * (1 - fe),
        // g
        ce >= 1 ? 0 : 255 * (1 - ce) * (1 - fe),
        // b
        se
      ];
    }, $t = ft, Le = at, nt = et, _n = re, Et = le.unpack, ct = le.type, Tt = Ue;
    nt.prototype.cmyk = function() {
      return Tt(this._rgb);
    }, Le.cmyk = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(nt, [null].concat(P, ["cmyk"])))();
    }, _n.format.cmyk = $t, _n.autodetect.push({
      p: 2,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = Et(P, "cmyk"), ct(P) === "array" && P.length === 4)
          return "cmyk";
      }
    });
    var Nn = le.unpack, Vr = le.last, si = function(P) {
      return Math.round(P * 100) / 100;
    }, Gr = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Nn(P, "hsla"), G = Vr(P) || "lsa";
      return N[0] = si(N[0] || 0), N[1] = si(N[1] * 100) + "%", N[2] = si(N[2] * 100) + "%", G === "hsla" || N.length > 3 && N[3] < 1 ? (N[3] = N.length > 3 ? N[3] : 1, G = "hsla") : N.length = 3, G + "(" + N.join(",") + ")";
    }, Wr = Gr, wn = le.unpack, Kn = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = wn(P, "rgba");
      var N = P[0], G = P[1], ce = P[2];
      N /= 255, G /= 255, ce /= 255;
      var fe = Math.min(N, G, ce), se = Math.max(N, G, ce), Se = (se + fe) / 2, we, Ne;
      return se === fe ? (we = 0, Ne = Number.NaN) : we = Se < 0.5 ? (se - fe) / (se + fe) : (se - fe) / (2 - se - fe), N == se ? Ne = (G - ce) / (se - fe) : G == se ? Ne = 2 + (ce - N) / (se - fe) : ce == se && (Ne = 4 + (N - G) / (se - fe)), Ne *= 60, Ne < 0 && (Ne += 360), P.length > 3 && P[3] !== void 0 ? [Ne, we, Se, P[3]] : [Ne, we, Se];
    }, Gn = Kn, Yr = le.unpack, jr = le.last, Mi = Wr, Di = Gn, qn = Math.round, Xr = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Yr(P, "rgba"), G = jr(P) || "rgb";
      return G.substr(0, 3) == "hsl" ? Mi(Di(N), G) : (N[0] = qn(N[0]), N[1] = qn(N[1]), N[2] = qn(N[2]), (G === "rgba" || N.length > 3 && N[3] < 1) && (N[3] = N.length > 3 ? N[3] : 1, G = "rgba"), G + "(" + N.slice(0, G === "rgb" ? 3 : 4).join(",") + ")");
    }, ma = Xr, li = le.unpack, _a = Math.round, Zs = function() {
      for (var P, $ = [], N = arguments.length; N--; )
        $[N] = arguments[N];
      $ = li($, "hsl");
      var G = $[0], ce = $[1], fe = $[2], se, Se, we;
      if (ce === 0)
        se = Se = we = fe * 255;
      else {
        var Ne = [0, 0, 0], Ye = [0, 0, 0], yt = fe < 0.5 ? fe * (1 + ce) : fe + ce - fe * ce, tt = 2 * fe - yt, bt = G / 360;
        Ne[0] = bt + 1 / 3, Ne[1] = bt, Ne[2] = bt - 1 / 3;
        for (var Ct = 0; Ct < 3; Ct++)
          Ne[Ct] < 0 && (Ne[Ct] += 1), Ne[Ct] > 1 && (Ne[Ct] -= 1), 6 * Ne[Ct] < 1 ? Ye[Ct] = tt + (yt - tt) * 6 * Ne[Ct] : 2 * Ne[Ct] < 1 ? Ye[Ct] = yt : 3 * Ne[Ct] < 2 ? Ye[Ct] = tt + (yt - tt) * (2 / 3 - Ne[Ct]) * 6 : Ye[Ct] = tt;
        P = [_a(Ye[0] * 255), _a(Ye[1] * 255), _a(Ye[2] * 255)], se = P[0], Se = P[1], we = P[2];
      }
      return $.length > 3 ? [se, Se, we, $[3]] : [se, Se, we, 1];
    }, ui = Zs, Qn = ui, Er = re, Qi = /^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/, So = /^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/, Ji = /^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/, cs = /^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/, ea = /^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/, Lr = /^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/, xa = Math.round, ba = function(P) {
      P = P.toLowerCase().trim();
      var $;
      if (Er.format.named)
        try {
          return Er.format.named(P);
        } catch {
        }
      if ($ = P.match(Qi)) {
        for (var N = $.slice(1, 4), G = 0; G < 3; G++)
          N[G] = +N[G];
        return N[3] = 1, N;
      }
      if ($ = P.match(So)) {
        for (var ce = $.slice(1, 5), fe = 0; fe < 4; fe++)
          ce[fe] = +ce[fe];
        return ce;
      }
      if ($ = P.match(Ji)) {
        for (var se = $.slice(1, 4), Se = 0; Se < 3; Se++)
          se[Se] = xa(se[Se] * 2.55);
        return se[3] = 1, se;
      }
      if ($ = P.match(cs)) {
        for (var we = $.slice(1, 5), Ne = 0; Ne < 3; Ne++)
          we[Ne] = xa(we[Ne] * 2.55);
        return we[3] = +we[3], we;
      }
      if ($ = P.match(ea)) {
        var Ye = $.slice(1, 4);
        Ye[1] *= 0.01, Ye[2] *= 0.01;
        var yt = Qn(Ye);
        return yt[3] = 1, yt;
      }
      if ($ = P.match(Lr)) {
        var tt = $.slice(1, 4);
        tt[1] *= 0.01, tt[2] *= 0.01;
        var bt = Qn(tt);
        return bt[3] = +$[4], bt;
      }
    };
    ba.test = function(P) {
      return Qi.test(P) || So.test(P) || Ji.test(P) || cs.test(P) || ea.test(P) || Lr.test(P);
    };
    var Ca = ba, wo = at, Ja = et, ci = re, To = le.type, eo = ma, to = Ca;
    Ja.prototype.css = function(P) {
      return eo(this._rgb, P);
    }, wo.css = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Ja, [null].concat(P, ["css"])))();
    }, ci.format.css = to, ci.autodetect.push({
      p: 5,
      test: function(P) {
        for (var $ = [], N = arguments.length - 1; N-- > 0; )
          $[N] = arguments[N + 1];
        if (!$.length && To(P) === "string" && to.test(P))
          return "css";
      }
    });
    var hs = et, ko = at, ds = re, Po = le.unpack;
    ds.format.gl = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Po(P, "rgba");
      return N[0] *= 255, N[1] *= 255, N[2] *= 255, N;
    }, ko.gl = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(hs, [null].concat(P, ["gl"])))();
    }, hs.prototype.gl = function() {
      var P = this._rgb;
      return [P[0] / 255, P[1] / 255, P[2] / 255, P[3]];
    };
    var fs = le.unpack, ps = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = fs(P, "rgb"), G = N[0], ce = N[1], fe = N[2], se = Math.min(G, ce, fe), Se = Math.max(G, ce, fe), we = Se - se, Ne = we * 100 / 255, Ye = se / (255 - we) * 100, yt;
      return we === 0 ? yt = Number.NaN : (G === Se && (yt = (ce - fe) / we), ce === Se && (yt = 2 + (fe - G) / we), fe === Se && (yt = 4 + (G - ce) / we), yt *= 60, yt < 0 && (yt += 360)), [yt, Ne, Ye];
    }, Io = ps, Sa = le.unpack, no = Math.floor, Eo = function() {
      for (var P, $, N, G, ce, fe, se = [], Se = arguments.length; Se--; )
        se[Se] = arguments[Se];
      se = Sa(se, "hcg");
      var we = se[0], Ne = se[1], Ye = se[2], yt, tt, bt;
      Ye = Ye * 255;
      var Ct = Ne * 255;
      if (Ne === 0)
        yt = tt = bt = Ye;
      else {
        we === 360 && (we = 0), we > 360 && (we -= 360), we < 0 && (we += 360), we /= 60;
        var Ut = no(we), Dt = we - Ut, Ht = Ye * (1 - Ne), hn = Ht + Ct * (1 - Dt), br = Ht + Ct * Dt, tr = Ht + Ct;
        switch (Ut) {
          case 0:
            P = [tr, br, Ht], yt = P[0], tt = P[1], bt = P[2];
            break;
          case 1:
            $ = [hn, tr, Ht], yt = $[0], tt = $[1], bt = $[2];
            break;
          case 2:
            N = [Ht, tr, br], yt = N[0], tt = N[1], bt = N[2];
            break;
          case 3:
            G = [Ht, hn, tr], yt = G[0], tt = G[1], bt = G[2];
            break;
          case 4:
            ce = [br, Ht, tr], yt = ce[0], tt = ce[1], bt = ce[2];
            break;
          case 5:
            fe = [tr, Ht, hn], yt = fe[0], tt = fe[1], bt = fe[2];
            break;
        }
      }
      return [yt, tt, bt, se.length > 3 ? se[3] : 1];
    }, Us = Eo, vs = le.unpack, Ks = le.type, Lo = at, gs = et, mi = re, Gs = Io;
    gs.prototype.hcg = function() {
      return Gs(this._rgb);
    }, Lo.hcg = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(gs, [null].concat(P, ["hcg"])))();
    }, mi.format.hcg = Us, mi.autodetect.push({
      p: 1,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = vs(P, "hcg"), Ks(P) === "array" && P.length === 3)
          return "hcg";
      }
    });
    var ys = le.unpack, fr = le.last, wr = Math.round, Tr = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = ys(P, "rgba"), G = N[0], ce = N[1], fe = N[2], se = N[3], Se = fr(P) || "auto";
      se === void 0 && (se = 1), Se === "auto" && (Se = se < 1 ? "rgba" : "rgb"), G = wr(G), ce = wr(ce), fe = wr(fe);
      var we = G << 16 | ce << 8 | fe, Ne = "000000" + we.toString(16);
      Ne = Ne.substr(Ne.length - 6);
      var Ye = "0" + wr(se * 255).toString(16);
      switch (Ye = Ye.substr(Ye.length - 2), Se.toLowerCase()) {
        case "rgba":
          return "#" + Ne + Ye;
        case "argb":
          return "#" + Ye + Ne;
        default:
          return "#" + Ne;
      }
    }, ta = Tr, ms = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/, _s = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/, rr = function(P) {
      if (P.match(ms)) {
        (P.length === 4 || P.length === 7) && (P = P.substr(1)), P.length === 3 && (P = P.split(""), P = P[0] + P[0] + P[1] + P[1] + P[2] + P[2]);
        var $ = parseInt(P, 16), N = $ >> 16, G = $ >> 8 & 255, ce = $ & 255;
        return [N, G, ce, 1];
      }
      if (P.match(_s)) {
        (P.length === 5 || P.length === 9) && (P = P.substr(1)), P.length === 4 && (P = P.split(""), P = P[0] + P[0] + P[1] + P[1] + P[2] + P[2] + P[3] + P[3]);
        var fe = parseInt(P, 16), se = fe >> 24 & 255, Se = fe >> 16 & 255, we = fe >> 8 & 255, Ne = Math.round((fe & 255) / 255 * 100) / 100;
        return [se, Se, we, Ne];
      }
      throw new Error("unknown hex color: " + P);
    }, xs = rr, pr = at, Ao = et, bs = le.type, na = re, Cs = ta;
    Ao.prototype.hex = function(P) {
      return Cs(this._rgb, P);
    }, pr.hex = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Ao, [null].concat(P, ["hex"])))();
    }, na.format.hex = xs, na.autodetect.push({
      p: 4,
      test: function(P) {
        for (var $ = [], N = arguments.length - 1; N-- > 0; )
          $[N] = arguments[N + 1];
        if (!$.length && bs(P) === "string" && [3, 4, 5, 6, 7, 8, 9].indexOf(P.length) >= 0)
          return "hex";
      }
    });
    var qr = le.unpack, Ss = le.TWOPI, Fi = Math.min, ro = Math.sqrt, ra = Math.acos, Mo = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = qr(P, "rgb"), G = N[0], ce = N[1], fe = N[2];
      G /= 255, ce /= 255, fe /= 255;
      var se, Se = Fi(G, ce, fe), we = (G + ce + fe) / 3, Ne = we > 0 ? 1 - Se / we : 0;
      return Ne === 0 ? se = NaN : (se = (G - ce + (G - fe)) / 2, se /= ro((G - ce) * (G - ce) + (G - fe) * (ce - fe)), se = ra(se), fe > ce && (se = Ss - se), se /= Ss), [se * 360, Ne, we];
    }, Do = Mo, wa = le.unpack, Dn = le.limit, _i = le.TWOPI, Ta = le.PITHIRD, ia = Math.cos, Fo = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = wa(P, "hsi");
      var N = P[0], G = P[1], ce = P[2], fe, se, Se;
      return isNaN(N) && (N = 0), isNaN(G) && (G = 0), N > 360 && (N -= 360), N < 0 && (N += 360), N /= 360, N < 1 / 3 ? (Se = (1 - G) / 3, fe = (1 + G * ia(_i * N) / ia(Ta - _i * N)) / 3, se = 1 - (Se + fe)) : N < 2 / 3 ? (N -= 1 / 3, fe = (1 - G) / 3, se = (1 + G * ia(_i * N) / ia(Ta - _i * N)) / 3, Se = 1 - (fe + se)) : (N -= 2 / 3, se = (1 - G) / 3, Se = (1 + G * ia(_i * N) / ia(Ta - _i * N)) / 3, fe = 1 - (se + Se)), fe = Dn(ce * fe * 3), se = Dn(ce * se * 3), Se = Dn(ce * Se * 3), [fe * 255, se * 255, Se * 255, P.length > 3 ? P[3] : 1];
    }, ka = Fo, xi = le.unpack, Pa = le.type, Ia = at, $o = et, aa = re, Ea = Do;
    $o.prototype.hsi = function() {
      return Ea(this._rgb);
    }, Ia.hsi = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply($o, [null].concat(P, ["hsi"])))();
    }, aa.format.hsi = ka, aa.autodetect.push({
      p: 2,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = xi(P, "hsi"), Pa(P) === "array" && P.length === 3)
          return "hsi";
      }
    });
    var ws = le.unpack, Ts = le.type, Ro = at, Oo = et, bi = re, Qr = Gn;
    Oo.prototype.hsl = function() {
      return Qr(this._rgb);
    }, Ro.hsl = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Oo, [null].concat(P, ["hsl"])))();
    }, bi.format.hsl = ui, bi.autodetect.push({
      p: 2,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = ws(P, "hsl"), Ts(P) === "array" && P.length === 3)
          return "hsl";
      }
    });
    var ks = le.unpack, La = Math.min, io = Math.max, oa = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = ks(P, "rgb");
      var N = P[0], G = P[1], ce = P[2], fe = La(N, G, ce), se = io(N, G, ce), Se = se - fe, we, Ne, Ye;
      return Ye = se / 255, se === 0 ? (we = Number.NaN, Ne = 0) : (Ne = Se / se, N === se && (we = (G - ce) / Se), G === se && (we = 2 + (ce - N) / Se), ce === se && (we = 4 + (N - G) / Se), we *= 60, we < 0 && (we += 360)), [we, Ne, Ye];
    }, Ps = oa, $i = le.unpack, Is = Math.floor, Bo = function() {
      for (var P, $, N, G, ce, fe, se = [], Se = arguments.length; Se--; )
        se[Se] = arguments[Se];
      se = $i(se, "hsv");
      var we = se[0], Ne = se[1], Ye = se[2], yt, tt, bt;
      if (Ye *= 255, Ne === 0)
        yt = tt = bt = Ye;
      else {
        we === 360 && (we = 0), we > 360 && (we -= 360), we < 0 && (we += 360), we /= 60;
        var Ct = Is(we), Ut = we - Ct, Dt = Ye * (1 - Ne), Ht = Ye * (1 - Ne * Ut), hn = Ye * (1 - Ne * (1 - Ut));
        switch (Ct) {
          case 0:
            P = [Ye, hn, Dt], yt = P[0], tt = P[1], bt = P[2];
            break;
          case 1:
            $ = [Ht, Ye, Dt], yt = $[0], tt = $[1], bt = $[2];
            break;
          case 2:
            N = [Dt, Ye, hn], yt = N[0], tt = N[1], bt = N[2];
            break;
          case 3:
            G = [Dt, Ht, Ye], yt = G[0], tt = G[1], bt = G[2];
            break;
          case 4:
            ce = [hn, Dt, Ye], yt = ce[0], tt = ce[1], bt = ce[2];
            break;
          case 5:
            fe = [Ye, Dt, Ht], yt = fe[0], tt = fe[1], bt = fe[2];
            break;
        }
      }
      return [yt, tt, bt, se.length > 3 ? se[3] : 1];
    }, Es = Bo, Ls = le.unpack, As = le.type, Aa = at, Vt = et, No = re, zo = Ps;
    Vt.prototype.hsv = function() {
      return zo(this._rgb);
    }, Aa.hsv = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Vt, [null].concat(P, ["hsv"])))();
    }, No.format.hsv = Es, No.autodetect.push({
      p: 2,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = Ls(P, "hsv"), As(P) === "array" && P.length === 3)
          return "hsv";
      }
    });
    var hi = {
      // Corresponds roughly to RGB brighter/darker
      Kn: 18,
      // D65 standard referent
      Xn: 0.95047,
      Yn: 1,
      Zn: 1.08883,
      t0: 0.137931034,
      // 4 / 29
      t1: 0.206896552,
      // 6 / 29
      t2: 0.12841855,
      // 3 * t1 * t1
      t3: 8856452e-9
      // t1 * t1 * t1
    }, sa = hi, js = le.unpack, Vo = Math.pow, Qt = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = js(P, "rgb"), G = N[0], ce = N[1], fe = N[2], se = qs(G, ce, fe), Se = se[0], we = se[1], Ne = se[2], Ye = 116 * we - 16;
      return [Ye < 0 ? 0 : Ye, 500 * (Se - we), 200 * (we - Ne)];
    }, ao = function(P) {
      return (P /= 255) <= 0.04045 ? P / 12.92 : Vo((P + 0.055) / 1.055, 2.4);
    }, oo = function(P) {
      return P > sa.t3 ? Vo(P, 1 / 3) : P / sa.t2 + sa.t0;
    }, qs = function(P, $, N) {
      P = ao(P), $ = ao($), N = ao(N);
      var G = oo((0.4124564 * P + 0.3575761 * $ + 0.1804375 * N) / sa.Xn), ce = oo((0.2126729 * P + 0.7151522 * $ + 0.072175 * N) / sa.Yn), fe = oo((0.0193339 * P + 0.119192 * $ + 0.9503041 * N) / sa.Zn);
      return [G, ce, fe];
    }, Wo = Qt, la = hi, xn = le.unpack, bn = Math.pow, Ms = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = xn(P, "lab");
      var N = P[0], G = P[1], ce = P[2], fe, se, Se, we, Ne, Ye;
      return se = (N + 16) / 116, fe = isNaN(G) ? se : se + G / 500, Se = isNaN(ce) ? se : se - ce / 200, se = la.Yn * Ma(se), fe = la.Xn * Ma(fe), Se = la.Zn * Ma(Se), we = Yo(3.2404542 * fe - 1.5371385 * se - 0.4985314 * Se), Ne = Yo(-0.969266 * fe + 1.8760108 * se + 0.041556 * Se), Ye = Yo(0.0556434 * fe - 0.2040259 * se + 1.0572252 * Se), [we, Ne, Ye, P.length > 3 ? P[3] : 1];
    }, Yo = function(P) {
      return 255 * (P <= 304e-5 ? 12.92 * P : 1.055 * bn(P, 1 / 2.4) - 0.055);
    }, Ma = function(P) {
      return P > la.t1 ? P * P * P : la.t2 * (P - la.t0);
    }, Da = Ms, Ri = le.unpack, Fa = le.type, $a = at, Xo = et, jn = re, Ra = Wo;
    Xo.prototype.lab = function() {
      return Ra(this._rgb);
    }, $a.lab = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Xo, [null].concat(P, ["lab"])))();
    }, jn.format.lab = Da, jn.autodetect.push({
      p: 2,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = Ri(P, "lab"), Fa(P) === "array" && P.length === 3)
          return "lab";
      }
    });
    var Hr = le.unpack, Ds = le.RAD2DEG, so = Math.sqrt, p = Math.atan2, o = Math.round, s = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Hr(P, "lab"), G = N[0], ce = N[1], fe = N[2], se = so(ce * ce + fe * fe), Se = (p(fe, ce) * Ds + 360) % 360;
      return o(se * 1e4) === 0 && (Se = Number.NaN), [G, se, Se];
    }, d = s, h = le.unpack, m = Wo, x = d, C = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = h(P, "rgb"), G = N[0], ce = N[1], fe = N[2], se = m(G, ce, fe), Se = se[0], we = se[1], Ne = se[2];
      return x(Se, we, Ne);
    }, L = C, A = le.unpack, F = le.DEG2RAD, B = Math.sin, V = Math.cos, Z = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = A(P, "lch"), G = N[0], ce = N[1], fe = N[2];
      return isNaN(fe) && (fe = 0), fe = fe * F, [G, V(fe) * ce, B(fe) * ce];
    }, J = Z, Q = le.unpack, ne = J, de = Da, be = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = Q(P, "lch");
      var N = P[0], G = P[1], ce = P[2], fe = ne(N, G, ce), se = fe[0], Se = fe[1], we = fe[2], Ne = de(se, Se, we), Ye = Ne[0], yt = Ne[1], tt = Ne[2];
      return [Ye, yt, tt, P.length > 3 ? P[3] : 1];
    }, me = be, Me = le.unpack, Re = me, He = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Me(P, "hcl").reverse();
      return Re.apply(void 0, N);
    }, Ke = He, rt = le.unpack, ot = le.type, _t = at, lt = et, St = re, Pt = L;
    lt.prototype.lch = function() {
      return Pt(this._rgb);
    }, lt.prototype.hcl = function() {
      return Pt(this._rgb).reverse();
    }, _t.lch = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(lt, [null].concat(P, ["lch"])))();
    }, _t.hcl = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(lt, [null].concat(P, ["hcl"])))();
    }, St.format.lch = me, St.format.hcl = Ke, ["lch", "hcl"].forEach(function(P) {
      return St.autodetect.push({
        p: 2,
        test: function() {
          for (var $ = [], N = arguments.length; N--; )
            $[N] = arguments[N];
          if ($ = rt($, P), ot($) === "array" && $.length === 3)
            return P;
        }
      });
    });
    var Lt = {
      aliceblue: "#f0f8ff",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      aquamarine: "#7fffd4",
      azure: "#f0ffff",
      beige: "#f5f5dc",
      bisque: "#ffe4c4",
      black: "#000000",
      blanchedalmond: "#ffebcd",
      blue: "#0000ff",
      blueviolet: "#8a2be2",
      brown: "#a52a2a",
      burlywood: "#deb887",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      cornflower: "#6495ed",
      cornflowerblue: "#6495ed",
      cornsilk: "#fff8dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      darkkhaki: "#bdb76b",
      darkmagenta: "#8b008b",
      darkolivegreen: "#556b2f",
      darkorange: "#ff8c00",
      darkorchid: "#9932cc",
      darkred: "#8b0000",
      darksalmon: "#e9967a",
      darkseagreen: "#8fbc8f",
      darkslateblue: "#483d8b",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      darkturquoise: "#00ced1",
      darkviolet: "#9400d3",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      dimgray: "#696969",
      dimgrey: "#696969",
      dodgerblue: "#1e90ff",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      forestgreen: "#228b22",
      fuchsia: "#ff00ff",
      gainsboro: "#dcdcdc",
      ghostwhite: "#f8f8ff",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gray: "#808080",
      green: "#008000",
      greenyellow: "#adff2f",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      ivory: "#fffff0",
      khaki: "#f0e68c",
      laserlemon: "#ffff54",
      lavender: "#e6e6fa",
      lavenderblush: "#fff0f5",
      lawngreen: "#7cfc00",
      lemonchiffon: "#fffacd",
      lightblue: "#add8e6",
      lightcoral: "#f08080",
      lightcyan: "#e0ffff",
      lightgoldenrod: "#fafad2",
      lightgoldenrodyellow: "#fafad2",
      lightgray: "#d3d3d3",
      lightgreen: "#90ee90",
      lightgrey: "#d3d3d3",
      lightpink: "#ffb6c1",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      lightskyblue: "#87cefa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      lightsteelblue: "#b0c4de",
      lightyellow: "#ffffe0",
      lime: "#00ff00",
      limegreen: "#32cd32",
      linen: "#faf0e6",
      magenta: "#ff00ff",
      maroon: "#800000",
      maroon2: "#7f0000",
      maroon3: "#b03060",
      mediumaquamarine: "#66cdaa",
      mediumblue: "#0000cd",
      mediumorchid: "#ba55d3",
      mediumpurple: "#9370db",
      mediumseagreen: "#3cb371",
      mediumslateblue: "#7b68ee",
      mediumspringgreen: "#00fa9a",
      mediumturquoise: "#48d1cc",
      mediumvioletred: "#c71585",
      midnightblue: "#191970",
      mintcream: "#f5fffa",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      navajowhite: "#ffdead",
      navy: "#000080",
      oldlace: "#fdf5e6",
      olive: "#808000",
      olivedrab: "#6b8e23",
      orange: "#ffa500",
      orangered: "#ff4500",
      orchid: "#da70d6",
      palegoldenrod: "#eee8aa",
      palegreen: "#98fb98",
      paleturquoise: "#afeeee",
      palevioletred: "#db7093",
      papayawhip: "#ffefd5",
      peachpuff: "#ffdab9",
      peru: "#cd853f",
      pink: "#ffc0cb",
      plum: "#dda0dd",
      powderblue: "#b0e0e6",
      purple: "#800080",
      purple2: "#7f007f",
      purple3: "#a020f0",
      rebeccapurple: "#663399",
      red: "#ff0000",
      rosybrown: "#bc8f8f",
      royalblue: "#4169e1",
      saddlebrown: "#8b4513",
      salmon: "#fa8072",
      sandybrown: "#f4a460",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      sienna: "#a0522d",
      silver: "#c0c0c0",
      skyblue: "#87ceeb",
      slateblue: "#6a5acd",
      slategray: "#708090",
      slategrey: "#708090",
      snow: "#fffafa",
      springgreen: "#00ff7f",
      steelblue: "#4682b4",
      tan: "#d2b48c",
      teal: "#008080",
      thistle: "#d8bfd8",
      tomato: "#ff6347",
      turquoise: "#40e0d0",
      violet: "#ee82ee",
      wheat: "#f5deb3",
      white: "#ffffff",
      whitesmoke: "#f5f5f5",
      yellow: "#ffff00",
      yellowgreen: "#9acd32"
    }, Yt = Lt, Cn = et, Jt = re, Yn = le.type, Xn = Yt, ur = xs, Xt = ta;
    Cn.prototype.name = function() {
      for (var P = Xt(this._rgb, "rgb"), $ = 0, N = Object.keys(Xn); $ < N.length; $ += 1) {
        var G = N[$];
        if (Xn[G] === P)
          return G.toLowerCase();
      }
      return P;
    }, Jt.format.named = function(P) {
      if (P = P.toLowerCase(), Xn[P])
        return ur(Xn[P]);
      throw new Error("unknown color name: " + P);
    }, Jt.autodetect.push({
      p: 5,
      test: function(P) {
        for (var $ = [], N = arguments.length - 1; N-- > 0; )
          $[N] = arguments[N + 1];
        if (!$.length && Yn(P) === "string" && Xn[P.toLowerCase()])
          return "named";
      }
    });
    var ln = le.unpack, Pn = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = ln(P, "rgb"), G = N[0], ce = N[1], fe = N[2];
      return (G << 16) + (ce << 8) + fe;
    }, ir = Pn, vr = le.type, Ci = function(P) {
      if (vr(P) == "number" && P >= 0 && P <= 16777215) {
        var $ = P >> 16, N = P >> 8 & 255, G = P & 255;
        return [$, N, G, 1];
      }
      throw new Error("unknown num color: " + P);
    }, Ar = Ci, Mr = at, di = et, Dr = re, Jn = le.type, Oa = ir;
    di.prototype.num = function() {
      return Oa(this._rgb);
    }, Mr.num = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(di, [null].concat(P, ["num"])))();
    }, Dr.format.num = Ar, Dr.autodetect.push({
      p: 5,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P.length === 1 && Jn(P[0]) === "number" && P[0] >= 0 && P[0] <= 16777215)
          return "num";
      }
    });
    var Qs = at, Ba = et, Oi = re, cr = le.unpack, Fr = le.type, Si = Math.round;
    Ba.prototype.rgb = function(P) {
      return P === void 0 && (P = !0), P === !1 ? this._rgb.slice(0, 3) : this._rgb.slice(0, 3).map(Si);
    }, Ba.prototype.rgba = function(P) {
      return P === void 0 && (P = !0), this._rgb.slice(0, 4).map(function($, N) {
        return N < 3 ? P === !1 ? $ : Si($) : $;
      });
    }, Qs.rgb = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Ba, [null].concat(P, ["rgb"])))();
    }, Oi.format.rgb = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = cr(P, "rgba");
      return N[3] === void 0 && (N[3] = 1), N;
    }, Oi.autodetect.push({
      p: 3,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = cr(P, "rgba"), Fr(P) === "array" && (P.length === 3 || P.length === 4 && Fr(P[3]) == "number" && P[3] >= 0 && P[3] <= 1))
          return "rgb";
      }
    });
    var Na = Math.log, Ho = function(P) {
      var $ = P / 100, N, G, ce;
      return $ < 66 ? (N = 255, G = $ < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (G = $ - 2) + 104.49216199393888 * Na(G), ce = $ < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (ce = $ - 10) + 115.67994401066147 * Na(ce)) : (N = 351.97690566805693 + 0.114206453784165 * (N = $ - 55) - 40.25366309332127 * Na(N), G = 325.4494125711974 + 0.07943456536662342 * (G = $ - 50) - 28.0852963507957 * Na(G), ce = 255), [N, G, ce, 1];
    }, Jr = Ho, $r = Jr, ua = le.unpack, Zo = Math.round, lo = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      for (var N = ua(P, "rgb"), G = N[0], ce = N[2], fe = 1e3, se = 4e4, Se = 0.4, we; se - fe > Se; ) {
        we = (se + fe) * 0.5;
        var Ne = $r(we);
        Ne[2] / Ne[0] >= ce / G ? se = we : fe = we;
      }
      return Zo(we);
    }, za = lo, uo = at, Va = et, er = re, ge = za;
    Va.prototype.temp = Va.prototype.kelvin = Va.prototype.temperature = function() {
      return ge(this._rgb);
    }, uo.temp = uo.kelvin = uo.temperature = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Va, [null].concat(P, ["temp"])))();
    }, er.format.temp = er.format.kelvin = er.format.temperature = Jr;
    var Fe = le.unpack, l = Math.cbrt, r = Math.pow, i = Math.sign, u = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = Fe(P, "rgb"), G = N[0], ce = N[1], fe = N[2], se = [g(G / 255), g(ce / 255), g(fe / 255)], Se = se[0], we = se[1], Ne = se[2], Ye = l(0.4122214708 * Se + 0.5363325363 * we + 0.0514459929 * Ne), yt = l(0.2119034982 * Se + 0.6806995451 * we + 0.1073969566 * Ne), tt = l(0.0883024619 * Se + 0.2817188376 * we + 0.6299787005 * Ne);
      return [
        0.2104542553 * Ye + 0.793617785 * yt - 0.0040720468 * tt,
        1.9779984951 * Ye - 2.428592205 * yt + 0.4505937099 * tt,
        0.0259040371 * Ye + 0.7827717662 * yt - 0.808675766 * tt
      ];
    }, c = u;
    function g(P) {
      var $ = Math.abs(P);
      return $ < 0.04045 ? P / 12.92 : (i(P) || 1) * r(($ + 0.055) / 1.055, 2.4);
    }
    var _ = le.unpack, w = Math.pow, k = Math.sign, I = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = _(P, "lab");
      var N = P[0], G = P[1], ce = P[2], fe = w(N + 0.3963377774 * G + 0.2158037573 * ce, 3), se = w(N - 0.1055613458 * G - 0.0638541728 * ce, 3), Se = w(N - 0.0894841775 * G - 1.291485548 * ce, 3);
      return [
        255 * R(4.0767416621 * fe - 3.3077115913 * se + 0.2309699292 * Se),
        255 * R(-1.2684380046 * fe + 2.6097574011 * se - 0.3413193965 * Se),
        255 * R(-0.0041960863 * fe - 0.7034186147 * se + 1.707614701 * Se),
        P.length > 3 ? P[3] : 1
      ];
    }, D = I;
    function R(P) {
      var $ = Math.abs(P);
      return $ > 31308e-7 ? (k(P) || 1) * (1.055 * w($, 1 / 2.4) - 0.055) : P * 12.92;
    }
    var W = le.unpack, j = le.type, Y = at, te = et, q = re, ie = c;
    te.prototype.oklab = function() {
      return ie(this._rgb);
    }, Y.oklab = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(te, [null].concat(P, ["oklab"])))();
    }, q.format.oklab = D, q.autodetect.push({
      p: 3,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = W(P, "oklab"), j(P) === "array" && P.length === 3)
          return "oklab";
      }
    });
    var pe = le.unpack, ye = c, Pe = d, Oe = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      var N = pe(P, "rgb"), G = N[0], ce = N[1], fe = N[2], se = ye(G, ce, fe), Se = se[0], we = se[1], Ne = se[2];
      return Pe(Se, we, Ne);
    }, Ze = Oe, Be = le.unpack, ze = J, ut = D, ht = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      P = Be(P, "lch");
      var N = P[0], G = P[1], ce = P[2], fe = ze(N, G, ce), se = fe[0], Se = fe[1], we = fe[2], Ne = ut(se, Se, we), Ye = Ne[0], yt = Ne[1], tt = Ne[2];
      return [Ye, yt, tt, P.length > 3 ? P[3] : 1];
    }, st = ht, pt = le.unpack, It = le.type, wt = at, Bt = et, Wt = re, Tn = Ze;
    Bt.prototype.oklch = function() {
      return Tn(this._rgb);
    }, wt.oklch = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      return new (Function.prototype.bind.apply(Bt, [null].concat(P, ["oklch"])))();
    }, Wt.format.oklch = st, Wt.autodetect.push({
      p: 3,
      test: function() {
        for (var P = [], $ = arguments.length; $--; )
          P[$] = arguments[$];
        if (P = pt(P, "oklch"), It(P) === "array" && P.length === 3)
          return "oklch";
      }
    });
    var Fn = et, zn = le.type;
    Fn.prototype.alpha = function(P, $) {
      return $ === void 0 && ($ = !1), P !== void 0 && zn(P) === "number" ? $ ? (this._rgb[3] = P, this) : new Fn([this._rgb[0], this._rgb[1], this._rgb[2], P], "rgb") : this._rgb[3];
    };
    var En = et;
    En.prototype.clipped = function() {
      return this._rgb._clipped || !1;
    };
    var Nt = et, un = hi;
    Nt.prototype.darken = function(P) {
      P === void 0 && (P = 1);
      var $ = this, N = $.lab();
      return N[0] -= un.Kn * P, new Nt(N, "lab").alpha($.alpha(), !0);
    }, Nt.prototype.brighten = function(P) {
      return P === void 0 && (P = 1), this.darken(-P);
    }, Nt.prototype.darker = Nt.prototype.darken, Nt.prototype.brighter = Nt.prototype.brighten;
    var en = et;
    en.prototype.get = function(P) {
      var $ = P.split("."), N = $[0], G = $[1], ce = this[N]();
      if (G) {
        var fe = N.indexOf(G) - (N.substr(0, 2) === "ok" ? 2 : 0);
        if (fe > -1)
          return ce[fe];
        throw new Error("unknown channel " + G + " in mode " + N);
      } else
        return ce;
    };
    var $n = et, ar = le.type, gr = Math.pow, tn = 1e-7, nn = 20;
    $n.prototype.luminance = function(P) {
      if (P !== void 0 && ar(P) === "number") {
        if (P === 0)
          return new $n([0, 0, 0, this._rgb[3]], "rgb");
        if (P === 1)
          return new $n([255, 255, 255, this._rgb[3]], "rgb");
        var $ = this.luminance(), N = "rgb", G = nn, ce = function(se, Se) {
          var we = se.interpolate(Se, 0.5, N), Ne = we.luminance();
          return Math.abs(P - Ne) < tn || !G-- ? we : Ne > P ? ce(se, we) : ce(we, Se);
        }, fe = ($ > P ? ce(new $n([0, 0, 0]), this) : ce(this, new $n([255, 255, 255]))).rgb();
        return new $n(fe.concat([this._rgb[3]]));
      }
      return ei.apply(void 0, this._rgb.slice(0, 3));
    };
    var ei = function(P, $, N) {
      return P = Rr(P), $ = Rr($), N = Rr(N), 0.2126 * P + 0.7152 * $ + 0.0722 * N;
    }, Rr = function(P) {
      return P /= 255, P <= 0.03928 ? P / 12.92 : gr((P + 0.055) / 1.055, 2.4);
    }, cn = {}, kr = et, Zr = le.type, wi = cn, Ti = function(P, $, N) {
      N === void 0 && (N = 0.5);
      for (var G = [], ce = arguments.length - 3; ce-- > 0; )
        G[ce] = arguments[ce + 3];
      var fe = G[0] || "lrgb";
      if (!wi[fe] && !G.length && (fe = Object.keys(wi)[0]), !wi[fe])
        throw new Error("interpolation mode " + fe + " is not defined");
      return Zr(P) !== "object" && (P = new kr(P)), Zr($) !== "object" && ($ = new kr($)), wi[fe](P, $, N).alpha(P.alpha() + N * ($.alpha() - P.alpha()));
    }, yr = et, mr = Ti;
    yr.prototype.mix = yr.prototype.interpolate = function(P, $) {
      $ === void 0 && ($ = 0.5);
      for (var N = [], G = arguments.length - 2; G-- > 0; )
        N[G] = arguments[G + 2];
      return mr.apply(void 0, [this, P, $].concat(N));
    };
    var Or = et;
    Or.prototype.premultiply = function(P) {
      P === void 0 && (P = !1);
      var $ = this._rgb, N = $[3];
      return P ? (this._rgb = [$[0] * N, $[1] * N, $[2] * N, N], this) : new Or([$[0] * N, $[1] * N, $[2] * N, N], "rgb");
    };
    var Bi = et, Ni = hi;
    Bi.prototype.saturate = function(P) {
      P === void 0 && (P = 1);
      var $ = this, N = $.lch();
      return N[1] += Ni.Kn * P, N[1] < 0 && (N[1] = 0), new Bi(N, "lch").alpha($.alpha(), !0);
    }, Bi.prototype.desaturate = function(P) {
      return P === void 0 && (P = 1), this.saturate(-P);
    };
    var Js = et, el = le.type;
    Js.prototype.set = function(P, $, N) {
      N === void 0 && (N = !1);
      var G = P.split("."), ce = G[0], fe = G[1], se = this[ce]();
      if (fe) {
        var Se = ce.indexOf(fe) - (ce.substr(0, 2) === "ok" ? 2 : 0);
        if (Se > -1) {
          if (el($) == "string")
            switch ($.charAt(0)) {
              case "+":
                se[Se] += +$;
                break;
              case "-":
                se[Se] += +$;
                break;
              case "*":
                se[Se] *= +$.substr(1);
                break;
              case "/":
                se[Se] /= +$.substr(1);
                break;
              default:
                se[Se] = +$;
            }
          else if (el($) === "number")
            se[Se] = $;
          else
            throw new Error("unsupported value for Color.set");
          var we = new Js(se, ce);
          return N ? (this._rgb = we._rgb, this) : we;
        }
        throw new Error("unknown channel " + fe + " in mode " + ce);
      } else
        return se;
    };
    var Uo = et, tl = function(P, $, N) {
      var G = P._rgb, ce = $._rgb;
      return new Uo(
        G[0] + N * (ce[0] - G[0]),
        G[1] + N * (ce[1] - G[1]),
        G[2] + N * (ce[2] - G[2]),
        "rgb"
      );
    };
    cn.rgb = tl;
    var nl = et, Wa = Math.sqrt, ki = Math.pow, rl = function(P, $, N) {
      var G = P._rgb, ce = G[0], fe = G[1], se = G[2], Se = $._rgb, we = Se[0], Ne = Se[1], Ye = Se[2];
      return new nl(
        Wa(ki(ce, 2) * (1 - N) + ki(we, 2) * N),
        Wa(ki(fe, 2) * (1 - N) + ki(Ne, 2) * N),
        Wa(ki(se, 2) * (1 - N) + ki(Ye, 2) * N),
        "rgb"
      );
    };
    cn.lrgb = rl;
    var X = et, _r = function(P, $, N) {
      var G = P.lab(), ce = $.lab();
      return new X(
        G[0] + N * (ce[0] - G[0]),
        G[1] + N * (ce[1] - G[1]),
        G[2] + N * (ce[2] - G[2]),
        "lab"
      );
    };
    cn.lab = _r;
    var co = et, Rn = function(P, $, N, G) {
      var ce, fe, se, Se;
      G === "hsl" ? (se = P.hsl(), Se = $.hsl()) : G === "hsv" ? (se = P.hsv(), Se = $.hsv()) : G === "hcg" ? (se = P.hcg(), Se = $.hcg()) : G === "hsi" ? (se = P.hsi(), Se = $.hsi()) : G === "lch" || G === "hcl" ? (G = "hcl", se = P.hcl(), Se = $.hcl()) : G === "oklch" && (se = P.oklch().reverse(), Se = $.oklch().reverse());
      var we, Ne, Ye, yt, tt, bt;
      (G.substr(0, 1) === "h" || G === "oklch") && (ce = se, we = ce[0], Ye = ce[1], tt = ce[2], fe = Se, Ne = fe[0], yt = fe[1], bt = fe[2]);
      var Ct, Ut, Dt, Ht;
      return !isNaN(we) && !isNaN(Ne) ? (Ne > we && Ne - we > 180 ? Ht = Ne - (we + 360) : Ne < we && we - Ne > 180 ? Ht = Ne + 360 - we : Ht = Ne - we, Ut = we + N * Ht) : isNaN(we) ? isNaN(Ne) ? Ut = Number.NaN : (Ut = Ne, (tt == 1 || tt == 0) && G != "hsv" && (Ct = yt)) : (Ut = we, (bt == 1 || bt == 0) && G != "hsv" && (Ct = Ye)), Ct === void 0 && (Ct = Ye + N * (yt - Ye)), Dt = tt + N * (bt - tt), G === "oklch" ? new co([Dt, Ct, Ut], G) : new co([Ut, Ct, Dt], G);
    }, jt = Rn, fl = function(P, $, N) {
      return jt(P, $, N, "lch");
    };
    cn.lch = fl, cn.hcl = fl;
    var ca = et, Hl = function(P, $, N) {
      var G = P.num(), ce = $.num();
      return new ca(G + N * (ce - G), "num");
    };
    cn.num = Hl;
    var Pr = Rn, ti = function(P, $, N) {
      return Pr(P, $, N, "hcg");
    };
    cn.hcg = ti;
    var ni = Rn, fi = function(P, $, N) {
      return ni(P, $, N, "hsi");
    };
    cn.hsi = fi;
    var zi = Rn, Fs = function(P, $, N) {
      return zi(P, $, N, "hsl");
    };
    cn.hsl = Fs;
    var Vi = Rn, Zl = function(P, $, N) {
      return Vi(P, $, N, "hsv");
    };
    cn.hsv = Zl;
    var Uc = et, Kc = function(P, $, N) {
      var G = P.oklab(), ce = $.oklab();
      return new Uc(
        G[0] + N * (ce[0] - G[0]),
        G[1] + N * (ce[1] - G[1]),
        G[2] + N * (ce[2] - G[2]),
        "oklab"
      );
    };
    cn.oklab = Kc;
    var Gc = Rn, jc = function(P, $, N) {
      return Gc(P, $, N, "oklch");
    };
    cn.oklch = jc;
    var Wi = et, qc = le.clip_rgb, Ul = Math.pow, Kl = Math.sqrt, Gl = Math.PI, Eu = Math.cos, ho = Math.sin, Qc = Math.atan2, Jc = function(P, $, N) {
      $ === void 0 && ($ = "lrgb"), N === void 0 && (N = null);
      var G = P.length;
      N || (N = Array.from(new Array(G)).map(function() {
        return 1;
      }));
      var ce = G / N.reduce(function(Ut, Dt) {
        return Ut + Dt;
      });
      if (N.forEach(function(Ut, Dt) {
        N[Dt] *= ce;
      }), P = P.map(function(Ut) {
        return new Wi(Ut);
      }), $ === "lrgb")
        return Yi(P, N);
      for (var fe = P.shift(), se = fe.get($), Se = [], we = 0, Ne = 0, Ye = 0; Ye < se.length; Ye++)
        if (se[Ye] = (se[Ye] || 0) * N[0], Se.push(isNaN(se[Ye]) ? 0 : N[0]), $.charAt(Ye) === "h" && !isNaN(se[Ye])) {
          var yt = se[Ye] / 180 * Gl;
          we += Eu(yt) * N[0], Ne += ho(yt) * N[0];
        }
      var tt = fe.alpha() * N[0];
      P.forEach(function(Ut, Dt) {
        var Ht = Ut.get($);
        tt += Ut.alpha() * N[Dt + 1];
        for (var hn = 0; hn < se.length; hn++)
          if (!isNaN(Ht[hn]))
            if (Se[hn] += N[Dt + 1], $.charAt(hn) === "h") {
              var br = Ht[hn] / 180 * Gl;
              we += Eu(br) * N[Dt + 1], Ne += ho(br) * N[Dt + 1];
            } else
              se[hn] += Ht[hn] * N[Dt + 1];
      });
      for (var bt = 0; bt < se.length; bt++)
        if ($.charAt(bt) === "h") {
          for (var Ct = Qc(Ne / Se[bt], we / Se[bt]) / Gl * 180; Ct < 0; )
            Ct += 360;
          for (; Ct >= 360; )
            Ct -= 360;
          se[bt] = Ct;
        } else
          se[bt] = se[bt] / Se[bt];
      return tt /= G, new Wi(se, $).alpha(tt > 0.99999 ? 1 : tt, !0);
    }, Yi = function(P, $) {
      for (var N = P.length, G = [0, 0, 0, 0], ce = 0; ce < P.length; ce++) {
        var fe = P[ce], se = $[ce] / N, Se = fe._rgb;
        G[0] += Ul(Se[0], 2) * se, G[1] += Ul(Se[1], 2) * se, G[2] += Ul(Se[2], 2) * se, G[3] += Se[3] * se;
      }
      return G[0] = Kl(G[0]), G[1] = Kl(G[1]), G[2] = Kl(G[2]), G[3] > 0.9999999 && (G[3] = 1), new Wi(qc(G));
    }, Xi = at, $s = le.type, e0 = Math.pow, jl = function(P) {
      var $ = "rgb", N = Xi("#ccc"), G = 0, ce = [0, 1], fe = [], se = [0, 0], Se = !1, we = [], Ne = !1, Ye = 0, yt = 1, tt = !1, bt = {}, Ct = !0, Ut = 1, Dt = function(it) {
        if (it = it || ["#fff", "#000"], it && $s(it) === "string" && Xi.brewer && Xi.brewer[it.toLowerCase()] && (it = Xi.brewer[it.toLowerCase()]), $s(it) === "array") {
          it.length === 1 && (it = [it[0], it[0]]), it = it.slice(0);
          for (var Mt = 0; Mt < it.length; Mt++)
            it[Mt] = Xi(it[Mt]);
          fe.length = 0;
          for (var Kt = 0; Kt < it.length; Kt++)
            fe.push(Kt / (it.length - 1));
        }
        return Ur(), we = it;
      }, Ht = function(it) {
        if (Se != null) {
          for (var Mt = Se.length - 1, Kt = 0; Kt < Mt && it >= Se[Kt]; )
            Kt++;
          return Kt - 1;
        }
        return 0;
      }, hn = function(it) {
        return it;
      }, br = function(it) {
        return it;
      }, tr = function(it, Mt) {
        var Kt, zt;
        if (Mt == null && (Mt = !1), isNaN(it) || it === null)
          return N;
        if (Mt)
          zt = it;
        else if (Se && Se.length > 2) {
          var Ir = Ht(it);
          zt = Ir / (Se.length - 2);
        } else
          yt !== Ye ? zt = (it - Ye) / (yt - Ye) : zt = 1;
        zt = br(zt), Mt || (zt = hn(zt)), Ut !== 1 && (zt = e0(zt, Ut)), zt = se[0] + zt * (1 - se[0] - se[1]), zt = Math.min(1, Math.max(0, zt));
        var dn = Math.floor(zt * 1e4);
        if (Ct && bt[dn])
          Kt = bt[dn];
        else {
          if ($s(we) === "array")
            for (var on = 0; on < fe.length; on++) {
              var yn = fe[on];
              if (zt <= yn) {
                Kt = we[on];
                break;
              }
              if (zt >= yn && on === fe.length - 1) {
                Kt = we[on];
                break;
              }
              if (zt > yn && zt < fe[on + 1]) {
                zt = (zt - yn) / (fe[on + 1] - yn), Kt = Xi.interpolate(we[on], we[on + 1], zt, $);
                break;
              }
            }
          else
            $s(we) === "function" && (Kt = we(zt));
          Ct && (bt[dn] = Kt);
        }
        return Kt;
      }, Ur = function() {
        return bt = {};
      };
      Dt(P);
      var rn = function(it) {
        var Mt = Xi(tr(it));
        return Ne && Mt[Ne] ? Mt[Ne]() : Mt;
      };
      return rn.classes = function(it) {
        if (it != null) {
          if ($s(it) === "array")
            Se = it, ce = [it[0], it[it.length - 1]];
          else {
            var Mt = Xi.analyze(ce);
            it === 0 ? Se = [Mt.min, Mt.max] : Se = Xi.limits(Mt, "e", it);
          }
          return rn;
        }
        return Se;
      }, rn.domain = function(it) {
        if (!arguments.length)
          return ce;
        Ye = it[0], yt = it[it.length - 1], fe = [];
        var Mt = we.length;
        if (it.length === Mt && Ye !== yt)
          for (var Kt = 0, zt = Array.from(it); Kt < zt.length; Kt += 1) {
            var Ir = zt[Kt];
            fe.push((Ir - Ye) / (yt - Ye));
          }
        else {
          for (var dn = 0; dn < Mt; dn++)
            fe.push(dn / (Mt - 1));
          if (it.length > 2) {
            var on = it.map(function(vn, Sn) {
              return Sn / (it.length - 1);
            }), yn = it.map(function(vn) {
              return (vn - Ye) / (yt - Ye);
            });
            yn.every(function(vn, Sn) {
              return on[Sn] === vn;
            }) || (br = function(vn) {
              if (vn <= 0 || vn >= 1)
                return vn;
              for (var Sn = 0; vn >= yn[Sn + 1]; )
                Sn++;
              var Hi = (vn - yn[Sn]) / (yn[Sn + 1] - yn[Sn]), po = on[Sn] + Hi * (on[Sn + 1] - on[Sn]);
              return po;
            });
          }
        }
        return ce = [Ye, yt], rn;
      }, rn.mode = function(it) {
        return arguments.length ? ($ = it, Ur(), rn) : $;
      }, rn.range = function(it, Mt) {
        return Dt(it), rn;
      }, rn.out = function(it) {
        return Ne = it, rn;
      }, rn.spread = function(it) {
        return arguments.length ? (G = it, rn) : G;
      }, rn.correctLightness = function(it) {
        return it == null && (it = !0), tt = it, Ur(), tt ? hn = function(Mt) {
          for (var Kt = tr(0, !0).lab()[0], zt = tr(1, !0).lab()[0], Ir = Kt > zt, dn = tr(Mt, !0).lab()[0], on = Kt + (zt - Kt) * Mt, yn = dn - on, vn = 0, Sn = 1, Hi = 20; Math.abs(yn) > 0.01 && Hi-- > 0; )
            (function() {
              return Ir && (yn *= -1), yn < 0 ? (vn = Mt, Mt += (Sn - Mt) * 0.5) : (Sn = Mt, Mt += (vn - Mt) * 0.5), dn = tr(Mt, !0).lab()[0], yn = dn - on;
            })();
          return Mt;
        } : hn = function(Mt) {
          return Mt;
        }, rn;
      }, rn.padding = function(it) {
        return it != null ? ($s(it) === "number" && (it = [it, it]), se = it, rn) : se;
      }, rn.colors = function(it, Mt) {
        arguments.length < 2 && (Mt = "hex");
        var Kt = [];
        if (arguments.length === 0)
          Kt = we.slice(0);
        else if (it === 1)
          Kt = [rn(0.5)];
        else if (it > 1) {
          var zt = ce[0], Ir = ce[1] - zt;
          Kt = t0(0, it, !1).map(function(Sn) {
            return rn(zt + Sn / (it - 1) * Ir);
          });
        } else {
          P = [];
          var dn = [];
          if (Se && Se.length > 2)
            for (var on = 1, yn = Se.length, vn = 1 <= yn; vn ? on < yn : on > yn; vn ? on++ : on--)
              dn.push((Se[on - 1] + Se[on]) * 0.5);
          else
            dn = ce;
          Kt = dn.map(function(Sn) {
            return rn(Sn);
          });
        }
        return Xi[Mt] && (Kt = Kt.map(function(Sn) {
          return Sn[Mt]();
        })), Kt;
      }, rn.cache = function(it) {
        return it != null ? (Ct = it, rn) : Ct;
      }, rn.gamma = function(it) {
        return it != null ? (Ut = it, rn) : Ut;
      }, rn.nodata = function(it) {
        return it != null ? (N = Xi(it), rn) : N;
      }, rn;
    };
    function t0(P, $, N) {
      for (var G = [], ce = P < $, fe = N ? ce ? $ + 1 : $ - 1 : $, se = P; ce ? se < fe : se > fe; ce ? se++ : se--)
        G.push(se);
      return G;
    }
    var Rs = et, Lu = jl, n0 = function(P) {
      for (var $ = [1, 1], N = 1; N < P; N++) {
        for (var G = [1], ce = 1; ce <= $.length; ce++)
          G[ce] = ($[ce] || 0) + $[ce - 1];
        $ = G;
      }
      return $;
    }, r0 = function(P) {
      var $, N, G, ce, fe, se, Se;
      if (P = P.map(function(tt) {
        return new Rs(tt);
      }), P.length === 2)
        $ = P.map(function(tt) {
          return tt.lab();
        }), fe = $[0], se = $[1], ce = function(tt) {
          var bt = [0, 1, 2].map(function(Ct) {
            return fe[Ct] + tt * (se[Ct] - fe[Ct]);
          });
          return new Rs(bt, "lab");
        };
      else if (P.length === 3)
        N = P.map(function(tt) {
          return tt.lab();
        }), fe = N[0], se = N[1], Se = N[2], ce = function(tt) {
          var bt = [0, 1, 2].map(function(Ct) {
            return (1 - tt) * (1 - tt) * fe[Ct] + 2 * (1 - tt) * tt * se[Ct] + tt * tt * Se[Ct];
          });
          return new Rs(bt, "lab");
        };
      else if (P.length === 4) {
        var we;
        G = P.map(function(tt) {
          return tt.lab();
        }), fe = G[0], se = G[1], Se = G[2], we = G[3], ce = function(tt) {
          var bt = [0, 1, 2].map(function(Ct) {
            return (1 - tt) * (1 - tt) * (1 - tt) * fe[Ct] + 3 * (1 - tt) * (1 - tt) * tt * se[Ct] + 3 * (1 - tt) * tt * tt * Se[Ct] + tt * tt * tt * we[Ct];
          });
          return new Rs(bt, "lab");
        };
      } else if (P.length >= 5) {
        var Ne, Ye, yt;
        Ne = P.map(function(tt) {
          return tt.lab();
        }), yt = P.length - 1, Ye = n0(yt), ce = function(tt) {
          var bt = 1 - tt, Ct = [0, 1, 2].map(function(Ut) {
            return Ne.reduce(function(Dt, Ht, hn) {
              return Dt + Ye[hn] * Math.pow(bt, yt - hn) * Math.pow(tt, hn) * Ht[Ut];
            }, 0);
          });
          return new Rs(Ct, "lab");
        };
      } else
        throw new RangeError("No point in running bezier with only one color.");
      return ce;
    }, ql = function(P) {
      var $ = r0(P);
      return $.scale = function() {
        return Lu($);
      }, $;
    }, Ko = at, ri = function(P, $, N) {
      if (!ri[N])
        throw new Error("unknown blend mode " + N);
      return ri[N](P, $);
    }, fo = function(P) {
      return function($, N) {
        var G = Ko(N).rgb(), ce = Ko($).rgb();
        return Ko.rgb(P(G, ce));
      };
    }, Ya = function(P) {
      return function($, N) {
        var G = [];
        return G[0] = P($[0], N[0]), G[1] = P($[1], N[1]), G[2] = P($[2], N[2]), G;
      };
    }, i0 = function(P) {
      return P;
    }, Xa = function(P, $) {
      return P * $ / 255;
    }, Ql = function(P, $) {
      return P > $ ? $ : P;
    }, Go = function(P, $) {
      return P > $ ? P : $;
    }, Pi = function(P, $) {
      return 255 * (1 - (1 - P / 255) * (1 - $ / 255));
    }, a0 = function(P, $) {
      return $ < 128 ? 2 * P * $ / 255 : 255 * (1 - 2 * (1 - P / 255) * (1 - $ / 255));
    }, Au = function(P, $) {
      return 255 * (1 - (1 - $ / 255) / (P / 255));
    }, Mu = function(P, $) {
      return P === 255 ? 255 : (P = 255 * ($ / 255) / (1 - P / 255), P > 255 ? 255 : P);
    };
    ri.normal = fo(Ya(i0)), ri.multiply = fo(Ya(Xa)), ri.screen = fo(Ya(Pi)), ri.overlay = fo(Ya(a0)), ri.darken = fo(Ya(Ql)), ri.lighten = fo(Ya(Go)), ri.dodge = fo(Ya(Mu)), ri.burn = fo(Ya(Au));
    for (var il = ri, ha = le.type, Du = le.clip_rgb, o0 = le.TWOPI, pl = Math.pow, s0 = Math.sin, Fu = Math.cos, xr = at, Jl = function(P, $, N, G, ce) {
      P === void 0 && (P = 300), $ === void 0 && ($ = -1.5), N === void 0 && (N = 1), G === void 0 && (G = 1), ce === void 0 && (ce = [0, 1]);
      var fe = 0, se;
      ha(ce) === "array" ? se = ce[1] - ce[0] : (se = 0, ce = [ce, ce]);
      var Se = function(we) {
        var Ne = o0 * ((P + 120) / 360 + $ * we), Ye = pl(ce[0] + se * we, G), yt = fe !== 0 ? N[0] + we * fe : N, tt = yt * Ye * (1 - Ye) / 2, bt = Fu(Ne), Ct = s0(Ne), Ut = Ye + tt * (-0.14861 * bt + 1.78277 * Ct), Dt = Ye + tt * (-0.29227 * bt - 0.90649 * Ct), Ht = Ye + tt * (1.97294 * bt);
        return xr(Du([Ut * 255, Dt * 255, Ht * 255, 1]));
      };
      return Se.start = function(we) {
        return we == null ? P : (P = we, Se);
      }, Se.rotations = function(we) {
        return we == null ? $ : ($ = we, Se);
      }, Se.gamma = function(we) {
        return we == null ? G : (G = we, Se);
      }, Se.hue = function(we) {
        return we == null ? N : (N = we, ha(N) === "array" ? (fe = N[1] - N[0], fe === 0 && (N = N[1])) : fe = 0, Se);
      }, Se.lightness = function(we) {
        return we == null ? ce : (ha(we) === "array" ? (ce = we, se = we[1] - we[0]) : (ce = [we, we], se = 0), Se);
      }, Se.scale = function() {
        return xr.scale(Se);
      }, Se.hue(N), Se;
    }, $u = et, da = "0123456789abcdef", eu = Math.floor, vl = Math.random, jo = function() {
      for (var P = "#", $ = 0; $ < 6; $++)
        P += da.charAt(eu(vl() * 16));
      return new $u(P, "hex");
    }, gl = H, Br = Math.log, tu = Math.pow, l0 = Math.floor, u0 = Math.abs, Ru = function(P, $) {
      $ === void 0 && ($ = null);
      var N = {
        min: Number.MAX_VALUE,
        max: Number.MAX_VALUE * -1,
        sum: 0,
        values: [],
        count: 0
      };
      return gl(P) === "object" && (P = Object.values(P)), P.forEach(function(G) {
        $ && gl(G) === "object" && (G = G[$]), G != null && !isNaN(G) && (N.values.push(G), N.sum += G, G < N.min && (N.min = G), G > N.max && (N.max = G), N.count += 1);
      }), N.domain = [N.min, N.max], N.limits = function(G, ce) {
        return yl(N, G, ce);
      }, N;
    }, yl = function(P, $, N) {
      $ === void 0 && ($ = "equal"), N === void 0 && (N = 7), gl(P) == "array" && (P = Ru(P));
      var G = P.min, ce = P.max, fe = P.values.sort(function(lu, uu) {
        return lu - uu;
      });
      if (N === 1)
        return [G, ce];
      var se = [];
      if ($.substr(0, 1) === "c" && (se.push(G), se.push(ce)), $.substr(0, 1) === "e") {
        se.push(G);
        for (var Se = 1; Se < N; Se++)
          se.push(G + Se / N * (ce - G));
        se.push(ce);
      } else if ($.substr(0, 1) === "l") {
        if (G <= 0)
          throw new Error("Logarithmic scales are only possible for values > 0");
        var we = Math.LOG10E * Br(G), Ne = Math.LOG10E * Br(ce);
        se.push(G);
        for (var Ye = 1; Ye < N; Ye++)
          se.push(tu(10, we + Ye / N * (Ne - we)));
        se.push(ce);
      } else if ($.substr(0, 1) === "q") {
        se.push(G);
        for (var yt = 1; yt < N; yt++) {
          var tt = (fe.length - 1) * yt / N, bt = l0(tt);
          if (bt === tt)
            se.push(fe[bt]);
          else {
            var Ct = tt - bt;
            se.push(fe[bt] * (1 - Ct) + fe[bt + 1] * Ct);
          }
        }
        se.push(ce);
      } else if ($.substr(0, 1) === "k") {
        var Ut, Dt = fe.length, Ht = new Array(Dt), hn = new Array(N), br = !0, tr = 0, Ur = null;
        Ur = [], Ur.push(G);
        for (var rn = 1; rn < N; rn++)
          Ur.push(G + rn / N * (ce - G));
        for (Ur.push(ce); br; ) {
          for (var it = 0; it < N; it++)
            hn[it] = 0;
          for (var Mt = 0; Mt < Dt; Mt++)
            for (var Kt = fe[Mt], zt = Number.MAX_VALUE, Ir = void 0, dn = 0; dn < N; dn++) {
              var on = u0(Ur[dn] - Kt);
              on < zt && (zt = on, Ir = dn), hn[Ir]++, Ht[Mt] = Ir;
            }
          for (var yn = new Array(N), vn = 0; vn < N; vn++)
            yn[vn] = null;
          for (var Sn = 0; Sn < Dt; Sn++)
            Ut = Ht[Sn], yn[Ut] === null ? yn[Ut] = fe[Sn] : yn[Ut] += fe[Sn];
          for (var Hi = 0; Hi < N; Hi++)
            yn[Hi] *= 1 / hn[Hi];
          br = !1;
          for (var po = 0; po < N; po++)
            if (yn[po] !== Ur[po]) {
              br = !0;
              break;
            }
          Ur = yn, tr++, tr > 200 && (br = !1);
        }
        for (var Za = {}, qo = 0; qo < N; qo++)
          Za[qo] = [];
        for (var Bs = 0; Bs < Dt; Bs++)
          Ut = Ht[Bs], Za[Ut].push(fe[Bs]);
        for (var fa = [], vo = 0; vo < N; vo++)
          fa.push(Za[vo][0]), fa.push(Za[vo][Za[vo].length - 1]);
        fa = fa.sort(function(lu, uu) {
          return lu - uu;
        }), se.push(fa[0]);
        for (var Cr = 1; Cr < fa.length; Cr += 2) {
          var Nr = fa[Cr];
          !isNaN(Nr) && se.indexOf(Nr) === -1 && se.push(Nr);
        }
      }
      return se;
    }, Ou = { analyze: Ru, limits: yl }, Os = et, Bu = function(P, $) {
      P = new Os(P), $ = new Os($);
      var N = P.luminance(), G = $.luminance();
      return N > G ? (N + 0.05) / (G + 0.05) : (G + 0.05) / (N + 0.05);
    }, Nu = et, Ha = Math.sqrt, Vn = Math.pow, c0 = Math.min, h0 = Math.max, ml = Math.atan2, nu = Math.abs, _l = Math.cos, zu = Math.sin, d0 = Math.exp, ru = Math.PI, iu = function(P, $, N, G, ce) {
      N === void 0 && (N = 1), G === void 0 && (G = 1), ce === void 0 && (ce = 1);
      var fe = function(Nr) {
        return 360 * Nr / (2 * ru);
      }, se = function(Nr) {
        return 2 * ru * Nr / 360;
      };
      P = new Nu(P), $ = new Nu($);
      var Se = Array.from(P.lab()), we = Se[0], Ne = Se[1], Ye = Se[2], yt = Array.from($.lab()), tt = yt[0], bt = yt[1], Ct = yt[2], Ut = (we + tt) / 2, Dt = Ha(Vn(Ne, 2) + Vn(Ye, 2)), Ht = Ha(Vn(bt, 2) + Vn(Ct, 2)), hn = (Dt + Ht) / 2, br = 0.5 * (1 - Ha(Vn(hn, 7) / (Vn(hn, 7) + Vn(25, 7)))), tr = Ne * (1 + br), Ur = bt * (1 + br), rn = Ha(Vn(tr, 2) + Vn(Ye, 2)), it = Ha(Vn(Ur, 2) + Vn(Ct, 2)), Mt = (rn + it) / 2, Kt = fe(ml(Ye, tr)), zt = fe(ml(Ct, Ur)), Ir = Kt >= 0 ? Kt : Kt + 360, dn = zt >= 0 ? zt : zt + 360, on = nu(Ir - dn) > 180 ? (Ir + dn + 360) / 2 : (Ir + dn) / 2, yn = 1 - 0.17 * _l(se(on - 30)) + 0.24 * _l(se(2 * on)) + 0.32 * _l(se(3 * on + 6)) - 0.2 * _l(se(4 * on - 63)), vn = dn - Ir;
      vn = nu(vn) <= 180 ? vn : dn <= Ir ? vn + 360 : vn - 360, vn = 2 * Ha(rn * it) * zu(se(vn) / 2);
      var Sn = tt - we, Hi = it - rn, po = 1 + 0.015 * Vn(Ut - 50, 2) / Ha(20 + Vn(Ut - 50, 2)), Za = 1 + 0.045 * Mt, qo = 1 + 0.015 * Mt * yn, Bs = 30 * d0(-Vn((on - 275) / 25, 2)), fa = 2 * Ha(Vn(Mt, 7) / (Vn(Mt, 7) + Vn(25, 7))), vo = -fa * zu(2 * se(Bs)), Cr = Ha(Vn(Sn / (N * po), 2) + Vn(Hi / (G * Za), 2) + Vn(vn / (ce * qo), 2) + vo * (Hi / (G * Za)) * (vn / (ce * qo)));
      return h0(0, c0(100, Cr));
    }, Vu = et, au = function(P, $, N) {
      N === void 0 && (N = "lab"), P = new Vu(P), $ = new Vu($);
      var G = P.get(N), ce = $.get(N), fe = 0;
      for (var se in G) {
        var Se = (G[se] || 0) - (ce[se] || 0);
        fe += Se * Se;
      }
      return Math.sqrt(fe);
    }, Wu = et, Yu = function() {
      for (var P = [], $ = arguments.length; $--; )
        P[$] = arguments[$];
      try {
        return new (Function.prototype.bind.apply(Wu, [null].concat(P)))(), !0;
      } catch {
        return !1;
      }
    }, ou = at, al = jl, f0 = {
      cool: function() {
        return al([ou.hsl(180, 1, 0.9), ou.hsl(250, 0.7, 0.4)]);
      },
      hot: function() {
        return al(["#000", "#f00", "#ff0", "#fff"]).mode("rgb");
      }
    }, ol = {
      // sequential
      OrRd: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"],
      PuBu: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858"],
      BuPu: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b"],
      Oranges: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704"],
      BuGn: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b"],
      YlOrBr: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506"],
      YlGn: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529"],
      Reds: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d"],
      RdPu: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a"],
      Greens: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b"],
      YlGnBu: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58"],
      Purples: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d"],
      GnBu: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081"],
      Greys: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000"],
      YlOrRd: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026"],
      PuRd: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f"],
      Blues: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b"],
      PuBuGn: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636"],
      Viridis: ["#440154", "#482777", "#3f4a8a", "#31678e", "#26838f", "#1f9d8a", "#6cce5a", "#b6de2b", "#fee825"],
      // diverging
      Spectral: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"],
      RdYlGn: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"],
      RdBu: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"],
      PiYG: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"],
      PRGn: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"],
      RdYlBu: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"],
      BrBG: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"],
      RdGy: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"],
      PuOr: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"],
      // qualitative
      Set2: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3"],
      Accent: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666"],
      Set1: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999"],
      Set3: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f"],
      Dark2: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666"],
      Paired: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928"],
      Pastel2: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc"],
      Pastel1: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2"]
    }, xl = 0, Xu = Object.keys(ol); xl < Xu.length; xl += 1) {
      var su = Xu[xl];
      ol[su.toLowerCase()] = ol[su];
    }
    var p0 = ol, or = at;
    or.average = Jc, or.bezier = ql, or.blend = il, or.cubehelix = Jl, or.mix = or.interpolate = Ti, or.random = jo, or.scale = jl, or.analyze = Ou.analyze, or.contrast = Bu, or.deltaE = iu, or.distance = au, or.limits = Ou.limits, or.valid = Yu, or.scales = f0, or.colors = Yt, or.brewer = p0;
    var Hu = or;
    return Hu;
  });
})(op);
var aP = op.exports;
const Sd = /* @__PURE__ */ Rc(aP), oP = /* @__PURE__ */ Je('<div tabindex="0"><div class="selector-container"><i class="arrow"></i></div><div class="drop-down-container" style="left:50%;top:20%"><div class="split_line"></div><div class="range_div"><input class="range" type="range" min="1" max="100"><p>%</p></div><div class="split_line"></div><div class="submit"><span class="cancel">Cancel</span><span>Ok'), sP = /* @__PURE__ */ Je('<div class="each_line">'), lP = /* @__PURE__ */ Je("<div>"), Ec = (e) => {
  const f = String(e.value).includes("rgba") ? Sd(String(e.value)).alpha() * 100 : 100, [n, y] = Ae(!1), [b, S] = Ae(f), [T, M] = Ae(e.value), [z, H] = Ae(e.value), [ee, oe] = Ae(!1), _e = [["rgb(255, 255, 255)", "rgb(178, 181, 190)", "rgb(149, 152, 161)", "rgb(120, 123, 134)", "rgb(93, 96, 107)", "rgb(42, 46, 57)", "rgb(0, 0, 0)"], ["rgb(242, 54, 69)", "rgb(252, 203, 205)", "rgb(250, 161, 164)", "rgb(247, 124, 128)", "rgb(247, 82, 95)", "rgb(178, 40, 51)", "rgb(128, 25, 34)"], ["rgb(255, 152, 0)", "rgb(255, 224, 178)", "rgb(255, 204, 128)", "rgb(255, 183, 77)", "rgb(255, 167, 38)", "rgb(245, 124, 0)", "rgb(230, 81, 0)"], ["rgb(255, 235, 59)", "rgb(255, 249, 196)", "rgb(255, 245, 157)", "rgb(255, 241, 118)", "rgb(255, 238, 88)", "rgb(251, 192, 45)", "rgb(245, 127, 23)"], ["rgb(76, 175, 80)", "rgb(200, 230, 201)", "rgb(165, 214, 167)", "rgb(129, 199, 132)", "rgb(102, 187, 106)", "rgb(56, 142, 60)", "rgb(27, 94, 32)"], ["rgb(8, 153, 129)", "rgb(172, 229, 220)", "rgb(112, 204, 189)", "rgb(66, 189, 168)", "rgb(34, 171, 148)", "rgb(5, 102, 86)", "rgb(0, 51, 42)"], ["rgb(0, 188, 212)", "rgb(178, 235, 242)", "rgb(128, 222, 234)", "rgb(77, 208, 225)", "rgb(38, 198, 218)", "rgb(0, 151, 167)", "rgb(0, 96, 100)"], ["rgb(41, 98, 255)", "rgb(187, 217, 251)", "rgb(144, 191, 249)", "rgb(91, 156, 246)", "rgb(49, 121, 245)", "rgb(24, 72, 204)", "rgb(12, 50, 153)"], ["rgb(103, 58, 183)", "rgb(209, 196, 233)", "rgb(179, 157, 219)", "rgb(149, 117, 205)", "rgb(126, 87, 194)", "rgb(81, 45, 168)", "rgb(49, 27, 146)"], ["rgb(156, 39, 176)", "rgb(225, 190, 231)", "rgb(206, 147, 216)", "rgb(186, 104, 200)", "rgb(171, 71, 188)", "rgb(123, 31, 162)", "rgb(74, 20, 140)"], ["rgb(233, 30, 99)", "rgb(248, 187, 208)", "rgb(244, 143, 177)", "rgb(240, 98, 146)", "rgb(236, 64, 122)", "rgb(194, 24, 91)", "rgb(136, 14, 79)"], ["#00698b", "#fb7b50"]], ue = () => {
    y(!1);
  }, ve = () => {
    var Ce;
    M(e.value), H(e.value), (Ce = e.onChange) == null || Ce.call(e, e.value), ue();
  }, le = () => {
    var Ee;
    const Ce = b() / 100, ke = Sd(T()).alpha(Ce).css();
    H(ke), (e.reactiveChange ?? !0) && ((Ee = e.onChange) == null || Ee.call(e, z()));
  }, re = (Ce) => {
    S(Ce.target.value), le();
  };
  return (() => {
    const Ce = oP(), ke = Ce.firstChild, Ee = ke.nextSibling, De = Ee.firstChild, Qe = De.nextSibling, et = Qe.firstChild, xt = et.nextSibling, at = xt.firstChild, We = Qe.nextSibling, $e = We.nextSibling, gt = $e.firstChild, Ue = gt.nextSibling;
    return ke.$$click = (dt) => {
      y(!0);
    }, qe(Ee, () => _e.map((dt) => (() => {
      const ft = sP();
      return qe(ft, () => dt.map(($t) => (() => {
        const Le = lP();
        return Le.$$click = (nt) => {
          nt.stopPropagation(), M($t), le();
        }, Bn((nt) => {
          const _n = `each_color ${$t == T() ? "selected" : ""}`, Et = `background-color: ${$t}`;
          return _n !== nt._v$4 && qa(Le, nt._v$4 = _n), nt._v$5 = mo(Le, Et, nt._v$5), nt;
        }, {
          _v$4: void 0,
          _v$5: void 0
        }), Le;
      })())), ft;
    })()), De), et.addEventListener("blur", () => {
      oe(!1);
    }), et.addEventListener("focus", () => {
      oe(!0);
    }), et.$$input = re, qe(xt, b, at), gt.$$click = ve, Ue.$$click = () => {
      var dt;
      e.reactiveChange === !1 && ((dt = e.onChange) == null || dt.call(e, z())), ue();
    }, Bn((dt) => {
      const ft = `width: 120px; background-color: ${z()}`, $t = `klinecharts-pro-color ${e.class ?? ""} ${n() ? "klinecharts-pro-color-show" : ""}`, Le = `background-color: ${z()}; border: 1px solid ${T()}`;
      return dt._v$ = mo(Ce, ft, dt._v$), $t !== dt._v$2 && qa(Ce, dt._v$2 = $t), dt._v$3 = mo(et, Le, dt._v$3), dt;
    }, {
      _v$: void 0,
      _v$2: void 0,
      _v$3: void 0
    }), Bn(() => et.value = b()), Ce;
  })();
};
yi(["click", "input"]);
const uP = /* @__PURE__ */ Je('<div id="background" class="klinecharts-pro-popup_background"><input id="input" class="period_range" type="range" min="1" max="10">');
Ae(0);
const [Lc, wd] = Ae(0), cP = 10, hP = (e) => {
  s1(e.target.value), Fl().setInterval = (cP + 1 - as()) * 100;
}, dP = (e) => {
  e.target && e.target.classList.contains("klinecharts-pro-popup_background") && c1(!1);
}, fP = () => (() => {
  const e = uP(), f = e.firstChild;
  return e.$$click = dP, f.$$input = hP, Bn(() => `${Lc() - 45}px` != null ? f.style.setProperty("left", `${Lc() - 45}px`) : f.style.removeProperty("left")), Bn(() => f.value = as()), e;
})();
yi(["click", "input"]);
const pP = /* @__PURE__ */ Je('<img alt="symbol">'), vP = /* @__PURE__ */ Je('<div class="symbol"><span>'), gP = /* @__PURE__ */ Je('<div class="klinecharts-pro-period-bar"><div class="menu-container"><svg viewBox="0 0 1024 1024"><path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z"></path></svg></div><button class="item tools">Place order</button><div class="item tools period_home"><button class="item period"></button></div><button class="item tools"></button><div class="item tools period_home"><button class="item period">Speed </button></div><div class="item tools"><svg viewBox="0 0 20 20"><path d="M15.873,20L3.65079,20C1.5873,20,0,18.3871,0,16.2903L0,3.70968C-3.78442e-7,1.6129,1.5873,0,3.65079,0L15.873,0C17.9365,0,19.5238,1.6129,19.5238,3.70968C19.5238,4.35484,19.2063,4.51613,18.5714,4.51613C17.9365,4.51613,17.619,4.19355,17.619,3.70968C17.619,2.74194,16.8254,1.93548,15.873,1.93548L3.65079,1.93548C2.69841,1.93548,1.90476,2.74194,1.90476,3.70968L1.90476,16.2903C1.90476,17.2581,2.69841,18.0645,3.65079,18.0645L15.873,18.0645C16.8254,18.0645,17.619,17.2581,17.619,16.2903C17.619,15.8065,18.0952,15.3226,18.5714,15.3226C19.0476,15.3226,19.5238,15.8065,19.5238,16.2903C19.5238,18.2258,17.9365,20,15.873,20ZM14.9206,12.9032C14.7619,12.9032,14.4444,12.9032,14.2857,12.7419L11.2698,9.35484C10.9524,9.03226,10.9524,8.54839,11.2698,8.22581C11.5873,7.90323,12.0635,7.90323,12.381,8.22581L15.3968,11.6129C15.7143,11.9355,15.7143,12.4194,15.3968,12.7419C15.3968,12.9032,15.2381,12.9032,14.9206,12.9032ZM11.4286,13.2258C11.2698,13.2258,11.1111,13.2258,10.9524,13.0645C10.6349,12.7419,10.6349,12.4194,10.9524,12.0968L15.0794,7.74193C15.3968,7.41935,15.7143,7.41935,16.0317,7.74193C16.3492,8.06452,16.3492,8.3871,16.0317,8.70968L11.9048,13.0645C11.746,13.2258,11.5873,13.2258,11.4286,13.2258ZM10.3175,3.70968C10.6349,3.70968,11.4286,3.87097,11.4286,4.67742C11.4286,5.32258,10.4762,5.16129,10.1587,5.16129C8.73016,5.16129,8.25397,5.96774,8.09524,6.6129L7.77778,8.54839L9.36508,8.54839C9.68254,8.54839,10,8.87097,10,9.19355C10,9.51613,9.68254,9.83871,9.36508,9.83871L7.61905,9.83871L6.50794,14.8387Q6.34921,16.2903,5.39683,16.2903Q4.44444,16.2903,4.92064,14.8387L6.03175,10L4.60317,10C4.28571,10,3.96825,9.67742,3.96825,9.35484C3.96825,8.70968,4.28571,8.54839,4.60317,8.54839L6.34921,8.54839L6.8254,6.45161C7.14286,3.70968,9.52381,3.54839,10.3175,3.70968ZM18.4127,6.6129C18.5714,6.12903,18.8889,5.96774,19.3651,5.96774C19.8413,6.12903,20,6.45161,20,6.93548L18.4127,13.3871C18.254,13.871,17.9365,14.0323,17.4603,14.0323C16.9841,13.871,16.8254,13.5484,16.8254,13.0645L18.4127,6.6129Z"></path></svg><span></span></div><div class="item tools"><svg width="20" height="20" viewBox="0 0 20 20"><path d="M18.5446,9.09091C18.3333,6.61616,17.2887,4.31818,15.5751,2.63889C13.8498,0.94697,11.6197,0,9.28404,0C8.02817,0,6.81925,0.265151,5.66901,0.782828C5.65728,0.782828,5.65728,0.795454,5.64554,0.795454C5.6338,0.795454,5.6338,0.808081,5.62207,0.808081C4.53052,1.31313,3.55634,2.0202,2.71127,2.92929C1.85446,3.85101,1.18545,4.91162,0.715963,6.11111C0.246479,7.33586,0,8.64899,0,10C0,10.8712,0.105634,11.7172,0.305164,12.5379C0.305164,12.5631,0.316901,12.5884,0.328638,12.6136C0.739437,14.2298,1.51408,15.7197,2.62911,16.9571C4.07277,18.548,5.92723,19.5581,7.93427,19.8737C7.95775,19.8737,7.96948,19.8864,7.99296,19.8864C8.3216,19.9369,8.66197,19.9747,9.00235,19.9747L9.21362,19.9747C9.61268,19.9747,10.3756,19.9369,11.0094,19.697C11.1737,19.6338,11.3028,19.5076,11.3732,19.3434C11.4437,19.1793,11.4554,18.9899,11.3967,18.8131C11.3028,18.5354,11.0563,18.346,10.7864,18.346C10.716,18.346,10.6338,18.3586,10.5634,18.3838C10.0939,18.5606,9.46009,18.5859,9.20188,18.5859L9.09624,18.5859C9.20188,18.2702,9.23709,17.9167,9.15493,17.5505C9.00235,16.8939,8.50939,16.3384,7.58216,15.7955L7.19484,15.5682C6.57277,15.2146,6.23239,15.0253,6.03286,14.7348C5.83333,14.4444,5.69249,13.9899,5.51643,12.9798C5.38732,12.298,5.04695,11.7677,4.50704,11.4646C4.14319,11.2626,3.70892,11.149,3.19249,11.149C2.82864,11.149,2.42958,11.1995,2.00704,11.3005C1.79578,11.351,1.59624,11.4141,1.42019,11.4646C1.33803,10.9848,1.30282,10.4798,1.30282,9.97475C1.30282,6.93182,2.76995,4.26768,4.98826,2.72727C5,3.00505,5.05869,3.29545,5.17606,3.57323C5.48122,4.26768,6.10329,4.7096,7.01878,4.89899C7.06573,4.91162,7.10094,4.91162,7.13615,4.91162L7.1831,4.91162C7.26526,4.91162,7.57042,4.92424,7.88732,5.0505C8.3216,5.2399,8.56808,5.55555,8.65023,6.04798C8.84977,7.61364,9.07277,10.4293,8.79108,11.3384C8.76761,11.4141,8.75587,11.4899,8.75587,11.5657C8.75587,11.9444,9.0493,12.2601,9.40141,12.2601C9.57747,12.2601,9.74179,12.1843,9.85915,12.0581C9.97653,11.9318,12.6174,9.05303,13.3216,8.09343C13.4038,7.97979,13.4859,7.87878,13.5798,7.76515C13.9202,7.33586,14.2723,6.90656,14.4014,6.26262C14.554,5.56818,14.4014,4.79798,13.9437,3.85101C13.615,3.16919,13.5563,2.86616,13.5446,2.75252C13.5563,2.7399,13.5798,2.72727,13.6033,2.71464C15.6221,4.10353,17.0188,6.43939,17.2535,9.19192C17.2887,9.55808,17.5587,9.82323,17.8991,9.82323L17.9577,9.82323C18.3099,9.8106,18.5681,9.48232,18.5446,9.09091ZM3.19249,12.5631C3.48592,12.5631,3.72066,12.6136,3.89671,12.7146C4.08451,12.8283,4.19014,12.9924,4.23709,13.2702C4.43662,14.3434,4.61268,15.0631,5,15.6061C5.37559,16.1364,5.85681,16.4015,6.58451,16.8182L6.60798,16.8308C6.71362,16.8939,6.84272,16.9571,6.96009,17.0328C7.69953,17.4621,7.86385,17.7525,7.89906,17.8914C7.93427,18.0303,7.85211,18.2323,7.74648,18.4343C4.91784,17.8535,2.65258,15.6944,1.73709,12.8283C2.15962,12.702,2.71127,12.5631,3.19249,12.5631ZM12.7934,4.5202C13.4272,5.83333,13.1455,6.18687,12.5822,6.89394C12.4883,7.00758,12.3944,7.12121,12.3005,7.24747C11.9484,7.72727,11.0211,8.77525,10.2113,9.68434C10.2113,9.24242,10.1878,8.73737,10.1526,8.19444C10.0704,6.95707,9.92958,5.90909,9.92958,5.87121L9.92958,5.83333C9.75352,4.83586,9.20188,4.11616,8.3216,3.76263C7.82864,3.56061,7.37089,3.53535,7.19484,3.53535C6.73709,3.43434,6.4554,3.24495,6.33803,2.99242C6.19718,2.68939,6.29108,2.24747,6.38498,1.9697C7.28873,1.59091,8.26291,1.37626,9.28404,1.37626C10.3873,1.37626,11.4437,1.61616,12.4061,2.04545C12.3357,2.18434,12.277,2.34848,12.2535,2.5505C12.2066,3.04293,12.3709,3.64899,12.7934,4.5202Z"></path><path d="M15.22299772857666,9.722223632261718C12.59389772857666,9.722223632261718,10.44600772857666,12.020201374511718,10.44600772857666,14.861111374511719C10.44600772857666,17.70202137451172,12.58215772857666,20.000021374511718,15.223007728576661,20.000021374511718C17.86384772857666,20.000021374511718,19.99999772857666,17.70202137451172,19.99999772857666,14.861111374511719C19.99999772857666,12.020201374511718,17.85211772857666,9.72222212709572,15.22299772857666,9.722223632261718ZM15.22299772857666,18.598491374511717C13.30985772857666,18.598491374511717,11.737087728576661,16.91919137451172,11.737087728576661,14.848481374511719C11.737087728576661,12.777781374511719,13.29811772857666,11.098491374511719,15.22299772857666,11.098491374511719C17.14787772857666,11.098491374511719,18.708917728576658,12.777781374511719,18.708917728576658,14.848481374511719C18.708917728576658,16.91919137451172,17.13614772857666,18.59848137451172,15.22299772857666,18.598491374511717Z"></path><path d="M15.692486288146974,15.050496970825195L15.692486288146974,12.676760970825196C15.692486288146974,12.297972970825196,15.399058288146973,11.982316970825195,15.046945288146972,11.982316970825195C14.694833288146972,11.982316970825195,14.401406288146973,12.297972970825196,14.401406288146973,12.676760970825196L14.401406288146973,15.340896970825195C14.401406288146973,15.530296970825194,14.471829288146973,15.694436970825196,14.589200288146973,15.833326970825196L15.751176288146972,17.095956970825195C15.868546288146973,17.222216970825194,16.032866288146973,17.297976970825196,16.208916288146973,17.297976970825196C16.384976288146973,17.297976970825196,16.537556288146973,17.222216970825194,16.666666288146974,17.095956970825195C16.78403628814697,16.969686970825194,16.854456288146974,16.792916970825196,16.854456288146974,16.603526970825193C16.854456288146974,16.414136970825197,16.78403628814697,16.237366970825196,16.666666288146974,16.111106970825197L15.692486288146974,15.050496970825195Z"></path></svg><span></span></div><div class="item tools"><svg viewBox="0 0 20 20"><path d="M19.7361,12.542L18.1916,11.2919C18.2647,10.8678,18.3025,10.4347,18.3025,10.0017C18.3025,9.56861,18.2647,9.13555,18.1916,8.71142L19.7361,7.46135C19.9743,7.26938,20.0615,6.95686,19.9554,6.6756L19.9342,6.61756C19.5074,5.49026,18.8755,4.45449,18.0549,3.53926L18.0124,3.49238C17.8096,3.26692,17.4819,3.1821,17.1848,3.28032L15.2677,3.92544C14.5603,3.3763,13.7704,2.94324,12.9168,2.63966L12.5466,0.742229C12.49,0.449802,12.2472,0.222111,11.9383,0.168536L11.8746,0.157375C10.6461,-0.0524583,9.35391,-0.0524583,8.1254,0.157375L8.06174,0.168536C7.75284,0.222111,7.50997,0.449802,7.45338,0.742229L7.08082,2.64859C6.2343,2.95217,5.44909,3.383,4.74641,3.92991L2.81522,3.28032C2.52047,3.1821,2.19036,3.26469,1.98757,3.49238L1.94513,3.53926C1.12455,4.45672,0.492609,5.49249,0.0658141,6.61756L0.0445921,6.6756C-0.0615171,6.95463,0.0257283,7.26715,0.263885,7.46135L1.82723,8.72482C1.75413,9.14448,1.71876,9.57308,1.71876,9.99944C1.71876,10.428,1.75413,10.8566,1.82723,11.2741L0.263885,12.5375C0.025729,12.7295,-0.0615164,13.042,0.0445929,13.3233L0.0658148,13.3813C0.49261,14.5064,1.12455,15.5444,1.94513,16.4596L1.98757,16.5065C2.19036,16.732,2.51812,16.8168,2.81522,16.7186L4.74641,16.069C5.44909,16.6159,6.2343,17.0489,7.08082,17.3503L7.45338,19.2567C7.50997,19.5491,7.75284,19.7768,8.06174,19.8303L8.1254,19.8415C8.74084,19.9464,9.37042,20,10,20C10.6296,20,11.2615,19.9464,11.8746,19.8415L11.9383,19.8303C12.2472,19.7768,12.49,19.5491,12.5466,19.2567L12.9168,17.3592C13.7704,17.0556,14.5603,16.6248,15.2677,16.0734L17.1848,16.7186C17.4795,16.8168,17.8096,16.7342,18.0124,16.5065L18.0549,16.4596C18.8755,15.5422,19.5074,14.5064,19.9342,13.3813L19.9554,13.3233C20.0615,13.0487,19.9743,12.7362,19.7361,12.542ZM16.5175,8.97483C16.5764,9.3119,16.6071,9.65791,16.6071,10.0039C16.6071,10.3499,16.5764,10.6959,16.5175,11.033L16.3618,11.9281L18.1233,13.3545C17.8568,13.9372,17.5196,14.4863,17.1188,14.9975L14.9305,14.2631L14.1901,14.839C13.6266,15.2765,12.9994,15.6203,12.3203,15.8614L11.4219,16.1806L10.9998,18.3459C10.3372,18.4173,9.66045,18.4173,8.9955,18.3459L8.57342,16.1761L7.6821,15.8524C7.01008,15.6114,6.38521,15.2676,5.82637,14.8323L5.08596,14.2541L2.88361,14.9953C2.48275,14.4841,2.14791,13.9327,1.8791,13.3523L3.65938,11.9125L3.50611,11.0196C3.44952,10.687,3.41887,10.3432,3.41887,10.0039C3.41887,9.66237,3.44716,9.32083,3.50611,8.98822L3.65938,8.09531L1.8791,6.6555C2.14556,6.07288,2.48275,5.52374,2.88361,5.01255L5.08596,5.75367L5.82637,5.17551C6.38521,4.74022,7.01008,4.39645,7.6821,4.15536L8.57578,3.83615L8.99786,1.66638C9.66045,1.59495,10.3372,1.59495,11.0021,1.66638L11.4242,3.83168L12.3226,4.1509C12.9994,4.39198,13.6289,4.73575,14.1925,5.17328L14.9329,5.7492L17.1211,5.01479C17.522,5.52598,17.8568,6.07734,18.1256,6.65773L16.3642,8.08416L16.5175,8.97483ZM10.0024,5.85189C7.7104,5.85189,5.85231,7.61092,5.85231,9.78068C5.85231,11.9504,7.7104,13.7095,10.0024,13.7095C12.2943,13.7095,14.1524,11.9504,14.1524,9.78068C14.1524,7.61092,12.2943,5.85189,10.0024,5.85189ZM11.8699,11.5486C11.37,12.0196,10.7074,12.2808,10.0024,12.2808C9.29732,12.2808,8.63473,12.0196,8.13483,11.5486C7.6373,11.0754,7.36142,10.4481,7.36142,9.78068C7.36142,9.11323,7.6373,8.48596,8.13483,8.01272C8.63473,7.53948,9.29732,7.28054,10.0024,7.28054C10.7074,7.28054,11.37,7.53948,11.8699,8.01272C12.3674,8.48596,12.6433,9.11323,12.6433,9.78068C12.6433,10.4481,12.3674,11.0754,11.8699,11.5486Z"></path></svg><span></span></div><div class="item tools"><svg viewBox="0 0 20 20"><path d="M6.50977,1L13.4902,1C13.6406,1,13.7695,1.1104910000000001,13.7969,1.2631700000000001L14.0273,2.52277C14.1387,3.13147,14.6543,3.57143,15.2559,3.57143L17.5,3.57143C18.8809,3.57143,20,4.72254,20,6.14286L20,16.4286C20,17.8489,18.8809,19,17.5,19L2.5,19C1.11914,19,0,17.8489,0,16.4286L0,6.14286C0,4.72254,1.11914,3.57143,2.5,3.57143L4.74414,3.57143C5.3457,3.57143,5.86133,3.13147,5.97266,2.52277L6.20312,1.2631700000000001C6.23047,1.1104910000000001,6.35937,1,6.50977,1ZM15.2559,4.857139999999999C14.0547,4.857139999999999,13.0215,3.97522,12.7988,2.75982L12.7129,2.28571L7.28711,2.28571L7.20117,2.75982C6.98047,3.97522,5.94727,4.857139999999999,4.74414,4.857139999999999L2.5,4.857139999999999C1.81055,4.857139999999999,1.25,5.43371,1.25,6.14286L1.25,16.4286C1.25,17.1377,1.81055,17.7143,2.5,17.7143L17.5,17.7143C18.1895,17.7143,18.75,17.1377,18.75,16.4286L18.75,6.14286C18.75,5.43371,18.1895,4.857139999999999,17.5,4.857139999999999L15.2559,4.857139999999999ZM4.375,6.78571L3.125,6.78571C2.7793,6.78571,2.5,6.49844,2.5,6.14286C2.5,5.78728,2.7793,5.5,3.125,5.5L4.375,5.5C4.7207,5.5,5,5.78728,5,6.14286C5,6.49844,4.7207,6.78571,4.375,6.78571ZM10,6.14286C7.06641,6.14286,4.6875,8.58973,4.6875,11.6071C4.6875,14.6246,7.06641,17.0714,10,17.0714C12.9336,17.0714,15.3125,14.6246,15.3125,11.6071C15.3125,8.58973,12.9336,6.14286,10,6.14286ZM10,7.42857C11.0859,7.42857,12.1055,7.8625,12.873,8.65201C13.6406,9.44152,14.0625,10.49018,14.0625,11.6071C14.0625,12.7241,13.6406,13.7728,12.873,14.5623C12.1055,15.3518,11.0859,15.7857,10,15.7857C8.91406,15.7857,7.89453,15.3518,7.12695,14.5623C6.35937,13.7728,5.9375,12.7241,5.9375,11.6071C5.9375,10.49018,6.35938,9.44152,7.12695,8.65201C7.89453,7.8625,8.91406,7.42857,10,7.42857ZM10,9.67857C8.96484,9.67857,8.125,10.54241,8.125,11.6071C8.125,12.6719,8.96484,13.5357,10,13.5357C11.0352,13.5357,11.875,12.6719,11.875,11.6071C11.875,10.54241,11.0352,9.67857,10,9.67857ZM10,10.96429C10.3438,10.96429,10.625,11.2536,10.625,11.6071C10.625,11.9607,10.3438,12.25,10,12.25C9.65625,12.25,9.375,11.9607,9.375,11.6071C9.375,11.2536,9.65625,10.96429,10,10.96429Z"></path></svg><span></span></div><div class="item tools"></div><button class="item tools"></button><div class="order-container"><svg viewBox="0 0 1024 1024"><path d="M192.037 287.953h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32zM832.161 479.169H438.553c-17.673 0-32 14.327-32 32s14.327 32 32 32h393.608c17.673 0 32-14.327 32-32s-14.327-32-32-32zM832.161 735.802H192.037c-17.673 0-32 14.327-32 32s14.327 32 32 32h640.124c17.673 0 32-14.327 32-32s-14.327-32-32-32zM319.028 351.594l-160 160 160 160z">'), yP = /* @__PURE__ */ Je('<div class="klinecharts-pro-popup_background"><div class="period_list">'), mP = /* @__PURE__ */ Je("<li>"), _P = /* @__PURE__ */ Je('<svg viewBox="0 0 20 20"><path d="M1.08108,0L0,1.079L4.18919,5.27938L2.54826,6.91715L6.9112,6.91715L6.9112,2.56262L5.28957,4.18112L1.08108,0ZM15.8108,5.27938L20,1.079L18.9189,0L14.7104,4.18112L13.0888,2.56262L13.0888,6.91715L17.4517,6.91715L15.8108,5.27938ZM4.16988,14.7014L0.07722,18.8054L1.1583,20L5.27027,15.7996L6.9112,17.4374L6.9112,13.0829L2.54826,13.0829L4.16988,14.7014ZM17.4517,13.0829L13.0888,13.0829L13.0888,17.4374L14.7297,15.7996L18.8417,20L19.9228,18.8054L15.8301,14.7013L17.4517,13.0829Z">'), Td = /* @__PURE__ */ Je("<span>"), xP = /* @__PURE__ */ Je('<svg viewBox="0 0 20 20"><path d="M2.93444,1.76899L7.57544,6.40999L6.38918,7.59626L1.76899,2.93444L0,4.70343L0,0L4.70343,0L2.93444,1.76899ZM6.40999,12.4037L1.76899,17.0447L0,15.2758L0,19.9792L4.70343,19.9792L2.93444,18.2102L7.57544,13.5692L6.40999,12.4037ZM15.2758,0L17.0447,1.76899L12.4037,6.40999L13.59,7.59626L18.231,2.95526L20,4.72425L20,0L15.2758,0ZM13.5692,12.4037L12.3829,13.59L17.0239,18.231L15.2549,20L19.9792,20L19.9792,15.2758L18.2102,17.0447L13.5692,12.4037Z">'), bP = (e) => {
  const [f, n] = Ae(!1), [y, b] = Ae(!0), S = () => {
    n(!1), c1(!1), b(!0);
  }, T = () => {
    aC((ee) => !ee);
  }, M = () => {
  }, z = () => {
    l1(!Ws()), e.datafeed.setIsPaused = Ws(), np();
  }, H = (ee) => {
    wd(Ys().x - ee.pageX > 200 ? ee.pageX : Ys().x - 200), S(), c1(!0);
  };
  return h1(() => {
    document.addEventListener("fullscreenchange", T), document.addEventListener("mozfullscreenchange", T), document.addEventListener("webkitfullscreenchange", T), document.addEventListener("msfullscreenchange", T);
  }), d1(() => {
    document.removeEventListener("fullscreenchange", T), document.removeEventListener("mozfullscreenchange", T), document.removeEventListener("webkitfullscreenchange", T), document.removeEventListener("msfullscreenchange", T);
  }), (() => {
    const ee = gP(), oe = ee.firstChild, _e = oe.firstChild, ue = oe.nextSibling, ve = ue.nextSibling, le = ve.firstChild, re = ve.nextSibling, Ce = re.nextSibling, ke = Ce.firstChild;
    ke.firstChild;
    const Ee = Ce.nextSibling, De = Ee.firstChild, Qe = De.nextSibling, et = Ee.nextSibling, xt = et.firstChild, at = xt.nextSibling, We = et.nextSibling, $e = We.firstChild, gt = $e.nextSibling, Ue = We.nextSibling, dt = Ue.firstChild, ft = dt.nextSibling, $t = Ue.nextSibling, Le = $t.nextSibling, nt = Le.nextSibling, _n = nt.firstChild;
    return f1((Et) => {
    }, ee), is(_e, "click", e.onMenuClick, !0), qe(ee, je(An, {
      get when() {
        return e.symbol;
      },
      get children() {
        const Et = vP(), ct = Et.firstChild;
        return Et.$$click = M, qe(Et, je(An, {
          get when() {
            return e.symbol.logo;
          },
          get children() {
            const Tt = pP();
            return Bn(() => gi(Tt, "src", e.symbol.logo)), Tt;
          }
        }), ct), qe(ct, () => e.symbol.shortName ?? e.symbol.name ?? e.symbol.ticker), Et;
      }
    }), ue), ue.$$click = () => {
      Pu(!0), Sr(!0), e.orderController.launchOrderModal("placeorder", Te().onOrderPlaced);
    }, le.$$click = (Et) => {
      f() || (S(), wd(Ys().x - Et.pageX > 200 ? Et.pageX : Ys().x - 200)), b(!y()), n(!f()), Sr(!0);
    }, qe(le, () => e.period.text), qe(ve, (() => {
      const Et = In(() => !!f());
      return () => Et() && (() => {
        const ct = yP(), Tt = ct.firstChild;
        return ct.$$click = () => {
          b(!y), Sr(!1), n(!1);
        }, qe(Tt, () => e.periods.map((Nn) => (() => {
          const Vr = mP();
          return Vr.$$click = () => {
            e.onPeriodChange(Nn), b(!y()), n(!1), Sr(!1);
          }, qe(Vr, () => Nn.text), Vr;
        })())), Bn(() => `${Lc() - 50}px` != null ? Tt.style.setProperty("left", `${Lc() - 50}px`) : Tt.style.removeProperty("left")), ct;
      })();
    })(), null), re.$$click = () => {
      l1(!Ws()), e.datafeed.setIsPaused = Ws();
    }, qe(re, () => Ws() ? "Play" : "Pause"), ke.$$click = H, qe(ke, as, null), is(Ee, "click", e.onIndicatorClick, !0), qe(Qe, () => U("indicator", e.locale)), is(et, "click", e.onTimezoneClick, !0), qe(at, () => U("timezone", e.locale)), is(We, "click", e.onSettingClick, !0), qe(gt, () => U("setting", e.locale)), is(Ue, "click", e.onScreenshotClick, !0), qe(ft, () => U("screenshot", e.locale)), $t.$$click = () => {
      if (o1())
        (document.exitFullscreen ?? document.msExitFullscreen ?? document.mozCancelFullScreen ?? document.webkitExitFullscreen).call(document);
      else {
        const Et = document.querySelector(`#${up()}`);
        Et && (Et.requestFullscreen ?? Et.webkitRequestFullscreen ?? Et.mozRequestFullScreen ?? Et.msRequestFullscreen).call(Et);
      }
    }, qe($t, (() => {
      const Et = In(() => !!o1());
      return () => Et() ? [_P(), (() => {
        const ct = Td();
        return qe(ct, () => U("exit_full_screen", e.locale)), ct;
      })()] : [xP(), (() => {
        const ct = Td();
        return qe(ct, () => U("full_screen", e.locale)), ct;
      })()];
    })()), Le.$$click = z, qe(Le, () => {
      var Et;
      return (Et = Ac()) != null && Et.isNotGuest() ? "Dashboard" : "Exit Test";
    }), is(_n, "click", e.onOrderMenuClick, !0), Bn((Et) => {
      const ct = `${y() ? "overflow-x: auto;" : ""}`, Tt = e.spread ? "" : "rotate", Nn = e.order_spread ? "" : "rotate";
      return Et._v$ = mo(ee, ct, Et._v$), Tt !== Et._v$2 && gi(_e, "class", Et._v$2 = Tt), Nn !== Et._v$3 && gi(_n, "class", Et._v$3 = Nn), Et;
    }, {
      _v$: void 0,
      _v$2: void 0,
      _v$3: void 0
    }), ee;
  })();
};
yi(["click"]);
const CP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M12.41465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L12.41465,12C12.20873,12.5826,11.65311,13,11,13C10.34689,13,9.79127,12.5826,9.58535,12L3.5,12C3.223857,12,3,11.77614,3,11.5C3,11.22386,3.223857,11,3.5,11L9.58535,11C9.79127,10.417404,10.34689,10,11,10C11.65311,10,12.20873,10.417404,12.41465,11Z" stroke-opacity="0" stroke="none">'), SP = () => CP(), wP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M6.91465,11L11.08535,11C11.29127,10.417404,11.84689,10,12.5,10C13.15311,10,13.70873,10.417404,13.91465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L13.91465,12C13.70873,12.5826,13.15311,13,12.5,13C11.84689,13,11.29127,12.5826,11.08535,12L6.91465,12C6.70873,12.5826,6.15311,13,5.5,13C4.671573,13,4,12.32843,4,11.5C4,10.671573,4.671573,10,5.5,10C6.15311,10,6.70873,10.417404,6.91465,11Z" stroke-opacity="0" stroke="none">'), TP = () => wP(), kP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M6.91465,12.5C6.70873,13.0826,6.15311,13.5,5.5,13.5C4.671573,13.5,4,12.82843,4,12C4,11.171573,4.671573,10.5,5.5,10.5C6.15311,10.5,6.70873,10.917404,6.91465,11.5L16.0853,11.5C16.2913,10.917404,16.846899999999998,10.5,17.5,10.5C18.328400000000002,10.5,19,11.171573,19,12C19,12.82843,18.328400000000002,13.5,17.5,13.5C16.846899999999998,13.5,16.2913,13.0826,16.0853,12.5L6.91465,12.5Z" stroke-opacity="0" stroke="none">'), PP = () => kP(), IP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z" stroke-opacity="0" stroke="none">'), EP = () => IP(), LP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M11.66558837890625,19C10.83716137890625,19,10.16558837890625,18.328400000000002,10.16558837890625,17.5C10.16558837890625,16.846899999999998,10.58298437890625,16.2913,11.16557337890625,16.0854L11.16557337890625,11.91464C10.58298437890625,11.70872,10.16558837890625,11.1531,10.16558837890625,10.5C10.16558837890625,9.8469,10.58298437890625,9.29128,11.16557337890625,9.08536L11.16557337890625,4.5C11.16557337890625,4.223857,11.38942837890625,4,11.66556837890625,4C11.94171837890625,4,12.16556837890625,4.223857,12.16556837890625,4.5L12.16556837890625,9.08535C12.74817837890625,9.291260000000001,13.16558837890625,9.846879999999999,13.16558837890625,10.5C13.16558837890625,11.153120000000001,12.74817837890625,11.708739999999999,12.16556837890625,11.91465L12.16556837890625,16.0854C12.74817837890625,16.2913,13.16558837890625,16.846899999999998,13.16558837890625,17.5C13.16558837890625,18.328400000000002,12.49401837890625,19,11.66558837890625,19Z" stroke-opacity="0" stroke="none">'), AP = () => LP(), MP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M11.165603637695312,6.91465C11.748203637695312,6.70873,12.165603637695312,6.15311,12.165603637695312,5.5C12.165603637695312,4.671573,11.494033637695313,4,10.665603637695312,4C9.837176637695313,4,9.165603637695312,4.671573,9.165603637695312,5.5C9.165603637695312,6.15311,9.583007637695312,6.70873,10.165603637695312,6.91465L10.165603637695312,16.0854C9.583007637695312,16.2913,9.165603637695312,16.846899999999998,9.165603637695312,17.5C9.165603637695312,18.328400000000002,9.837176637695313,19,10.665603637695312,19C11.494033637695313,19,12.165603637695312,18.328400000000002,12.165603637695312,17.5C12.165603637695312,16.846899999999998,11.748203637695312,16.2913,11.165603637695312,16.0854L11.165603637695312,6.91465Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), DP = () => MP(), FP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z" stroke-opacity="0" stroke="none">'), $P = () => FP(), RP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M7.573332939453125,14.54567903564453C7.667042939453125,14.741499035644532,7.719512939453125,14.960809035644532,7.719512939453125,15.19239903564453C7.719512939453125,16.02079903564453,7.047942939453125,16.69239903564453,6.219512939453125,16.69239903564453C5.391085939453125,16.69239903564453,4.719512939453125,16.02079903564453,4.719512939453125,15.19239903564453C4.719512939453125,14.36394903564453,5.391085939453125,13.692379035644532,6.219512939453125,13.692379035644532C6.451092939453125,13.692379035644532,6.670412939453125,13.74485903564453,6.866232939453125,13.83856903564453L9.865702939453126,10.83909903564453C9.771992939453124,10.643279035644532,9.719512939453125,10.42395903564453,9.719512939453125,10.192379035644532C9.719512939453125,9.36394903564453,10.391082939453124,8.692379035644532,11.219512939453125,8.692379035644532C11.451092939453126,8.692379035644532,11.670412939453126,8.74485903564453,11.866232939453125,8.838569035644532L15.462112939453124,5.242645035644531C15.657412939453126,5.047383335644532,15.974012939453125,5.047383335644532,16.169212939453125,5.242645035644531C16.364512939453125,5.437907035644531,16.364512939453125,5.754489035644531,16.169212939453125,5.949752035644531L12.573332939453124,9.545679035644532C12.667042939453125,9.74149903564453,12.719512939453125,9.96080903564453,12.719512939453125,10.192379035644532C12.719512939453125,11.020809035644533,12.047942939453126,11.692379035644532,11.219512939453125,11.692379035644532C10.987942939453125,11.692379035644532,10.768632939453125,11.639909035644532,10.572812939453126,11.54619903564453L7.573332939453125,14.54567903564453Z" stroke-opacity="0" stroke="none">'), OP = () => RP(), BP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M15.719512939453125,8.461776733398438C16.547912939453127,8.461776733398438,17.219512939453125,7.7902067333984375,17.219512939453125,6.9617767333984375C17.219512939453125,6.133349733398438,16.547912939453127,5.4617767333984375,15.719512939453125,5.4617767333984375C14.891082939453124,5.4617767333984375,14.219512939453125,6.133349733398438,14.219512939453125,6.9617767333984375C14.219512939453125,7.193346733398437,14.271992939453124,7.412666733398438,14.365692939453124,7.608486733398438L7.366222939453126,14.607956733398437C7.170402939453125,14.514256733398437,6.951082939453125,14.461776733398438,6.719512939453125,14.461776733398438C5.891085939453125,14.461776733398438,5.219512939453125,15.133346733398437,5.219512939453125,15.961776733398438C5.219512939453125,16.79017673339844,5.891085939453125,17.461776733398438,6.719512939453125,17.461776733398438C7.547942939453125,17.461776733398438,8.219512939453125,16.79017673339844,8.219512939453125,15.961776733398438C8.219512939453125,15.730176733398437,8.167032939453126,15.510876733398437,8.073322939453124,15.315066733398437L15.072802939453124,8.315586733398437C15.268612939453124,8.409296733398438,15.487912939453125,8.461776733398438,15.719512939453125,8.461776733398438Z" stroke-opacity="0" stroke="none">'), NP = () => BP(), zP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M17.0643,7.033864912109375L18,3.585784912109375L14.5078,4.509695912109375L15.3537,5.344934912109375L6.02026,14.560584912109375C5.87635,14.517484912109374,5.72366,14.494284912109375,5.5655,14.494284912109375C4.7009,14.494284912109375,4,15.186384912109375,4,16.040084912109375C4,16.893784912109375,4.7009,17.585784912109375,5.5655,17.585784912109375C6.43011,17.585784912109375,7.13101,16.893784912109375,7.13101,16.040084912109375C7.13101,15.722284912109375,7.03392,15.426984912109376,6.86744,15.181384912109374L16.0917,6.073604912109375L17.0643,7.033864912109375Z" stroke-opacity="0" stroke="none">'), VP = () => zP(), WP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M6.91465,13.00505L18.5,13.00505C18.7761,13.00505,19,13.228909999999999,19,13.50505C19,13.781189999999999,18.7761,14.00505,18.5,14.00505L6.91465,14.00505C6.70873,14.58765,6.15311,15.00505,5.5,15.00505C4.671573,15.00505,4,14.33348,4,13.50505C4,12.67662,4.671573,12.00505,5.5,12.00505C6.15311,12.00505,6.70873,12.422450000000001,6.91465,13.00505ZM7.81404,11.625L10.48591,11.625L10.48591,10.90625L9.65193,10.90625L9.65193,7.125L8.997630000000001,7.125C8.71443,7.306641,8.415600000000001,7.419922,7.96443,7.498047L7.96443,8.05078L8.77497,8.05078L8.77497,10.90625L7.81404,10.90625L7.81404,11.625ZM11.081620000000001,11.625L14.0562,11.625L14.0562,10.88281L13.09724,10.88281C12.8863,10.88281,12.59333,10.90625,12.36482,10.93555C13.17537,10.11328,13.84724,9.2207,13.84724,8.39062C13.84724,7.541016,13.28865,7,12.4488,7C11.84333,7,11.446850000000001,7.234375,11.03279,7.679688L11.52497,8.16797C11.747630000000001,7.914062,12.0113,7.697266,12.33552,7.697266C12.7613,7.697266,13.00154,7.982422,13.00154,8.43359C13.00154,9.14648,12.29255,10.00781,11.081620000000001,11.11523L11.081620000000001,11.625ZM15.9605,11.75C16.8121,11.75,17.526899999999998,11.2832,17.526899999999998,10.4375C17.526899999999998,9.82031,17.142200000000003,9.43945,16.6441,9.30078L16.6441,9.27148C17.1129,9.08594,17.3824,8.7207,17.3824,8.21289C17.3824,7.421875,16.8004,7,15.9429,7C15.4215,7,14.9957,7.210938,14.6109,7.541016L15.066,8.11133C15.3258,7.849609,15.5836,7.697266,15.9019,7.697266C16.2789,7.697266,16.4957,7.914062,16.4957,8.28125C16.4957,8.70898,16.2301,9,15.4215,9L15.4215,9.63672C16.3804,9.63672,16.6383,9.91992,16.6383,10.38086C16.6383,10.79688,16.3336,11.03125,15.8824,11.03125C15.4742,11.03125,15.1578,10.82227,14.8922,10.55078L14.4781,11.13281C14.7906,11.486329999999999,15.2652,11.75,15.9605,11.75Z" stroke-opacity="0" stroke="none">'), YP = () => WP(), XP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M3.146447,14.178126025390625C2.9511847,13.982826025390626,2.9511847,13.666226025390625,3.146447,13.470926025390625L7.39146,9.225966025390626C7.35417,9.095106025390624,7.33421,8.956946025390625,7.33421,8.814116025390625C7.33421,7.985696025390625,8.00578,7.314116025390625,8.834209999999999,7.314116025390625C8.97703,7.314116025390625,9.11519,7.334086025390625,9.24605,7.371366025390625L13.753,2.864373025390625C13.9483,2.669110325390625,14.2649,2.669110325390625,14.4602,2.864373025390625C14.6554,3.059635025390625,14.6554,3.376217025390625,14.4602,3.571479025390625L10.06916,7.962476025390625C10.23631,8.204386025390626,10.334209999999999,8.497826025390625,10.334209999999999,8.814116025390625C10.334209999999999,9.642546025390626,9.66264,10.314116025390625,8.834209999999999,10.314116025390625C8.51791,10.314116025390625,8.22448,10.216226025390625,7.98256,10.049076025390626L3.853554,14.178126025390625C3.658291,14.373326025390625,3.341709,14.373326025390625,3.146447,14.178126025390625ZM7.67736,19.188526025390626C7.4821,18.993226025390626,7.4821,18.676626025390625,7.67736,18.481426025390626L9.9804,16.178326025390625C9.88669,15.982526025390625,9.834209999999999,15.763226025390624,9.834209999999999,15.531626025390626C9.834209999999999,14.703226025390626,10.50578,14.031626025390626,11.33421,14.031626025390626C11.56579,14.031626025390626,11.78511,14.084126025390624,11.98093,14.177826025390624L13.9804,12.178356025390626C13.8867,11.982536025390624,13.8342,11.763216025390625,13.8342,11.531636025390625C13.8342,10.703206025390624,14.5058,10.031636025390625,15.3342,10.031636025390625C15.5658,10.031636025390625,15.7851,10.084116025390625,15.9809,10.177826025390626L18.284,7.874796025390625C18.4792,7.679536025390625,18.7958,7.679536025390625,18.9911,7.874796025390625C19.1863,8.070056025390624,19.1863,8.386636025390626,18.9911,8.581906025390625L16.688000000000002,10.884936025390624C16.7817,11.080756025390626,16.8342,11.300066025390626,16.8342,11.531636025390625C16.8342,12.360066025390624,16.162599999999998,13.031626025390626,15.3342,13.031626025390626C15.1026,13.031626025390626,14.8833,12.979126025390626,14.6875,12.885426025390625L12.68803,14.884926025390625C12.78174,15.080726025390625,12.83421,15.300026025390626,12.83421,15.531626025390626C12.83421,16.360026025390624,12.16264,17.031626025390626,11.33421,17.031626025390626C11.10264,17.031626025390626,10.88333,16.979126025390627,10.68751,16.885426025390625L8.38446,19.188526025390626C8.1892,19.383726025390626,7.87262,19.383726025390626,7.67736,19.188526025390626Z" stroke-opacity="0" stroke="none">'), HP = () => XP(), ZP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M3.3367688759765626,12.63173C3.5320318759765623,12.82699,3.8486138759765627,12.82699,4.043876875976562,12.63173L11.822052875976562,4.853553C12.017312875976563,4.658291,12.017312875976563,4.341708,11.822052875976562,4.146446C11.626792875976562,3.9511843,11.310202875976563,3.9511843,11.114942875976563,4.146446L3.3367688759765626,11.92462C3.1415071759765625,12.11988,3.1415071759765625,12.43647,3.3367688759765626,12.63173ZM5.001492875976562,17.0351C4.806232875976562,16.8399,4.806232875976562,16.5233,5.001492875976562,16.328L7.304532875976562,14.025C7.210822875976563,13.82916,7.158352875976563,13.60984,7.158352875976563,13.37827C7.158352875976563,12.54984,7.829922875976562,11.87827,8.658352875976561,11.87827C8.889922875976563,11.87827,9.109232875976563,11.93075,9.305052875976562,12.02446L11.304532875976562,10.02498C11.210822875976563,9.82916,11.158352875976561,9.60984,11.158352875976561,9.37827C11.158352875976561,8.54984,11.829922875976562,7.8782700000000006,12.658352875976563,7.8782700000000006C12.889922875976563,7.8782700000000006,13.109232875976563,7.93075,13.305022875976562,8.024460000000001L15.608122875976562,5.72142C15.803322875976562,5.5261499999999995,16.119922875976563,5.5261499999999995,16.315222875976563,5.72142C16.510422875976563,5.9166799999999995,16.510422875976563,6.23326,16.315222875976563,6.42852L14.012122875976562,8.73156C14.105822875976562,8.92738,14.158322875976562,9.1467,14.158322875976562,9.37827C14.158322875976562,10.2067,13.486822875976562,10.87827,12.658352875976563,10.87827C12.426772875976562,10.87827,12.207452875976562,10.82579,12.011642875976563,10.73209L10.012162875976562,12.73156C10.105872875976562,12.92738,10.158352875976561,13.1467,10.158352875976561,13.37827C10.158352875976561,14.2067,9.486772875976563,14.8783,8.658352875976561,14.8783C8.426772875976562,14.8783,8.207452875976562,14.8258,8.011642875976563,14.7321L5.708602875976562,17.0351C5.513342875976562,17.2304,5.196752875976562,17.2304,5.001492875976562,17.0351ZM10.415712875976563,18.328C10.220452875976562,18.5233,9.903862875976563,18.5233,9.708602875976563,18.328C9.513342875976562,18.1328,9.513342875976562,17.816200000000002,9.708602875976563,17.6209L12.304532875976562,15.025C12.210822875976563,14.8292,12.158352875976563,14.6098,12.158352875976563,14.3783C12.158352875976563,13.54984,12.829922875976562,12.87827,13.658322875976562,12.87827C13.889922875976563,12.87827,14.109222875976563,12.93075,14.305022875976562,13.02446L17.486822875976564,9.84274C17.682022875976564,9.64747,17.99862287597656,9.64747,18.19392287597656,9.84274C18.38912287597656,10.038,18.38912287597656,10.35458,18.19392287597656,10.54984L15.012122875976562,13.73156C15.105822875976562,13.92738,15.158322875976562,14.1467,15.158322875976562,14.3783C15.158322875976562,15.2067,14.486822875976562,15.8783,13.658322875976562,15.8783C13.426822875976562,15.8783,13.207422875976562,15.8258,13.011642875976563,15.7321L10.415712875976563,18.328Z" stroke-opacity="0" stroke="none">'), UP = () => ZP(), KP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M13.1889,6C12.98303,6.582599999999999,12.42741,7,11.7743,7C11.12119,7,10.565570000000001,6.582599999999999,10.35965,6L3.5,6C3.223857,6,3,5.77614,3,5.5C3,5.22386,3.223857,5,3.5,5L10.35965,5C10.565570000000001,4.417404,11.12119,4,11.7743,4C12.42741,4,12.98303,4.417404,13.1889,5L18.5,5C18.7761,5,19,5.22386,19,5.5C19,5.77614,18.7761,6,18.5,6L13.1889,6ZM3,8.5C3,8.22386,3.223857,8,3.5,8L18.5,8C18.7761,8,19,8.22386,19,8.5C19,8.77614,18.7761,9,18.5,9L3.5,9C3.223857,9,3,8.77614,3,8.5ZM3.278549,11.5C3.278549,11.22386,3.502407,11,3.778549,11L18.7785,11C19.0547,11,19.2785,11.22386,19.2785,11.5C19.2785,11.77614,19.0547,12,18.7785,12L3.778549,12C3.502407,12,3.278549,11.77614,3.278549,11.5ZM3.139267,14.5C3.139267,14.2239,3.363124,14,3.6392670000000003,14L18.6393,14C18.915399999999998,14,19.1393,14.2239,19.1393,14.5C19.1393,14.7761,18.915399999999998,15,18.6393,15L3.6392670000000003,15C3.363124,15,3.139267,14.7761,3.139267,14.5ZM13.1889,18C12.98303,18.5826,12.42741,19,11.7743,19C11.12119,19,10.565570000000001,18.5826,10.35965,18L3.778549,18C3.502407,18,3.278549,17.7761,3.278549,17.5C3.278549,17.2239,3.502407,17,3.778549,17L10.35965,17C10.565570000000001,16.4174,11.12119,16,11.7743,16C12.42741,16,12.98303,16.4174,13.1889,17L18.7785,17C19.0547,17,19.2785,17.2239,19.2785,17.5C19.2785,17.7761,19.0547,18,18.7785,18L13.1889,18Z" stroke-opacity="0" stroke="none">'), GP = () => KP(), jP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M4.91465,6C4.70873,6.582599999999999,4.15311,7,3.5,7C2.671573,7,2,6.32843,2,5.5C2,4.671573,2.671573,4,3.5,4C4.15311,4,4.70873,4.417404,4.91465,5L18.2257,5C18.5018,5,18.7257,5.22386,18.7257,5.5C18.7257,5.77614,18.5018,6,18.2257,6L4.91465,6ZM2.7257,8.5C2.7257,8.22386,2.949558,8,3.2257,8L18.2257,8C18.5018,8,18.7257,8.22386,18.7257,8.5C18.7257,8.77614,18.5018,9,18.2257,9L3.2257,9C2.949558,9,2.7257,8.77614,2.7257,8.5ZM3.00425,11.5C3.00425,11.22386,3.22811,11,3.50425,11L18.5042,11C18.7804,11,19.0042,11.22386,19.0042,11.5C19.0042,11.77614,18.7804,12,18.5042,12L3.50425,12C3.22811,12,3.00425,11.77614,3.00425,11.5ZM2.864967,14.5C2.864967,14.2239,3.08882,14,3.36497,14L18.365,14C18.6411,14,18.865,14.2239,18.865,14.5C18.865,14.7761,18.6411,15,18.365,15L3.36497,15C3.08882,15,2.864967,14.7761,2.864967,14.5ZM20,17.5C20,18.328400000000002,19.3284,19,18.5,19C17.846899999999998,19,17.2913,18.5826,17.0854,18L3.50425,18C3.22811,18,3.00425,17.7761,3.00425,17.5C3.00425,17.2239,3.22811,17,3.50425,17L17.0854,17C17.2913,16.4174,17.846899999999998,16,18.5,16C19.3284,16,20,16.671599999999998,20,17.5Z" stroke-opacity="0" stroke="none">'), qP = () => jP(), QP = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><ellipse cx="10.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="17.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="10.5" cy="11.5" rx="7" ry="7" fill-opacity="0" stroke-opacity="1" fill="none" stroke-width="1"></ellipse><ellipse cx="10.5" cy="11.5" rx="5" ry="5" fill-opacity="0" stroke-opacity="1" fill="none" stroke-width="1"></ellipse><ellipse cx="10.5" cy="11.5" rx="3" ry="3" fill-opacity="0" stroke-opacity="1" fill="none" stroke-width="1">'), JP = () => QP(), eI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M3,7.32468C5.90649,3.3893050000000002,11.49833,2.81306,14.6674,6.31944C14.9056,6.1554199999999994,15.192,6.05979,15.5,6.05979C15.845,6.05979,16.1628,6.17974,16.4162,6.381349999999999L18.4509,4.23827L19,4.816615L16.8945,7.03429C16.962600000000002,7.21075,17,7.40319,17,7.60463C17,8.45782,16.328400000000002,9.14947,15.5,9.14947C14.6716,9.14947,14,8.45782,14,7.60463C14,7.36402,14.0534,7.13625,14.1487,6.93322C11.32695,3.748365,6.25159,4.253956,3.612785,7.82695L3,7.32468ZM14.09,15.4717C15.7427,13.78985,16.244500000000002,11.524740000000001,15.5633,9.30134L15.5618,9.30134L16.3012,9.0502C17.072400000000002,11.56646,16.497700000000002,14.158,14.6282,16.0599C12.28737,18.442,8.62386,18.6988,6.41348,16.4501C4.5526,14.5572,4.52076,11.19671,6.36766,9.3177C7.89069,7.76754,10.07544,7.706189999999999,11.56741,9.22363C11.95453,9.61742,12.24817,10.08363,12.43369,10.57677L14.1451,8.77421L14.6942,9.35256L12.64982,11.50582C12.65827,11.59712,12.66295,11.68839,12.66378,11.77936C12.87398,12.04523,13,12.38451,13,12.7541C13,13.60729,12.32843,14.2989,11.5,14.2989C10.67157,14.2989,10,13.60729,10,12.7541C10,11.90091,10.67157,11.20926,11.5,11.20926C11.60387,11.20926,11.70528,11.220130000000001,11.8032,11.240829999999999L11.81763,11.22564C11.69858,10.71874,11.42858,10.21929,11.0284,9.81179C9.844000000000001,8.60765,8.136890000000001,8.65592,6.90822,9.90586C5.37975,11.460930000000001,5.40693,14.288,6.95404,15.8619C8.84598,17.7867,12.03496,17.5626,14.09,15.4717Z" stroke-opacity="0" stroke="none">'), tI = () => eI(), nI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M4,17.0854L4,3.5C4,3.223858,4.22386,3,4.5,3C4.77614,3,5,3.223858,5,3.5L5,10L7.57584,10L9.8127,4.46359C9.91614,4.20756,10.20756,4.08386,10.46359,4.1873000000000005C10.71963,4.29075,10.84333,4.58216,10.73988,4.8382000000000005L8.65438,10L11.08535,10C11.29127,9.4174,11.84689,9,12.5,9C12.65154,9,12.79784,9.02247,12.93573,9.06427L16.6464,5.35355C16.8417,5.15829,17.1583,5.15829,17.3536,5.35355C17.5488,5.54882,17.5488,5.8654,17.3536,6.06066L13.7475,9.66675C13.907,9.90508,14,10.19168,14,10.5C14,11.15311,13.5826,11.70873,13,11.91465L13,14.3638L18.3714,12.1936C18.6274,12.09015,18.918799999999997,12.21385,19.0222,12.46989C19.1257,12.72592,19.002,13.0173,18.746000000000002,13.1208L13,15.4423L13,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854ZM6.3729499999999994,17.0413L12,14.7678L12,11.91465C11.88136,11.87271,11.76956,11.81627,11.66675,11.74746L6.3729499999999994,17.0413ZM12,15.8463L6.6694700000000005,18L12,18L12,15.8463ZM6.38629,15.6137L8.250350000000001,11L11,11L6.38629,15.6137ZM5,11L7.17182,11L5,16.3754L5,11Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), rI = () => nI(), iI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M17,4.5C17,5.32843,16.328400000000002,6,15.5,6C15.0931,6,14.7241,5.83802,14.4539,5.57503L5.98992,8.32515C5.99658,8.38251,6,8.440850000000001,6,8.5C6,9.15311,5.582599999999999,9.70873,5,9.91465L5,11.08535C5.42621,11.236,5.763999999999999,11.57379,5.91465,12L19.5,12C19.7761,12,20,12.22386,20,12.5C20,12.77614,19.7761,13,19.5,13L5.91465,13C5.70873,13.5826,5.15311,14,4.5,14C3.671573,14,3,13.3284,3,12.5C3,11.84689,3.417404,11.29127,4,11.08535L4,9.91465C3.417404,9.70873,3,9.15311,3,8.5C3,7.67157,3.671573,7,4.5,7C4.90411,7,5.2709,7.15981,5.5406200000000005,7.41967L14.0093,4.66802C14.0032,4.6128599999999995,14,4.5568,14,4.5C14,3.671573,14.6716,3,15.5,3C16.328400000000002,3,17,3.671573,17,4.5ZM4,15.5C4,15.2239,4.22386,15,4.5,15L19.5,15C19.7761,15,20,15.2239,20,15.5C20,15.7761,19.7761,16,19.5,16L4.5,16C4.22386,16,4,15.7761,4,15.5ZM4,18.5C4,18.2239,4.22386,18,4.5,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L4.5,19C4.22386,19,4,18.7761,4,18.5Z" stroke-opacity="0" stroke="none">'), aI = () => iI(), oI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M20,3.5C20,4.15311,19.5826,4.70873,19,4.91465L19,18.5C19,18.7761,18.7761,19,18.5,19L4.91465,19C4.70873,19.5826,4.15311,20,3.5,20C2.671573,20,2,19.3284,2,18.5C2,17.846899999999998,2.417404,17.2913,3,17.0854L3,3.5C3,3.22386,3.22386,3,3.5,3L17.0854,3C17.2913,2.417404,17.846899999999998,2,18.5,2C19.3284,2,20,2.671573,20,3.5ZM17.0854,4C17.236,4.42621,17.5738,4.763999999999999,18,4.91465L18,8L14,8L14,4L17.0854,4ZM13,4L13,8L9,8L9,4L13,4ZM13,9L9,9L9,13L13,13L13,9ZM13,14L9,14L9,18L13,18L13,14ZM14,18L14,14L18,14L18,18L14,18ZM18,13L14,13L14,9L18,9L18,13ZM4.91465,18C4.763999999999999,17.5738,4.42621,17.236,4,17.0854L4,14L8,14L8,18L4.91465,18ZM4,8L4,4L8,4L8,8L4,8ZM8,9L8,13L4,13L4,9L8,9Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), sI = () => oI(), lI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><ellipse cx="10.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="17.5" cy="11.5" rx="1.5" ry="1.5" stroke-opacity="0" stroke="none"></ellipse><ellipse cx="10.5" cy="11.5" rx="7" ry="7" fill-opacity="0" fill="none" stroke-opacity="1" stroke-width="1">'), uI = () => lI(), cI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M11.57625,6.9981C11.55099,6.999359999999999,11.52557,7,11.5,7C11.34,7,11.18584,6.97495,11.04125,6.9285499999999995L5.55401,16.4327C5.713760000000001,16.5905,5.83826,16.7839,5.91465,17L16.0854,17C16.2187,16.622700000000002,16.4987,16.314700000000002,16.8569,16.1445L11.57625,6.9981ZM12.50759,6.611219999999999C12.81005,6.336790000000001,13,5.94058,13,5.5C13,4.671573,12.32843,4,11.5,4C10.67157,4,10,4.671573,10,5.5C10,5.80059,10.08841,6.08052,10.24066,6.31522L4.64514,16.0069C4.59738,16.002299999999998,4.54896,16,4.5,16C3.671573,16,3,16.671599999999998,3,17.5C3,18.328400000000002,3.671573,19,4.5,19C5.15311,19,5.70873,18.5826,5.91465,18L16.0854,18C16.2913,18.5826,16.846899999999998,19,17.5,19C18.328400000000002,19,19,18.328400000000002,19,17.5C19,16.8365,18.5691,16.2735,17.971899999999998,16.075699999999998L12.50759,6.611219999999999Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), hI = () => cI(), dI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M19,4.5C19,5.15311,18.5826,5.70873,18,5.91465L18,18.5C18,18.7761,17.7761,19,17.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854L4,4.5C4,4.22386,4.22386,4,4.5,4L16.0854,4C16.2913,3.417404,16.846899999999998,3,17.5,3C18.328400000000002,3,19,3.671573,19,4.5ZM5,5L16.0854,5C16.236,5.42621,16.5738,5.763999999999999,17,5.91465L17,18L5.91465,18C5.763999999999999,17.5738,5.42621,17.236,5,17.0854L5,5Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), fI = () => dI(), pI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M19.6401,7.99355C20.4028,7.92291,21,7.2811900000000005,21,6.5C21,5.671573,20.3284,5,19.5,5C18.8469,5,18.2913,5.417404,18.0854,6L7.62067,6C7.34453,6,7.12067,6.22386,7.12067,6.5C7.12067,6.5479,7.12741,6.59423,7.13999,6.63809L3.2294099999999997,15.0243C2.530138,15.1517,2,15.764,2,16.5C2,17.328400000000002,2.671573,18,3.5,18C4.15311,18,4.70873,17.5826,4.91465,17L14.5963,17C14.6456,17.076,14.7162,17.1396,14.8044,17.1807C15.0546,17.2974,15.3521,17.1891,15.4688,16.9388L19.6401,7.99355ZM14.7896,16.0293L18.6551,7.739599999999999C18.3942,7.56144,18.1925,7.30307,18.0854,7L8.0746,7L4.25044,15.2009C4.55701,15.3784,4.79493,15.6613,4.91465,16L14.6207,16C14.68,16,14.7368,16.0103,14.7896,16.0293Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), vI = () => pI(), gI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M8.134443814697265,7.494615087890625L8.764323814697265,7.494615087890625L8.764323814697265,3.414215087890625L8.310223814697267,3.414215087890625L7.294603814697266,4.005035087890625L7.289713814697266,4.634915087890625L8.134443814697265,4.149892087890625L8.134443814697265,7.494615087890625ZM18.832003814697266,6.933095087890624Q19.004603814697266,6.635245087890625,19.004603814697266,6.2543850878906255Q19.004603814697266,5.884915087890625,18.845103814697264,5.593575087890625Q18.685503814697267,5.3006050878906255,18.399103814697266,5.136225087890625Q18.114303814697266,4.9702050878906245,17.754603814697266,4.9653250878906245L18.820603814697265,3.840647087890625L18.820603814697265,3.414215087890625L16.519203814697264,3.414215087890625L16.519203814697264,3.939931087890625L18.050803814697264,3.939931087890625L16.719403814697266,5.334785087890625L17.074203814697263,5.7205350878906245Q17.254903814697265,5.484525087890625,17.619503814697268,5.484525087890625Q17.980803814697268,5.484525087890625,18.187503814697266,5.689605087890625Q18.394203814697267,5.894685087890625,18.394203814697267,6.2543850878906255Q18.394203814697267,6.604315087890625,18.187503814697266,6.822415087890625Q17.980803814697268,7.0405150878906255,17.640603814697265,7.0405150878906255Q17.334603814697267,7.0405150878906255,17.124703814697266,6.890775087890625Q16.914703814697265,6.739415087890626,16.820303814697265,6.469225087890624L16.354803814697263,6.744295087890626Q16.480103814697266,7.125155087890625,16.821903814697265,7.341625087890625Q17.165403814697264,7.559725087890625,17.640603814697265,7.559725087890625Q18.039403814697266,7.559725087890625,18.348603814697267,7.393705087890625Q18.659503814697267,7.229315087890625,18.832003814697266,6.933095087890624ZM10.000003814697266,10.634915087890626C10.000003814697266,11.024655087890626,9.851363814697265,11.379685087890625,9.607683814697266,11.646395087890625L12.168903814697266,15.171615087890626C12.275403814697265,15.147615087890625,12.386203814697266,15.134915087890626,12.500003814697266,15.134915087890626C12.596503814697266,15.134915087890626,12.690803814697265,15.144015087890624,12.782303814697265,15.161415087890624L16.108803814697268,11.196955087890625C16.038703814697264,11.023375087890624,16.000003814697266,10.833655087890625,16.000003814697266,10.634915087890626C16.000003814697266,9.806495087890625,16.671603814697264,9.134915087890626,17.500003814697266,9.134915087890626C18.328403814697264,9.134915087890626,19.000003814697266,9.806495087890625,19.000003814697266,10.634915087890626C19.000003814697266,11.463345087890625,18.328403814697264,12.134915087890626,17.500003814697266,12.134915087890626C17.239503814697265,12.134915087890626,16.994503814697268,12.068495087890625,16.781003814697264,11.951675087890624L13.654703814697266,15.677415087890624C13.870303814697266,15.937215087890625,14.000003814697266,16.270915087890625,14.000003814697266,16.634915087890626C14.000003814697266,17.463315087890624,13.328403814697266,18.134915087890626,12.500003814697266,18.134915087890626C11.671573814697265,18.134915087890626,11.000003814697266,17.463315087890624,11.000003814697266,16.634915087890626C11.000003814697266,16.284415087890626,11.120193814697265,15.962015087890626,11.321603814697266,15.706715087890625L8.715393814697265,12.119565087890624C8.645053814697267,12.129685087890625,8.573143814697266,12.134915087890626,8.500003814697266,12.134915087890626C8.162103814697264,12.134915087890626,7.8503038146972655,12.023195087890626,7.599523814697266,11.834665087890626L4.505583814697266,15.521915087890624C4.809213814697266,15.796415087890624,5.000003814697266,16.193415087890624,5.000003814697266,16.634915087890626C5.000003814697266,17.463315087890624,4.328433814697266,18.134915087890626,3.5000038146972656,18.134915087890626C2.6715768146972656,18.134915087890626,2.0000038146972656,17.463315087890624,2.0000038146972656,16.634915087890626C2.0000038146972656,15.806515087890626,2.6715768146972656,15.134915087890626,3.5000038146972656,15.134915087890626C3.508253814697266,15.134915087890626,3.5164838146972657,15.135015087890626,3.524703814697266,15.135115087890625L7.033823814697266,10.953115087890625C7.011673814697265,10.850565087890626,7.000003814697266,10.744105087890624,7.000003814697266,10.634915087890626C7.000003814697266,9.806495087890625,7.671573814697266,9.134915087890626,8.500003814697266,9.134915087890626C9.328433814697267,9.134915087890626,10.000003814697266,9.806495087890625,10.000003814697266,10.634915087890626Z" stroke-opacity="0" stroke="none">'), yI = () => gI(), mI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M8.13444,7.494615087890625L8.76432,7.494615087890625L8.76432,3.414215087890625L8.310220000000001,3.414215087890625L7.2946,4.005035087890625L7.28971,4.634915087890625L8.13444,4.149892087890625L8.13444,7.494615087890625ZM18.832,6.929835087890625Q19.0046,6.635245087890625,19.0046,6.2543850878906255Q19.0046,5.889805087890625,18.8451,5.5952050878906245Q18.6855,5.3006050878906255,18.3975,5.132965087890625Q18.1094,4.9653250878906245,17.7399,4.9653250878906245Q17.435499999999998,4.9653250878906245,17.1556,5.149245087890625L17.2793,3.939931087890625L18.8304,3.939931087890625L18.8304,3.414215087890625L16.7406,3.414215087890625L16.5094,5.665195087890625L17.0156,5.795405087890625Q17.095399999999998,5.655425087890626,17.2516,5.570795087890625Q17.4095,5.484525087890625,17.6357,5.484525087890625Q17.9694,5.484525087890625,18.1842,5.697745087890625Q18.4007,5.909335087890625,18.4007,6.2543850878906255Q18.4007,6.604315087890625,18.1842,6.822415087890625Q17.9694,7.0405150878906255,17.6292,7.0405150878906255Q17.3298,7.0405150878906255,17.119799999999998,6.890775087890625Q16.9098,6.739415087890626,16.825200000000002,6.474115087890625L16.3597,6.749175087890626Q16.470399999999998,7.110505087890624,16.807299999999998,7.335115087890625Q17.144199999999998,7.559725087890625,17.6292,7.559725087890625Q18.0296,7.559725087890625,18.3438,7.392075087890625Q18.6595,7.224435087890625,18.832,6.929835087890625ZM10,10.634915087890626C10,11.024655087890626,9.85136,11.379685087890625,9.60768,11.646395087890625L12.1689,15.171615087890626C12.2754,15.147615087890625,12.3862,15.134915087890626,12.5,15.134915087890626C12.5965,15.134915087890626,12.6908,15.144015087890624,12.7823,15.161415087890624L16.108800000000002,11.196955087890625C16.0387,11.023375087890624,16,10.833655087890625,16,10.634915087890626C16,9.806495087890625,16.671599999999998,9.134915087890626,17.5,9.134915087890626C18.3284,9.134915087890626,19,9.806495087890625,19,10.634915087890626C19,11.463345087890625,18.3284,12.134915087890626,17.5,12.134915087890626C17.2395,12.134915087890626,16.994500000000002,12.068505087890625,16.781,11.951675087890624L13.6547,15.677415087890624C13.8703,15.937215087890625,14,16.270915087890625,14,16.634915087890626C14,17.463315087890624,13.3284,18.134915087890626,12.5,18.134915087890626C11.67157,18.134915087890626,11,17.463315087890624,11,16.634915087890626C11,16.284415087890626,11.12019,15.962015087890626,11.3216,15.706715087890625L8.71539,12.119565087890624C8.645050000000001,12.129685087890625,8.57314,12.134915087890626,8.5,12.134915087890626C8.162099999999999,12.134915087890626,7.8503,12.023195087890626,7.59952,11.834665087890626L4.50558,15.521915087890624C4.80921,15.796415087890624,5,16.193415087890624,5,16.634915087890626C5,17.463315087890624,4.32843,18.134915087890626,3.5,18.134915087890626C2.671573,18.134915087890626,2,17.463315087890624,2,16.634915087890626C2,15.806515087890626,2.671573,15.134915087890626,3.5,15.134915087890626C3.5082500000000003,15.134915087890626,3.51648,15.135015087890626,3.5247,15.135115087890625L7.03382,10.953115087890625C7.01167,10.850565087890626,7,10.744105087890624,7,10.634915087890626C7,9.806495087890625,7.67157,9.134915087890626,8.5,9.134915087890626C9.32843,9.134915087890626,10,9.806495087890625,10,10.634915087890626Z" stroke-opacity="0" stroke="none">'), _I = () => mI(), xI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M18.8532,7.020985087890625Q19.0257,6.734525087890625,19.0257,6.369945087890625Q19.0257,6.020005087890625,18.8499,5.754705087890625Q18.6758,5.489415087890626,18.3649,5.339675087890625Q18.5944,5.209465087890625,18.7214,4.994615087890625Q18.8499,4.779775087890625,18.8499,4.5193550878906255Q18.8499,4.2003480878906245,18.7002,3.951324087890625Q18.5505,3.700673087890625,18.277,3.557444087890625Q18.0052,3.414215087890625,17.6455,3.414215087890625Q17.285800000000002,3.414215087890625,17.0107,3.557444087890625Q16.7357,3.700673087890625,16.5843,3.951324087890625Q16.4346,4.2003480878906245,16.4346,4.5193550878906255Q16.4346,4.779775087890625,16.561500000000002,4.994615087890625Q16.6901,5.209465087890625,16.919600000000003,5.339675087890625Q16.6055,5.489415087890626,16.4297,5.757965087890625Q16.255499999999998,6.024895087890625,16.255499999999998,6.369945087890625Q16.255499999999998,6.734525087890625,16.4297,7.020985087890625Q16.6055,7.305815087890625,16.919600000000003,7.465325087890625Q17.2354,7.624825087890625,17.6455,7.624825087890625Q18.0557,7.624825087890625,18.3682,7.465325087890625Q18.6807,7.305815087890625,18.8532,7.020985087890625ZM8.76432,7.559725087890625L8.13444,7.559725087890625L8.13444,4.214996087890625L7.28971,4.700025087890625L7.2946,4.070139087890625L8.310220000000001,3.479319087890625L8.76432,3.479319087890625L8.76432,7.559725087890625ZM17.1816,4.955555087890625Q17.0042,4.784655087890625,17.0042,4.5095950878906255Q17.0042,4.229645087890625,17.18,4.057119087890625Q17.355800000000002,3.884592087890625,17.6455,3.884592087890625Q17.935200000000002,3.884592087890625,18.1077,4.057119087890625Q18.2803,4.229645087890625,18.2803,4.5095950878906255Q18.2803,4.784655087890625,18.1045,4.955555087890625Q17.930300000000003,5.124825087890625,17.6455,5.124825087890625Q17.3607,5.124825087890625,17.1816,4.955555087890625ZM18.2217,5.7953950878906255Q18.4398,6.005365087890625,18.4398,6.3552950878906245Q18.4398,6.705235087890625,18.2217,6.915195087890625Q18.0052,7.125155087890625,17.6455,7.125155087890625Q17.285800000000002,7.125155087890625,17.067700000000002,6.915195087890625Q16.849600000000002,6.705235087890625,16.849600000000002,6.3552950878906245Q16.849600000000002,6.005365087890625,17.064500000000002,5.7953950878906255Q17.2793,5.585435087890625,17.6455,5.585435087890625Q18.0052,5.585435087890625,18.2217,5.7953950878906255ZM9.60768,11.711495087890626C9.85136,11.444785087890626,10,11.089765087890626,10,10.700025087890625C10,9.871595087890626,9.32843,9.200025087890625,8.5,9.200025087890625C7.67157,9.200025087890625,7,9.871595087890626,7,10.700025087890625C7,10.809205087890625,7.01167,10.915665087890625,7.03382,11.018215087890624L3.5247,15.200215087890625C3.51648,15.200115087890625,3.5082500000000003,15.200015087890625,3.5,15.200015087890625C2.671573,15.200015087890625,2,15.871615087890625,2,16.700015087890627C2,17.528415087890625,2.671573,18.200015087890627,3.5,18.200015087890627C4.32843,18.200015087890627,5,17.528415087890625,5,16.700015087890627C5,16.258515087890625,4.80921,15.861515087890625,4.50558,15.587015087890626L7.59952,11.899765087890625C7.8503,12.088295087890625,8.162099999999999,12.200025087890625,8.5,12.200025087890625C8.57314,12.200025087890625,8.645050000000001,12.194785087890626,8.71539,12.184675087890625L11.3216,15.771815087890625C11.12019,16.027215087890625,11,16.349515087890623,11,16.700015087890627C11,17.528415087890625,11.67157,18.200015087890627,12.5,18.200015087890627C13.3284,18.200015087890627,14,17.528415087890625,14,16.700015087890627C14,16.336015087890623,13.8703,16.002315087890626,13.6547,15.742515087890625L16.781,12.016775087890625C16.994500000000002,12.133605087890626,17.2395,12.200025087890625,17.5,12.200025087890625C18.3284,12.200025087890625,19,11.528445087890624,19,10.700025087890625C19,9.871595087890626,18.3284,9.200025087890625,17.5,9.200025087890625C16.671599999999998,9.200025087890625,16,9.871595087890626,16,10.700025087890625C16,10.898765087890624,16.0387,11.088475087890625,16.108800000000002,11.262055087890625L12.7823,15.226515087890625C12.6908,15.209115087890625,12.5965,15.200015087890625,12.5,15.200015087890625C12.3862,15.200015087890625,12.2754,15.212715087890626,12.1689,15.236715087890625L9.60768,11.711495087890626Z" stroke-opacity="0" stroke="none">'), bI = () => xI(), CI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M9.474616630859375,7.494615087890625L8.844736630859375,7.494615087890625L8.844736630859375,4.149892087890625L8.000006630859374,4.634915087890625L8.004896630859374,4.005035087890625L9.020516630859376,3.414215087890625L9.474616630859375,3.414215087890625L9.474616630859375,7.494615087890625ZM18.529296630859378,4.8318550878906255Q18.307996630859375,5.028795087890625,18.122396630859377,5.385245087890625Q17.868496630859376,5.019035087890625,17.629196630859376,4.8269750878906255Q17.389996630859375,4.634915087890625,17.168596630859376,4.634915087890625Q16.794296630859375,4.634915087890625,16.522496630859376,4.976715087890625Q16.252296630859377,5.3168850878906255,16.252296630859377,5.7856350878906255Q16.252296630859377,6.218575087890625,16.502896630859375,6.521315087890625Q16.755196630859373,6.822415087890625,17.114896630859377,6.822415087890625Q17.368796630859375,6.822415087890625,17.588596630859374,6.625475087890624Q17.809896630859377,6.428535087890625,17.998696630859374,6.0688350878906245Q18.249396630859373,6.439935087890625,18.488596630859377,6.631985087890625Q18.727896630859377,6.822415087890625,18.952496630859375,6.822415087890625Q19.326796630859373,6.822415087890625,19.596996630859376,6.482245087890625Q19.868796630859375,6.140455087890626,19.868796630859375,5.671705087890626Q19.868796630859375,5.238755087890625,19.618196630859376,4.937655087890625Q19.367496630859375,4.634915087890625,19.006196630859375,4.634915087890625Q18.750696630859377,4.634915087890625,18.529296630859378,4.8318550878906255ZM18.337296630859377,5.674955087890625L18.278696630859375,5.596835087890625Q18.449596630859375,5.272935087890625,18.622096630859374,5.1101750878906245Q18.794596630859374,4.947415087890625,18.967096630859373,4.947415087890625Q19.194996630859375,4.947415087890625,19.346396630859374,5.1345950878906255Q19.497696630859377,5.320135087890625,19.497696630859377,5.598455087890625Q19.497696630859377,5.8914250878906245,19.360996630859376,6.096505087890625Q19.224296630859374,6.301585087890626,19.027396630859375,6.301585087890626Q18.915096630859374,6.301585087890626,18.742496630859375,6.146965087890624Q18.569996630859375,5.992335087890625,18.337296630859377,5.674955087890625ZM17.785496630859377,5.779125087890625L17.842496630859372,5.857245087890625Q17.668296630859373,6.186025087890625,17.495796630859374,6.348785087890625Q17.324896630859374,6.509915087890625,17.153996630859375,6.509915087890625Q16.926096630859377,6.509915087890625,16.774796630859377,6.324375087890624Q16.623396630859375,6.137195087890625,16.623396630859375,5.858875087890625Q16.623396630859375,5.565905087890625,16.761696630859376,5.360825087890625Q16.900096630859373,5.1557550878906255,17.095396630859376,5.1557550878906255Q17.228896630859374,5.1557550878906255,17.365596630859375,5.2778250878906245Q17.502296630859377,5.399895087890625,17.785496630859377,5.779125087890625ZM10.710296630859375,10.634915087890626C10.710296630859375,11.024655087890626,10.561656630859375,11.379685087890625,10.317976630859375,11.646395087890625L12.879196630859376,15.171615087890626C12.985696630859374,15.147615087890625,13.096496630859376,15.134915087890626,13.210296630859375,15.134915087890626C13.306796630859376,15.134915087890626,13.401096630859374,15.144015087890624,13.492596630859374,15.161415087890624L16.819096630859377,11.196955087890625C16.748996630859374,11.023375087890624,16.710296630859375,10.833655087890625,16.710296630859375,10.634915087890626C16.710296630859375,9.806495087890625,17.381896630859373,9.134915087890626,18.210296630859375,9.134915087890626C19.038696630859373,9.134915087890626,19.710296630859375,9.806495087890625,19.710296630859375,10.634915087890626C19.710296630859375,11.463345087890625,19.038696630859373,12.134915087890626,18.210296630859375,12.134915087890626C17.949796630859375,12.134915087890626,17.704796630859377,12.068505087890625,17.491296630859374,11.951675087890624L14.364996630859375,15.677415087890624C14.580596630859375,15.937215087890625,14.710296630859375,16.270915087890625,14.710296630859375,16.634915087890626C14.710296630859375,17.463315087890624,14.038696630859375,18.134915087890626,13.210296630859375,18.134915087890626C12.381866630859374,18.134915087890626,11.710296630859375,17.463315087890624,11.710296630859375,16.634915087890626C11.710296630859375,16.284415087890626,11.830486630859374,15.962015087890626,12.031896630859375,15.706715087890625L9.425686630859374,12.119565087890624C9.355346630859376,12.129685087890625,9.283436630859375,12.134915087890626,9.210296630859375,12.134915087890626C8.872396630859374,12.134915087890626,8.560596630859376,12.023195087890626,8.309816630859375,11.834665087890626L5.215876630859375,15.521915087890624C5.519506630859375,15.796415087890624,5.710296630859375,16.193415087890624,5.710296630859375,16.634915087890626C5.710296630859375,17.463315087890624,5.038726630859375,18.134915087890626,4.210296630859375,18.134915087890626C3.381869630859375,18.134915087890626,2.710296630859375,17.463315087890624,2.710296630859375,16.634915087890626C2.710296630859375,15.806515087890626,3.381869630859375,15.134915087890626,4.210296630859375,15.134915087890626C4.218546630859375,15.134915087890626,4.226776630859375,15.135015087890626,4.234996630859375,15.135115087890625L7.744116630859375,10.953115087890625C7.721966630859375,10.850565087890626,7.710296630859375,10.744105087890624,7.710296630859375,10.634915087890626C7.710296630859375,9.806495087890625,8.381866630859374,9.134915087890626,9.210296630859375,9.134915087890626C10.038726630859376,9.134915087890626,10.710296630859375,9.806495087890625,10.710296630859375,10.634915087890626Z" stroke-opacity="0" stroke="none">'), SI = () => CI(), wI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M21,5.5C21,6.32843,20.3284,7,19.5,7C19.4136,7,19.3289,6.99269,19.2465,6.97866L15.6257,15.5086C15.8587,15.7729,16,16.119999999999997,16,16.5C16,17.328400000000002,15.3284,18,14.5,18C13.8469,18,13.2913,17.5826,13.0854,17L3.91465,17C3.70873,17.5826,3.15311,18,2.5,18C1.671573,18,1,17.328400000000002,1,16.5C1,15.6716,1.671573,15,2.5,15C2.5840199999999998,15,2.66643,15.0069,2.74668,15.0202L6.36934,6.48574C6.13933,6.22213,6,5.87733,6,5.5C6,4.671573,6.67157,4,7.5,4C8.15311,4,8.70873,4.417404,8.91465,5L18.0854,5C18.2913,4.417404,18.8469,4,19.5,4C20.3284,4,21,4.671573,21,5.5ZM18.0854,6L8.91465,6C8.892579999999999,6.06243,8.8665,6.12296,8.83672,6.18128L13.9814,15.0921C14.143,15.0325,14.3177,15,14.5,15C14.584,15,14.6664,15.0069,14.7467,15.0202L18.3693,6.48574C18.2462,6.3446,18.149,6.1802,18.0854,6ZM13.2036,15.745L8.0861,6.8811800000000005C7.90605,6.95768,7.70797,7,7.5,7C7.41359,7,7.32888,6.99269,7.24647,6.97866L3.62571,15.5086C3.7512,15.651,3.8501,15.8174,3.91465,16L13.0854,16C13.1169,15.9108,13.1566,15.8255,13.2036,15.745Z" stroke-opacity="0" stroke="none">'), TI = () => wI(), kI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M5.92159,5.93994C6.04014,5.90529,6.152620000000001,5.85639,6.25704,5.79523L9.12729,9.89437C9.045449999999999,10.07959,9,10.28449,9,10.5C9,10.79522,9.08529,11.07053,9.232569999999999,11.30262L4.97573,16.7511L5.92159,5.93994ZM4.92259,5.8848400000000005C4.38078,5.658659999999999,4,5.1238,4,4.5C4,3.671573,4.67157,3,5.5,3C6.2157,3,6.81433,3.50124,6.96399,4.17183L15.1309,4.88634C15.3654,4.36387,15.8902,4,16.5,4C17.328400000000002,4,18,4.67157,18,5.5C18,6.08983,17.659599999999998,6.60015,17.1645,6.84518L18.4264,14.0018C18.4508,14.0006,18.4753,14,18.5,14C19.3284,14,20,14.6716,20,15.5C20,16.328400000000002,19.3284,17,18.5,17C17.932499999999997,17,17.4386,16.6849,17.183799999999998,16.22L5.99686,18.5979C5.946429999999999,19.3807,5.29554,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.869300000000003,3.389292,17.3295,3.94071,17.1077L4.92259,5.8848400000000005ZM5.72452,17.6334C5.69799,17.596,5.6698,17.5599,5.64004,17.525100000000002L10.01843,11.92103C10.16958,11.97223,10.33155,12,10.5,12C10.80059,12,11.08052,11.91158,11.31522,11.75934L17.0606,15.0765C17.0457,15.1271,17.0335,15.1789,17.023899999999998,15.2317L5.72452,17.6334ZM11.92855,10.95875L17.4349,14.1379L16.1699,6.96356C15.9874,6.92257,15.8174,6.8483,15.6667,6.74746L11.99771,10.4165C11.99923,10.44414,12,10.47198,12,10.5C12,10.66,11.97495,10.814160000000001,11.92855,10.95875ZM10.5,9C10.259830000000001,9,10.03285,9.05644,9.83159,9.15679L7.04919,5.1831L15.0493,5.88302C15.054,5.90072,15.059,5.91829,15.0643,5.9357299999999995L11.56066,9.43934C11.28921,9.16789,10.91421,9,10.5,9Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), PI = () => kI(), II = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M13.1889,6C12.98303,6.582599999999999,12.42741,7,11.7743,7C11.12119,7,10.565570000000001,6.582599999999999,10.35965,6L3.5,6C3.223857,6,3,5.77614,3,5.5C3,5.22386,3.223857,5,3.5,5L10.35965,5C10.565570000000001,4.417404,11.12119,4,11.7743,4C12.42741,4,12.98303,4.417404,13.1889,5L18.5,5C18.7761,5,19,5.22386,19,5.5C19,5.77614,18.7761,6,18.5,6L13.1889,6ZM3,8.5C3,8.22386,3.223857,8,3.5,8L18.5,8C18.7761,8,19,8.22386,19,8.5C19,8.77614,18.7761,9,18.5,9L3.5,9C3.223857,9,3,8.77614,3,8.5ZM3.278549,11.5C3.278549,11.22386,3.502407,11,3.778549,11L18.7785,11C19.0547,11,19.2785,11.22386,19.2785,11.5C19.2785,11.77614,19.0547,12,18.7785,12L3.778549,12C3.502407,12,3.278549,11.77614,3.278549,11.5ZM3.139267,14.5C3.139267,14.2239,3.363124,14,3.6392670000000003,14L18.6393,14C18.915399999999998,14,19.1393,14.2239,19.1393,14.5C19.1393,14.7761,18.915399999999998,15,18.6393,15L3.6392670000000003,15C3.363124,15,3.139267,14.7761,3.139267,14.5ZM13.1889,18C12.98303,18.5826,12.42741,19,11.7743,19C11.12119,19,10.565570000000001,18.5826,10.35965,18L3.778549,18C3.502407,18,3.278549,17.7761,3.278549,17.5C3.278549,17.2239,3.502407,17,3.778549,17L10.35965,17C10.565570000000001,16.4174,11.12119,16,11.7743,16C12.42741,16,12.98303,16.4174,13.1889,17L18.7785,17C19.0547,17,19.2785,17.2239,19.2785,17.5C19.2785,17.7761,19.0547,18,18.7785,18L13.1889,18Z" stroke-opacity="0" stroke="none"></path><line style="fill:rgb(216, 216, 216);stroke:rgb(0, 0, 0);" x1="3.541" y1="5.489" x2="18.636" y2="17.573">'), EI = () => II(), LI = /* @__PURE__ */ Je('<svg viewBox="0 0 22 22"><path d="M4.727219638671875,8.007996215820313L9.973849638671876,2.7629472158203123C10.167279638671875,2.5696791158203123,10.480729638671875,2.5696791158203123,10.674169638671875,2.7629472158203123L13.223329638671874,5.311756215820313C13.416929638671874,5.505236215820313,13.416929638671874,5.8189862158203125,13.223329638671874,6.012466215820313L7.977129638671875,11.257906215820313C7.379859638671875,11.855176215820313,7.407609638671875,12.909396215820312,8.033809638671876,13.535596215820313C8.660409638671876,14.162596215820313,9.713849638671874,14.189996215820312,10.311129638671876,13.591896215820313L15.556929638671875,8.346066215820311C15.750429638671875,8.152526215820313,16.064229638671875,8.152526215820313,16.257629638671872,8.346066215820311L18.806529638671876,10.895266215820312C19.000029638671876,11.088746215820313,19.000029638671876,11.402496215820312,18.806529638671876,11.595976215820313L13.560629638671875,16.841796215820313C11.165619638671876,19.237196215820312,7.197149638671875,19.19919621582031,4.783499638671875,16.785496215820313C2.3698426386718747,14.371896215820312,2.331397638671875,10.403416215820313,4.727219638671875,8.007996215820313ZM12.172299638671875,5.662106215820312L10.323809638671875,3.8136162158203124L5.4287196386718755,8.709096215820313C3.422893638671875,10.714536215820312,3.4549956386718748,14.055196215820313,5.484999638671875,16.08479621582031C7.514609638671875,18.114796215820313,10.855289638671875,18.146496215820314,12.860719638671876,16.141096215820312L15.465629638671874,13.535796215820312L14.090929638671875,12.160756215820312L14.791629638671875,11.460436215820312L16.166229638671876,12.834996215820313L17.755829638671877,11.245226215820313L15.907729638671874,9.396736215820312L11.011839638671875,14.292596215820312C10.042809638671875,15.262396215820312,8.418249638671874,15.243796215820312,7.406019638671875,14.306496215820312L7.333099638671875,14.236296215820312C6.327599638671876,13.230796215820313,6.284009638671876,11.550396215820312,7.276419638671875,10.557586215820312L9.882199638671874,7.952026215820313L8.501079638671875,6.570906215820313L9.201789638671876,5.870186215820313L10.582939638671874,7.251336215820312L12.172299638671875,5.662106215820312Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), AI = (e) => (() => {
  const f = LI();
  return gi(f, "class", `icon-overlay ${e ?? ""}`), f;
})(), MI = /* @__PURE__ */ Je('<svg viewBox="0 0 22 22"><defs><clipPath id="master_svg0_151_615"><rect x="0" y="0" width="22" height="22" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_151_615)"><path d="M19.672,3.0673368C19.4417,2.9354008,19.1463,3.00292252,18.9994,3.2210900000000002L17.4588,5.50622L16.743299999999998,3.781253L13.9915,7.4662L13.9618,7.51108C13.8339,7.72862,13.8936,8.005659999999999,14.1004,8.15391L14.1462,8.183430000000001C14.3683,8.308720000000001,14.6511,8.25001,14.8022,8.047229999999999L16.4907,5.78571L17.246299999999998,7.60713L19.8374,3.7635389999999997L19.8651,3.717088C19.9871,3.484615,19.9023,3.199273,19.672,3.0673368ZM4.79974,8.462530000000001L10.117740000000001,3.252975C10.31381,3.0610145,10.63152,3.0610145,10.82759,3.252975L13.4115,5.78453C13.6076,5.976710000000001,13.6076,6.28833,13.4115,6.4805L8.093869999999999,11.69045C7.48847,12.28368,7.51659,13.3308,8.151309999999999,13.9528C8.786439999999999,14.5755,9.85421,14.6027,10.45961,14.0087L15.7768,8.79831C15.9729,8.60609,16.2909,8.60609,16.487099999999998,8.79831L19.0705,11.33026C19.2667,11.52244,19.2667,11.83406,19.0705,12.02623L13.7533,17.2366C11.32572,19.6158,7.30328,19.578,4.85679,17.1807C2.410298,14.7834,2.371331,10.84174,4.79974,8.462530000000001ZM12.3461,6.1325199999999995L10.47246,4.29654L5.51079,9.15889C3.477674,11.15076,3.510214,14.4688,5.56784,16.4847C7.62506,18.500999999999998,11.01117,18.5325,13.0439,16.540599999999998L15.6842,13.9529L14.2908,12.58718L15.0011,11.89161L16.394399999999997,13.2569L18.0056,11.67786L16.1323,9.84188L11.16985,14.7046C10.18764,15.6679,8.540980000000001,15.6494,7.51498,14.7184L7.44107,14.6487C6.4219,13.65,6.37771,11.98096,7.38362,10.994869999999999L10.02485,8.40693L8.624939999999999,7.03516L9.335180000000001,6.33919L10.73512,7.71099L12.3461,6.1325199999999995Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), DI = (e) => (() => {
  const f = MI();
  return gi(f, "class", `icon-overlay ${e ?? ""}`), f;
})(), FI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z" stroke-opacity="0" fill-opacity="1">'), $I = () => FI(), RI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M5.80417,14.9887L4.62563,16.167299999999997C4.43037,16.3625,4.43037,16.6791,4.62563,16.8744C4.82089,17.0696,5.13748,17.0696,5.332739999999999,16.8744L6.62638,15.5807C7.75595,16.290100000000002,9.19328,16.7929,11,16.7929C16.165399999999998,16.7929,18.3323,12.64289,18.8866,11.36789C19.0378,10.99289,19.0378,10.59289,18.8866,10.21789C18.5549,9.45486,17.6456,7.66212,15.8617,6.34545L17.3536,4.853553C17.5488,4.658291,17.5488,4.341709,17.3536,4.146447C17.1583,3.9511845,16.8417,3.9511845,16.6464,4.146447L15.0014,5.7915399999999995C13.9314,5.1969,12.61166,4.792893,11,4.792893C5.80945,4.792893,3.667717,8.94289,3.113386,10.21789C2.9622049,10.59289,2.9622049,10.99289,3.113386,11.36789C3.424435,12.08333,4.2353000000000005,13.70399,5.80417,14.9887ZM7.36012,14.847C8.32327,15.4074,9.52286,15.7929,11,15.7929C15.5606,15.7929,17.4756,12.11789,17.9543,10.99289C18.0047,10.86789,18.0047,10.74289,17.9543,10.61789C17.659,9.90846,16.8171,8.23812,15.1447,7.06241L12.96929,9.23782C13.3134,9.66543,13.5197,10.20642,13.5197,10.79289C13.5197,12.16789,12.38583,13.29289,11,13.29289C10.41596,13.29289,9.87667,13.09308,9.44815,12.75896L7.36012,14.847ZM8.794609999999999,11.99829L6.520099999999999,14.2728C5.06905,13.12119,4.32057,11.628250000000001,4.04567,10.96789C3.995275,10.84289,3.995275,10.71789,4.04567,10.59289C4.52441,9.46789,6.43937,5.79289,11,5.79289C12.28868,5.79289,13.3661,6.086320000000001,14.2596,6.53329L12.19759,8.5953C11.84086,8.40257,11.43271,8.29289,11,8.29289C9.61417,8.29289,8.480319999999999,9.41789,8.480319999999999,10.79289C8.480319999999999,11.22918,8.594470000000001,11.64029,8.794609999999999,11.99829ZM10.16528,12.04183C10.404869999999999,12.20032,10.692070000000001,12.29289,11,12.29289C11.8315,12.29289,12.51181,11.61789,12.51181,10.79289C12.51181,10.48318,12.41593,10.194600000000001,12.25216,9.95494L10.16528,12.04183ZM11.43602,9.35687L9.55616,11.236740000000001C9.512,11.09633,9.48819,10.94724,9.48819,10.79289C9.48819,9.96789,10.1685,9.29289,11,9.29289C11.15142,9.29289,11.29782,9.31528,11.43602,9.35687Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), OI = () => RI(), BI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><defs><clipPath id="master_svg0_151_625"><rect x="0" y="0" width="22" height="22" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_151_625)"><path d="M14.5385,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807692,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.88462,4,14.5385,5.61538,14.5385,7.576919999999999L14.5385,9.76923ZM10.88461,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923L13.38462,9.76923L13.38462,7.576919999999999C13.38462,6.23077,12.26923,5.15385,10.88461,5.15385ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.038450000000001,12.07692,11.307680000000001,12.34615,11.307680000000001,12.65385L11.307680000000001,14.5769C11.307680000000001,14.8846,11.038450000000001,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), NI = () => BI(), zI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><defs><clipPath id="master_svg0_151_620"><rect x="0" y="0" width="22" height="22" rx="0"></rect></clipPath></defs><g clip-path="url(#master_svg0_151_620)"><path d="M8.38461,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807693,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.46154,4,13.84615,4.961539,14.3462,6.423080000000001C14.4615,6.73077,14.3077,7.038460000000001,14,7.15385C13.69231,7.26923,13.38461,7.11538,13.26923,6.80769C12.92308,5.80769,11.96154,5.15385,10.88462,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.03846,12.07692,11.307690000000001,12.34615,11.307690000000001,12.65385L11.307690000000001,14.5769C11.307690000000001,14.8846,11.03846,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z" stroke-opacity="0" fill-rule="evenodd" fill-opacity="1">'), VI = () => zI(), WI = /* @__PURE__ */ Je('<svg class="icon-overlay" viewBox="0 0 22 22"><path d="M16.966900000000003,8.67144C16.6669,8.67144,16.4247,8.91558,16.4247,9.21802L16.4247,16.631500000000003C16.4247,17.322,16.007199999999997,17.9068,15.5139,17.9068L13.93072,17.9068L13.93072,9.2162C13.93072,8.91741,13.68675,8.67144,13.38855,8.67144C13.09036,8.67144,12.84639,8.91741,12.84639,9.21802L12.84639,17.9068L10.151810000000001,17.9068L10.151810000000001,9.21802C10.151810000000001,8.91741,9.90783,8.67144,9.609639999999999,8.67144C9.31145,8.67144,9.06747,8.91741,9.06747,9.219850000000001L9.06747,17.9068L7.48614,17.9068C6.99277,17.9068,6.5753,17.322,6.5753,16.631500000000003L6.5753,9.21802C6.5753,8.91558,6.333130000000001,8.67144,6.03313,8.67144C5.73313,8.67144,5.49096,8.91558,5.49096,9.21802L5.49096,16.631500000000003C5.49096,17.9378,6.385540000000001,19,7.48614,19L15.512,19C16.6127,19,17.509,17.9378,17.509,16.631500000000003L17.509,9.21802C17.509,8.91558,17.2669,8.67144,16.966900000000003,8.67144ZM18.4578,6.21183L4.542169,6.21183C4.243976,6.21183,4,6.45779,4,6.75841C4,7.05903,4.243976,7.30499,4.542169,7.30499L18.4578,7.30499C18.756,7.30499,19,7.05903,19,6.75841C19,6.45779,18.756,6.21183,18.4578,6.21183ZM8.68072,5.10045L14.3193,5.10045C14.6175,5.10045,14.8614,4.852666,14.8614,4.550225C14.8614,4.247783,14.6175,4,14.3193,4L8.68072,4C8.38253,4,8.13855,4.247783,8.13855,4.550225C8.13855,4.852666,8.38253,5.10045,8.68072,5.10045Z" stroke-opacity="0" fill-opacity="1">'), YI = () => WI(), XI = {
  horizontalStraightLine: SP,
  horizontalRayLine: TP,
  horizontalSegment: PP,
  verticalStraightLine: EP,
  verticalRayLine: AP,
  verticalSegment: DP,
  straightLine: $P,
  rayLine: OP,
  segment: NP,
  arrow: VP,
  priceLine: YP,
  priceChannelLine: HP,
  parallelStraightLine: UP,
  fibonacciDiagonal: EI,
  //by tradingio team
  fibonacciLine: GP,
  fibonacciSegment: qP,
  fibonacciCircle: JP,
  fibonacciSpiral: tI,
  fibonacciSpeedResistanceFan: rI,
  fibonacciExtension: aI,
  gannBox: sI,
  circle: uI,
  triangle: hI,
  rect: fI,
  parallelogram: vI,
  threeWaves: yI,
  fiveWaves: _I,
  eightWaves: bI,
  anyWaves: SI,
  abcd: TI,
  xabcd: PI,
  weak_magnet: AI,
  strong_magnet: DI,
  lock: NI,
  unlock: VI,
  visible: $I,
  invisible: OI,
  remove: YI
};
function HI(e) {
  return [
    { key: "horizontalStraightLine", text: U("horizontal_straight_line", e) },
    { key: "horizontalRayLine", text: U("horizontal_ray_line", e) },
    { key: "horizontalSegment", text: U("horizontal_segment", e) },
    { key: "verticalStraightLine", text: U("vertical_straight_line", e) },
    { key: "verticalRayLine", text: U("vertical_ray_line", e) },
    { key: "verticalSegment", text: U("vertical_segment", e) },
    { key: "straightLine", text: U("extended_line", e) },
    { key: "rayLine", text: U("ray_line", e) },
    { key: "segment", text: U("trend_line", e) },
    { key: "arrow", text: U("arrow", e) },
    { key: "priceLine", text: U("price_line", e) }
  ];
}
function ZI(e) {
  return [
    { key: "priceChannelLine", text: U("price_channel_line", e) },
    { key: "parallelStraightLine", text: U("parallel_straight_line", e) }
  ];
}
function UI(e) {
  return [
    { key: "circle", text: U("circle", e) },
    { key: "rect", text: U("rect", e) },
    { key: "parallelogram", text: U("parallelogram", e) },
    { key: "triangle", text: U("triangle", e) }
  ];
}
function KI(e) {
  return [
    { key: "fibonacciDiagonal", text: U("fibonacci_diagonal", e) },
    { key: "fibonacciLine", text: U("fibonacci_line", e) },
    { key: "fibonacciSegment", text: U("fibonacci_segment", e) },
    { key: "fibonacciCircle", text: U("fibonacci_circle", e) },
    { key: "fibonacciSpiral", text: U("fibonacci_spiral", e) },
    { key: "fibonacciSpeedResistanceFan", text: U("fibonacci_speed_resistance_fan", e) },
    { key: "fibonacciExtension", text: U("fibonacci_extension", e) },
    { key: "gannBox", text: U("gann_box", e) }
  ];
}
function GI(e) {
  return [
    { key: "xabcd", text: U("xabcd", e) },
    { key: "abcd", text: U("abcd", e) },
    { key: "threeWaves", text: U("three_waves", e) },
    { key: "fiveWaves", text: U("five_waves", e) },
    { key: "eightWaves", text: U("eight_waves", e) },
    { key: "anyWaves", text: U("any_waves", e) }
  ];
}
function jI(e) {
  return [
    { key: "weak_magnet", text: U("weak_magnet", e) },
    { key: "strong_magnet", text: U("strong_magnet", e) }
  ];
}
const ga = (e) => XI[e.name](e.class), qI = /* @__PURE__ */ Je('<div class="klinecharts-pro-drawing-bar"><span class="split-line"></span><div class="item" tabindex="0"><span style="width:32px;height:32px"></span><div class="icon-arrow"><svg viewBox="0 0 4 6"><path d="M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z" stroke="none" stroke-opacity="0"></path></svg></div></div><div class="item"><span style="width:32px;height:32px"></span></div><div class="item"><span style="width:32px;height:32px"></span></div><span class="split-line"></span><div class="item"><span style="width:32px;height:32px">'), QI = /* @__PURE__ */ Je('<div class="item" tabindex="0"><span style="width:32px;height:32px"></span><div class="icon-arrow"><svg viewBox="0 0 4 6"><path d="M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z" stroke="none" stroke-opacity="0">'), kd = /* @__PURE__ */ Je('<li><span style="padding-left:8px">'), Pd = "drawing_tools", JI = (e) => {
  const [f, n] = Ae("horizontalStraightLine"), [y, b] = Ae("priceChannelLine"), [S, T] = Ae("circle"), [M, z] = Ae("fibonacciLine"), [H, ee] = Ae("xabcd"), [oe, _e] = Ae("weak_magnet"), [ue, ve] = Ae("normal"), [le, re] = Ae(!1), [Ce, ke] = Ae(!0), [Ee, De] = Ae(""), Qe = In(() => [{
    key: "singleLine",
    icon: f(),
    list: HI(e.locale),
    setter: n
  }, {
    key: "moreLine",
    icon: y(),
    list: ZI(e.locale),
    setter: b
  }, {
    key: "polygon",
    icon: S(),
    list: UI(e.locale),
    setter: T
  }, {
    key: "fibonacci",
    icon: M(),
    list: KI(e.locale),
    setter: z
  }, {
    key: "wave",
    icon: H(),
    list: GI(e.locale),
    setter: ee
  }]), et = In(() => jI(e.locale));
  return (() => {
    const xt = qI(), at = xt.firstChild, We = at.nextSibling, $e = We.firstChild, gt = $e.nextSibling, Ue = gt.firstChild, dt = We.nextSibling, ft = dt.firstChild, $t = dt.nextSibling, Le = $t.firstChild, nt = $t.nextSibling, _n = nt.nextSibling, Et = _n.firstChild;
    return qe(xt, () => Qe().map((ct) => (() => {
      const Tt = QI(), Nn = Tt.firstChild, Vr = Nn.nextSibling, si = Vr.firstChild;
      return Tt.addEventListener("blur", () => {
        De("");
      }), Nn.$$click = () => {
        e.onDrawingItemClick({
          groupId: Pd,
          name: ct.icon,
          visible: Ce(),
          lock: le(),
          mode: ue()
        });
      }, qe(Nn, je(ga, {
        get name() {
          return ct.icon;
        }
      })), Vr.$$click = () => {
        ct.key === Ee() ? De("") : De(ct.key);
      }, qe(Tt, (() => {
        const Gr = In(() => ct.key === Ee());
        return () => Gr() && je(Tu, {
          class: "list",
          get children() {
            return ct.list.map((Wr) => (() => {
              const wn = kd(), Kn = wn.firstChild;
              return wn.$$click = () => {
                ct.setter(Wr.key), e.onDrawingItemClick({
                  name: Wr.key,
                  lock: le(),
                  mode: ue()
                }), De("");
              }, qe(wn, je(ga, {
                get name() {
                  return Wr.key;
                }
              }), Kn), qe(Kn, () => Wr.text), wn;
            })());
          }
        });
      })(), null), Bn(() => gi(si, "class", ct.key === Ee() ? "rotate" : "")), Tt;
    })()), at), We.addEventListener("blur", () => {
      De("");
    }), $e.$$click = () => {
      let ct = oe();
      ue() !== "normal" && (ct = "normal"), ve(ct), e.onModeChange(ct);
    }, qe($e, (() => {
      const ct = In(() => oe() === "weak_magnet");
      return () => ct() ? (() => {
        const Tt = In(() => ue() === "weak_magnet");
        return () => Tt() ? je(ga, {
          name: "weak_magnet",
          class: "selected"
        }) : je(ga, {
          name: "weak_magnet"
        });
      })() : (() => {
        const Tt = In(() => ue() === "strong_magnet");
        return () => Tt() ? je(ga, {
          name: "strong_magnet",
          class: "selected"
        }) : je(ga, {
          name: "strong_magnet"
        });
      })();
    })()), gt.$$click = () => {
      Ee() === "mode" ? De("") : De("mode");
    }, qe(We, (() => {
      const ct = In(() => Ee() === "mode");
      return () => ct() && je(Tu, {
        class: "list",
        get children() {
          return et().map((Tt) => (() => {
            const Nn = kd(), Vr = Nn.firstChild;
            return Nn.$$click = () => {
              _e(Tt.key), ve(Tt.key), e.onModeChange(Tt.key), De("");
            }, qe(Nn, je(ga, {
              get name() {
                return Tt.key;
              }
            }), Vr), qe(Vr, () => Tt.text), Nn;
          })());
        }
      });
    })(), null), ft.$$click = () => {
      const ct = !le();
      re(ct), e.onLockChange(ct);
    }, qe(ft, (() => {
      const ct = In(() => !!le());
      return () => ct() ? je(ga, {
        name: "lock"
      }) : je(ga, {
        name: "unlock"
      });
    })()), Le.$$click = () => {
      const ct = !Ce();
      ke(ct), e.onVisibleChange(ct);
    }, qe(Le, (() => {
      const ct = In(() => !!Ce());
      return () => ct() ? je(ga, {
        name: "visible"
      }) : je(ga, {
        name: "invisible"
      });
    })()), Et.$$click = () => {
      e.onRemoveClick(Pd);
    }, qe(Et, je(ga, {
      name: "remove"
    })), Bn(() => gi(Ue, "class", Ee() === "mode" ? "rotate" : "")), xt;
  })();
};
yi(["click"]);
const Id = /* @__PURE__ */ Je('<li class="title">'), Ed = /* @__PURE__ */ Je('<li class="row">'), eE = (e) => je(us, {
  get title() {
    return U("indicator", e.locale);
  },
  width: 400,
  get onClose() {
    return e.onClose;
  },
  get children() {
    return je(Tu, {
      class: "klinecharts-pro-indicator-modal-list",
      get children() {
        return [(() => {
          const f = Id();
          return qe(f, () => U("main_indicator", e.locale)), f;
        })(), In(() => ["MA", "EMA", "SMA", "BOLL", "SAR", "BBI"].map((f) => {
          const n = e.mainIndicators.includes(f);
          return (() => {
            const y = Ed();
            return y.$$click = (b) => {
              e.onMainIndicatorChange({
                name: f,
                paneId: "candle_pane",
                added: !n
              });
            }, qe(y, je(pd, {
              checked: n,
              get label() {
                return U(f.toLowerCase(), e.locale);
              }
            })), y;
          })();
        })), (() => {
          const f = Id();
          return qe(f, () => U("sub_indicator", e.locale)), f;
        })(), In(() => ["MA", "EMA", "VOL", "MACD", "BOLL", "KDJ", "RSI", "BIAS", "BRAR", "CCI", "DMI", "CR", "PSY", "DMA", "TRIX", "OBV", "VR", "WR", "MTM", "EMV", "SAR", "SMA", "ROC", "PVT", "BBI", "AO"].map((f) => {
          const n = f in e.subIndicators;
          return (() => {
            const y = Ed();
            return y.$$click = (b) => {
              e.onSubIndicatorChange({
                name: f,
                paneId: e.subIndicators[f] ?? "",
                added: !n
              });
            }, qe(y, je(pd, {
              checked: n,
              get label() {
                return U(f.toLowerCase(), e.locale);
              }
            })), y;
          })();
        }))];
      }
    });
  }
});
yi(["click"]);
function Ld(e, f) {
  switch (e) {
    case "Etc/UTC":
      return U("utc", f);
    case "Pacific/Honolulu":
      return U("honolulu", f);
    case "America/Juneau":
      return U("juneau", f);
    case "America/Los_Angeles":
      return U("los_angeles", f);
    case "America/Chicago":
      return U("chicago", f);
    case "America/Toronto":
      return U("toronto", f);
    case "America/Sao_Paulo":
      return U("sao_paulo", f);
    case "Europe/London":
      return U("london", f);
    case "Europe/Berlin":
      return U("berlin", f);
    case "Asia/Bahrain":
      return U("bahrain", f);
    case "Asia/Dubai":
      return U("dubai", f);
    case "Asia/Ashkhabad":
      return U("ashkhabad", f);
    case "Asia/Almaty":
      return U("almaty", f);
    case "Asia/Bangkok":
      return U("bangkok", f);
    case "Asia/Shanghai":
      return U("shanghai", f);
    case "Asia/Tokyo":
      return U("tokyo", f);
    case "Australia/Sydney":
      return U("sydney", f);
    case "Pacific/Norfolk":
      return U("norfolk", f);
  }
  return e;
}
function tE(e) {
  return [
    { key: "Etc/UTC", text: U("utc", e) },
    { key: "Pacific/Honolulu", text: U("honolulu", e) },
    { key: "America/Juneau", text: U("juneau", e) },
    { key: "America/Los_Angeles", text: U("los_angeles", e) },
    { key: "America/Chicago", text: U("chicago", e) },
    { key: "America/Toronto", text: U("toronto", e) },
    { key: "America/Sao_Paulo", text: U("sao_paulo", e) },
    { key: "Europe/London", text: U("london", e) },
    { key: "Europe/Berlin", text: U("berlin", e) },
    { key: "Asia/Bahrain", text: U("bahrain", e) },
    { key: "Asia/Dubai", text: U("dubai", e) },
    { key: "Asia/Ashkhabad", text: U("ashkhabad", e) },
    { key: "Asia/Almaty", text: U("almaty", e) },
    { key: "Asia/Bangkok", text: U("bangkok", e) },
    { key: "Asia/Shanghai", text: U("shanghai", e) },
    { key: "Asia/Tokyo", text: U("tokyo", e) },
    { key: "Australia/Sydney", text: U("sydney", e) },
    { key: "Pacific/Norfolk", text: U("norfolk", e) }
  ];
}
const nE = (e) => {
  const [f, n] = Ae(e.timezone), y = In(() => tE(e.locale));
  return je(us, {
    get title() {
      return U("timezone", e.locale);
    },
    width: 320,
    get buttons() {
      return [{
        children: U("confirm", e.locale),
        onClick: () => {
          e.onConfirm(f()), e.onClose();
        }
      }];
    },
    get onClose() {
      return e.onClose;
    },
    get children() {
      return je(ku, {
        style: {
          width: "100%",
          "margin-top": "20px"
        },
        get value() {
          return f().text;
        },
        onSelected: (b) => {
          n(b);
        },
        get dataSource() {
          return y();
        }
      });
    }
  });
}, Co = (e) => {
  const f = [
    { key: "solid", text: U("solid", e) },
    { key: "dashed", text: U("dashed", e) }
  ], n = [
    { key: "true", text: !0 },
    { key: "false", text: !1 }
  ], y = [
    { key: 1, text: 1 },
    { key: 2, text: 2 },
    { key: 3, text: 3 },
    { key: 4, text: 4 },
    { key: 5, text: 5 },
    { key: 6, text: 6 },
    { key: 7, text: 7 },
    { key: 8, text: 8 },
    { key: 9, text: 9 },
    { key: 10, text: 10 }
  ], b = [
    { key: "fill", text: U("fill", e) },
    { key: "stroke", text: U("stroke", e) },
    { key: "stroke_fill", text: U("stroke_fill", e) }
  ], S = [
    { key: "none", text: U("none", e) },
    { key: "always", text: U("always", e) },
    { key: "follow_cross", text: U("follow_cross", e) }
  ], T = [
    { key: 10, text: 10 },
    { key: 11, text: 11 },
    { key: 12, text: 12 },
    { key: 14, text: 14 },
    { key: 16, text: 16 },
    { key: 18, text: 18 },
    { key: 20, text: 20 },
    { key: 22, text: 22 },
    { key: 24, text: 24 }
  ], M = [
    { key: "normal", text: U("Normal", e) }
  ], z = [
    { key: "Helvetica Neue", text: U("Helvetica Neue", e) }
  ];
  return { solid_dashed: f, size: y, fill_stroke: b, font_family: z, font_size: T, font_weight: M, none_always_followCross: S, true_false: n };
}, rE = (e) => {
  const { font_family: f, font_size: n, font_weight: y, size: b, solid_dashed: S, fill_stroke: T, none_always_followCross: M } = Co(e);
  return [
    {
      key: "candle.type",
      text: U("candle_type", e),
      component: "select",
      dataSource: [
        { key: "candle_solid", text: U("candle_solid", e) },
        { key: "candle_stroke", text: U("candle_stroke", e) },
        { key: "candle_up_stroke", text: U("candle_up_stroke", e) },
        { key: "candle_down_stroke", text: U("candle_down_stroke", e) },
        { key: "ohlc", text: U("ohlc", e) },
        { key: "area", text: U("area", e) }
      ]
    },
    {
      key: "candle.bar.upColor",
      text: U("Bar up color", e),
      component: "color"
    },
    {
      key: "candle.bar.downColor",
      text: U("Bar down color", e),
      component: "color"
    },
    {
      key: "candle.bar.noChangeColor",
      text: U("Bar no-change color", e),
      component: "color"
    },
    {
      key: "candle.bar.upBorderColor",
      text: U("Bar up-border color", e),
      component: "color"
    },
    {
      key: "candle.bar.downBorderColor",
      text: U("Bar down-border color", e),
      component: "color"
    },
    {
      key: "candle.bar.noChangeBorderColor",
      text: U("Bar no-change-border color", e),
      component: "color"
    },
    {
      key: "candle.bar.upWickColor",
      text: U("Bar up-wick color", e),
      component: "color"
    },
    {
      key: "candle.bar.downWickColor",
      text: U("Bar down-wick color", e),
      component: "color"
    },
    {
      key: "candle.bar.noChangeWickColor",
      text: U("Bar no-change-wick color", e),
      component: "color"
    },
    {
      key: "candle.area.lineSize",
      text: U("Area linesize", e),
      component: "select",
      dataSource: b
    },
    {
      key: "candle.area.lineColor",
      text: U("Area line color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.high.show",
      text: U("high_price_show", e),
      component: "switch"
    },
    {
      key: "candle.priceMark.high.color",
      text: U("Pricemark high color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.high.textSize",
      text: U("Pricemark High Textsize", e),
      component: "select",
      dataSource: n
    },
    {
      key: "candle.priceMark.high.textFamily",
      text: U("Pricemark High Font family", e),
      component: "select",
      dataSource: f
    },
    {
      key: "candle.priceMark.high.textWeight",
      text: U("Pricemark High Font Weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "candle.priceMark.low.show",
      text: U("low_price_show", e),
      component: "switch"
    },
    {
      key: "candle.priceMark.low.color",
      text: U("Pricemark low color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.low.textSize",
      text: U("Pricemark Low Textsize", e),
      component: "select",
      dataSource: n
    },
    {
      key: "candle.priceMark.low.textFamily",
      text: U("Pricemark Low Font family", e),
      component: "select",
      dataSource: f
    },
    {
      key: "candle.priceMark.low.textWeight",
      text: U("Pricemark Low Font Weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "candle.priceMark.last.show",
      text: U("Show Pricemark last", e),
      component: "switch"
    },
    {
      key: "candle.priceMark.last.upColor",
      text: U("Pricemark last up-color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.last.downColor",
      text: U("Pricemark last down-color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.last.noChangeColor",
      text: U("Pricemark last no-change-color", e),
      component: "color"
    },
    {
      key: "candle.priceMark.last.line.show",
      text: U("Show Pricemark last line", e),
      component: "switch"
    },
    {
      key: "candle.priceMark.last.line.style",
      text: U("Pricemark last line style", e),
      component: "select",
      dataSource: S
    },
    {
      key: "candle.priceMark.last.line.size",
      text: U("Pricemark last line size", e),
      component: "select",
      dataSource: b
    },
    {
      key: "candle.priceMark.last.text.show",
      text: U("Show Pricemark last text", e),
      component: "switch"
    },
    {
      key: "candle.priceMark.last.text.style",
      text: U("Pricemark last text style", e),
      component: "select",
      dataSource: T
    },
    {
      key: "candle.priceMark.last.text.size",
      text: U("Pricemark last text size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "candle.priceMark.last.text.color",
      text: U("Pricemark last text color", e),
      component: "color"
    },
    // candle tooltip
    {
      key: "candle.tooltip.showRule",
      text: U("candle_tooltip", e),
      component: "select",
      dataSource: M
    },
    {
      key: "candle.tooltip.showType",
      text: U("Tooltip showtype", e),
      component: "select",
      dataSource: [
        { key: "rect", text: U("Rect", e) },
        { key: "standard", text: U("Standard", e) }
      ]
    },
    {
      key: "candle.tooltip.rect.position",
      text: U("Tooltip rect position", e),
      component: "select",
      dataSource: [
        { key: "fixed", text: U("Fixed", e) },
        { key: "pointer", text: U("Pointer", e) }
      ]
    },
    {
      key: "candle.tooltip.rect.color",
      text: U("Tooltip rect color", e),
      component: "color"
    },
    {
      key: "candle.tooltip.rect.borderColor",
      text: U("Tooltip rect border-color", e),
      component: "color"
    },
    {
      key: "candle.tooltip.text.size",
      text: U("Tooltip text size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "candle.tooltip.text.weight",
      text: U("Tooltip text weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "candle.tooltip.text.color",
      text: U("Tooltip text color", e),
      component: "color"
    }
  ];
}, iE = (e) => {
  const { fill_stroke: f, font_size: n, font_weight: y, none_always_followCross: b } = Co(e);
  return [
    // {
    //   key: 'indicator.bars.style',
    //   text: i18n('Bar style', locale),
    //   component: 'select',
    //   dataSource: [
    //     { key: 'fill', text: i18n('Fill', locale) },
    //     { key: 'stroke', text: i18n('Stroke', locale) },
    //     { key: 'stroke_fill', text: i18n('Stroke fill', locale) }
    //   ]
    // },
    // {
    //   key: 'indicator.bars.borderStyle',
    //   text: i18n('Bar border style', locale),
    //   component: 'select',
    //   dataSource: [
    //     { key: 'solid', text: i18n('Solid', locale) },
    //     { key: 'dashed', text: i18n('Dashed', locale) }
    //   ]
    // },
    // {
    //   key: 'indicator.bars.borderSize',
    //   text: i18n('Bar border thickness', locale),
    //   component: 'select',
    //   dataSource: [
    //     { key: 1, text: 1},
    //     { key: 2, text: 2},
    //     { key: 3, text: 3},
    //     { key: 4, text: 4}
    //   ]
    // },
    {
      key: "indicator.ohlc.upColor",
      text: U("Ohlc up-color", e),
      component: "color"
    },
    {
      key: "indicator.ohlc.downColor",
      text: U("Ohlc down-color", e),
      component: "color"
    },
    {
      key: "indicator.ohlc.noChangeColor",
      text: U("Ohlc no-change-color", e),
      component: "color"
    },
    {
      key: "indicator.lastValueMark.show",
      text: U("indicator_last_value_show", e),
      component: "switch"
    },
    {
      key: "indicator.lastValueMark.text.show",
      text: U("Show last value mark text", e),
      component: "switch"
    },
    {
      key: "indicator.lastValueMark.text.style",
      text: U("Last value mark text style", e),
      component: "select",
      dataSource: f
    },
    {
      key: "indicator.lastValueMark.text.size",
      text: U("Last value mark text size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "indicator.lastValueMark.text.weight",
      text: U("Last value mark text Weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "indicator.lastValueMark.text.color",
      text: U("Last value mark text color", e),
      component: "color"
    },
    {
      key: "indicator.tooltip.showRule",
      text: U("Tooltip showrule", e),
      component: "select",
      dataSource: b
    },
    {
      key: "indicator.tooltip.showType",
      text: U("Tooltip showtype", e),
      component: "select",
      dataSource: [
        { key: "standard", text: U("Standard", e) },
        { key: "rect", text: U("Rect", e) }
      ]
    },
    {
      key: "indicator.tooltip.showName",
      text: U("Show tooltip name", e),
      component: "switch"
    },
    {
      key: "indicator.tooltip.showParams",
      text: U("Show tooltip params", e),
      component: "switch"
    },
    {
      key: "indicator.tooltip.text.size",
      text: U("Tooltip text size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "indicator.tooltip.text.weight",
      text: U("Tooltip text Weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "indicator.tooltip.text.color",
      text: U("Tooltip text color", e),
      component: "color"
    }
  ];
}, aE = (e) => {
  const { font_size: f, size: n, font_weight: y } = Co(e);
  return [
    {
      key: "xAxis.show",
      text: U("Show xAxis", e),
      component: "switch"
    },
    {
      key: "xAxis.axisLine.show",
      text: U("Show axis line", e),
      component: "switch"
    },
    {
      key: "xAxis.axisLine.color",
      text: U("Axis line color", e),
      component: "color"
    },
    {
      key: "xAxis.axisLine.size",
      text: U("Axis line size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "xAxis.tickText.show",
      text: U("Show tick text", e),
      component: "switch"
    },
    {
      key: "xAxis.tickText.size",
      text: U("Tick text size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "xAxis.tickText.weight",
      text: U("Tick text Weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "xAxis.tickText.color",
      text: U("Tick text color", e),
      component: "color"
    },
    {
      key: "xAxis.tickLine.show",
      text: U("Show tick line", e),
      component: "switch"
    },
    {
      key: "xAxis.tickLine.size",
      text: U("Tick line size", e),
      component: "select",
      dataSource: n
    },
    {
      key: "xAxis.tickLine.length",
      text: U("Tick line length", e),
      component: "select",
      dataSource: n
    },
    {
      key: "xAxis.tickLine.color",
      text: U("Tick line color", e),
      component: "color"
    }
  ];
}, oE = (e) => {
  const { size: f, font_weight: n, font_size: y } = Co(e);
  return [
    {
      key: "yAxis.show",
      text: U("Show yAxis", e),
      component: "switch"
    },
    {
      key: "yAxis.position",
      text: U("Position", e),
      component: "select",
      dataSource: [
        { key: "right", text: U("Right", e) },
        { key: "left", text: U("Left", e) }
      ]
    },
    {
      key: "yAxis.type",
      text: U("price_axis_type", e),
      component: "select",
      dataSource: [
        { key: "normal", text: U("normal", e) },
        { key: "percentage", text: U("percentage", e) },
        { key: "log", text: U("log", e) }
      ]
    },
    {
      key: "yAxis.inside",
      text: U("Inside", e),
      component: "switch"
    },
    {
      key: "yAxis.reverse",
      text: U("reverse_coordinate", e),
      component: "switch"
    },
    {
      key: "yAxis.axisLine.show",
      text: U("Show axis line", e),
      component: "switch"
    },
    {
      key: "yAxis.axisLine.size",
      text: U("Axis line size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "yAxis.axisLine.color",
      text: U("Axis line color", e),
      component: "color"
    },
    {
      key: "yAxis.tickText.show",
      text: U("Show tick text", e),
      component: "switch"
    },
    {
      key: "yAxis.tickText.color",
      text: U("Tick text color", e),
      component: "color"
    },
    {
      key: "yAxis.tickText.size",
      text: U("Tick text size", e),
      component: "select",
      dataSource: y
    },
    {
      key: "yAxis.tickText.weight",
      text: U("Tick text Weight", e),
      component: "select",
      dataSource: n
    },
    {
      key: "yAxis.tickLine.show",
      text: U("Show tick line", e),
      component: "switch"
    },
    {
      key: "yAxis.tickLine.color",
      text: U("Tick line color", e),
      component: "color"
    },
    {
      key: "yAxis.tickLine.size",
      text: U("Tick line size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "yAxis.tickLine.length",
      text: U("Tick line length", e),
      component: "select",
      dataSource: f
    }
  ];
}, sE = (e) => {
  const { size: f } = Co(e);
  return [
    {
      key: "grid.show",
      text: U("grid_show", e),
      component: "switch"
    },
    {
      key: "grid.horizontal.show",
      text: U("Show horizontal", e),
      component: "switch"
    },
    {
      key: "grid.horizontal.show",
      text: U("Horizontal size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "grid.horizontal.color",
      text: U("Horizontal color", e),
      component: "color"
    },
    {
      key: "grid.vertical.show",
      text: U("Show vertical", e),
      component: "switch"
    },
    {
      key: "grid.vertical.show",
      text: U("Vertical size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "grid.vertical.color",
      text: U("Vertical color", e),
      component: "color"
    }
  ];
}, lE = (e) => {
  const { solid_dashed: f, fill_stroke: n, size: y, font_size: b, font_weight: S } = Co(e);
  return [
    {
      key: "crosshair.show",
      text: U("Show Crosshair", e),
      component: "switch"
    },
    {
      key: "crosshair.horizontal.show",
      text: U("Show horizontal", e),
      component: "switch"
    },
    {
      key: "crosshair.horizontal.line.show",
      text: U("Show horizontal line", e),
      component: "switch"
    },
    {
      key: "crosshair.horizontal.line.style",
      text: U("Horizontal Line Style", e),
      component: "select",
      dataSource: f
    },
    {
      key: "crosshair.horizontal.line.size",
      text: U("Horizontal Line size", e),
      component: "select",
      dataSource: y
    },
    {
      key: "crosshair.horizontal.line.color",
      text: U("Horizontal Line color", e),
      component: "color"
    },
    {
      key: "crosshair.horizontal.text.show",
      text: U("Show horizontal text", e),
      component: "switch"
    },
    {
      key: "crosshair.horizontal.text.style",
      text: U("Horizontal text Style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "crosshair.horizontal.text.size",
      text: U("Horizontal text size", e),
      component: "select",
      dataSource: b
    },
    {
      key: "crosshair.horizontal.text.weight",
      text: U("Horizontal text weight", e),
      component: "select",
      dataSource: S
    },
    {
      key: "crosshair.horizontal.text.color",
      text: U("Horizontal text color", e),
      component: "color"
    },
    {
      key: "crosshair.horizontal.text.backgroundColor",
      text: U("Horizontal text background color", e),
      component: "color"
    },
    {
      key: "crosshair.vertical.show",
      text: U("Show vertical", e),
      component: "switch"
    },
    {
      key: "crosshair.vertical.line.show",
      text: U("Show vertical line", e),
      component: "switch"
    },
    {
      key: "crosshair.vertical.line.style",
      text: U("Vertical Line Style", e),
      component: "select",
      dataSource: f
    },
    {
      key: "crosshair.vertical.line.size",
      text: U("Vertical Line size", e),
      component: "select",
      dataSource: y
    },
    {
      key: "crosshair.vertical.line.color",
      text: U("Vertical line color", e),
      component: "color"
    },
    {
      key: "crosshair.vertical.text.show",
      text: U("Show vertical text", e),
      component: "switch"
    },
    {
      key: "crosshair.vertical.text.style",
      text: U("Vertical text Style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "crosshair.vertical.text.size",
      text: U("Vertical text size", e),
      component: "select",
      dataSource: b
    },
    {
      key: "crosshair.vertical.text.weight",
      text: U("Vertical text weight", e),
      component: "select",
      dataSource: S
    },
    {
      key: "crosshair.vertical.text.color",
      text: U("Vertical text color", e),
      component: "color"
    },
    {
      key: "crosshair.vertical.text.backgroundColor",
      text: U("Vertical text background color", e),
      component: "color"
    }
  ];
}, uE = (e) => {
  const { solid_dashed: f, fill_stroke: n, size: y, font_size: b, font_weight: S, font_family: T } = Co(e);
  return [
    {
      key: "overlay.point.color",
      text: U("Point color", e),
      component: "color"
    },
    {
      key: "overlay.point.borderColor",
      text: U("Point border color", e),
      component: "color"
    },
    {
      key: "overlay.point.activeColor",
      text: U("Point active color", e),
      component: "color"
    },
    {
      key: "overlay.point.activeBorderColor",
      text: U("Point active border color", e),
      component: "color"
    },
    {
      key: "overlay.line.style",
      text: U("Line Style", e),
      component: "select",
      dataSource: f
    },
    {
      key: "overlay.line.smooth",
      text: U("Smooth line", e),
      component: "switch"
    },
    {
      key: "overlay.line.size",
      text: U("Line size", e),
      component: "select",
      dataSource: y
    },
    {
      key: "overlay.line.color",
      text: U("Line color", e),
      component: "color"
    },
    {
      key: "overlay.rect.style",
      text: U("Rect Style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "overlay.rect.color",
      text: U("Rect color", e),
      component: "color"
    },
    {
      key: "overlay.rect.borderColor",
      text: U("Rect border color", e),
      component: "color"
    },
    {
      key: "overlay.polygon.style",
      text: U("Polygon Style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "overlay.polygon.color",
      text: U("Polygon color", e),
      component: "color"
    },
    {
      key: "overlay.polygon.borderColor",
      text: U("Polygon border color", e),
      component: "color"
    },
    {
      key: "overlay.circle.style",
      text: U("Circle Style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "overlay.circle.color",
      text: U("Circle color", e),
      component: "color"
    },
    {
      key: "overlay.circle.borderColor",
      text: U("Circle border color", e),
      component: "color"
    },
    {
      key: "overlay.arc.style",
      text: U("Arc Style", e),
      component: "select",
      dataSource: f
    },
    {
      key: "overlay.arc.size",
      text: U("Arc size", e),
      component: "select",
      dataSource: y
    },
    {
      key: "overlay.arc.color",
      text: U("Arc color", e),
      component: "color"
    },
    {
      key: "overlay.text.size",
      text: U("Text size", e),
      component: "select",
      dataSource: b
    },
    {
      key: "overlay.text.weight",
      text: U("Text weight", e),
      component: "select",
      dataSource: S
    },
    {
      key: "overlay.text.color",
      text: U("Text color", e),
      component: "color"
    },
    {
      key: "overlay.rectText.style",
      text: U("Rect_text style", e),
      component: "select",
      dataSource: n
    },
    {
      key: "overlay.rectText.size",
      text: U("Rect_text size", e),
      component: "select",
      dataSource: b
    },
    {
      key: "overlay.rectText.family",
      text: U("Rect_text font family", e),
      component: "select",
      dataSource: T
    },
    {
      key: "overlay.rectText.weight",
      text: U("Rect_text weight", e),
      component: "select",
      dataSource: S
    },
    {
      key: "overlay.rectText.color",
      text: U("Rect_text color", e),
      component: "color"
    },
    {
      key: "overlay.rectText.backgroundColor",
      text: U("Rect_text background color", e),
      component: "color"
    },
    {
      key: "overlay.rectText.borderColor",
      text: U("Rect_text border color", e),
      component: "color"
    }
  ];
};
function Ad(e) {
  const { size: f } = Co(e);
  return [
    ...rE(e),
    ...iE(e),
    ...aE(e),
    ...oE(e),
    ...sE(e),
    ...lE(e),
    ...uE(e),
    // seperator
    {
      key: "separator.size",
      text: U("Seperator size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "separator.fill",
      text: U("Fill", e),
      component: "switch"
    },
    {
      key: "separator.activeBackgroundColor",
      text: U("Background color", e),
      component: "color"
    }
  ];
}
const cE = /* @__PURE__ */ Je('<div class="klinecharts-pro-setting-modal-content"><div class="sidebar"></div><div class="content">'), hE = /* @__PURE__ */ Je("<button>"), dE = /* @__PURE__ */ Je('<div class="component"><span>'), fE = (e) => {
  const [f, n] = Ae(e.currentStyles), [y, b] = Ae(Ad(e.locale)), [S, T] = Ae("candle");
  Ga(() => {
    b(Ad(e.locale));
  });
  const M = (ee, oe) => {
    var re, Ce;
    const _e = localStorage.getItem(`chartstatedata_${(re = Ln()) == null ? void 0 : re.id}`);
    let ue;
    _e ? (ue = JSON.parse(_e), ue.styleObj = ue.styleObj ?? {}) : ue = {
      styleObj: {}
    }, gu(ue.styleObj, ee.key, oe), localStorage.setItem(`chartstatedata_${(Ce = Ln()) == null ? void 0 : Ce.id}`, JSON.stringify(ue)), Vs(!0);
    const ve = {};
    gu(ve, ee.key, oe), gu(ve, ee.key, oe);
    const le = Ie.utils.clone(f());
    gu(le, ee.key, oe), n(le), b(y().map((ke) => ({
      ...ke
    }))), e.onChange(ve);
  }, z = () => {
    var _e, ue;
    const ee = localStorage.getItem(`chartstatedata_${(_e = Ln()) == null ? void 0 : _e.id}`);
    let oe;
    ee && (oe = JSON.parse(ee), oe.styleObj && (oe.styleObj = {}), localStorage.setItem(`chartstatedata_${(ue = Ln()) == null ? void 0 : ue.id}`, JSON.stringify(oe))), e.onRestoreDefault(y()), e.onClose();
  }, H = [{
    text: "Candle",
    key: "candle"
  }, {
    text: "Indicator",
    key: "indicator"
  }, {
    text: "Grid",
    key: "grid"
  }, {
    text: "X-axis",
    key: "xAxis"
  }, {
    text: "Y-axis",
    key: "yAxis"
  }, {
    text: "Separator",
    key: "separator"
  }, {
    text: "Crosshair",
    key: "crosshair"
  }, {
    text: "Overlay",
    key: "overlay"
  }];
  return je(us, {
    get title() {
      return U("setting", e.locale);
    },
    get buttons() {
      return [{
        children: U("restore_default", e.locale),
        onClick: () => {
          z();
        }
      }];
    },
    get onClose() {
      return e.onClose;
    },
    get children() {
      const ee = cE(), oe = ee.firstChild, _e = oe.nextSibling;
      return qe(oe, () => H.map((ue) => (() => {
        const ve = hE();
        return ve.$$click = () => T(ue.key), qe(ve, () => ue.text), Bn(() => qa(ve, `${S() == ue.key ? "selected" : ""}`)), ve;
      })())), qe(_e, je(wu, {
        get each() {
          return y().filter((ue) => ue.key.includes(S()));
        },
        children: (ue) => {
          let ve;
          const le = Ie.utils.formatValue(f(), ue.key);
          switch (ue.component) {
            case "select": {
              ve = je(ku, {
                style: {
                  width: "120px"
                },
                get value() {
                  return U(le, e.locale);
                },
                get dataSource() {
                  return ue.dataSource;
                },
                onSelected: (re) => {
                  const Ce = re.key;
                  M(ue, Ce);
                }
              });
              break;
            }
            case "switch": {
              const re = !!le;
              ve = je(Xf, {
                open: re,
                onChange: () => {
                  M(ue, !re);
                }
              });
              break;
            }
            case "color": {
              ve = // <input style={'width: 120px'} type="color" value={value as any} 
              //   onchange={(el) => {
              //     const newValue = el.target.value
              //     update(option, newValue)
              //   }} 
              // />
              je(Ec, {
                style: {
                  width: "120px"
                },
                value: le,
                onChange: (re) => {
                  M(ue, re);
                }
              });
              break;
            }
          }
          return (() => {
            const re = dE(), Ce = re.firstChild;
            return qe(Ce, () => ue.text), qe(re, ve, null), re;
          })();
        }
      })), ee;
    }
  });
};
yi(["click"]);
const pE = /* @__PURE__ */ Je('<img style="width:500px;margin-top:20px">'), vE = (e) => je(us, {
  get title() {
    return U("screenshot", e.locale);
  },
  width: 540,
  get buttons() {
    return [{
      type: "confirm",
      children: U("save", e.locale),
      onClick: () => {
        const f = document.createElement("a");
        f.download = "screenshot", f.href = e.url, document.body.appendChild(f), f.click(), f.remove();
      }
    }];
  },
  get onClose() {
    return e.onClose;
  },
  get children() {
    const f = pE();
    return Bn(() => gi(f, "src", e.url)), f;
  }
}), gE = {
  AO: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 5 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 34 }
  ],
  BIAS: [
    { paramNameKey: "BIAS1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "BIAS2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "BIAS3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "BIAS4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "BIAS5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ],
  BOLL: [
    { paramNameKey: "period", precision: 0, min: 1, default: 20 },
    { paramNameKey: "standard_deviation", precision: 2, min: 1, default: 2 }
  ],
  BRAR: [
    { paramNameKey: "period", precision: 0, min: 1, default: 26 }
  ],
  BBI: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 3 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 },
    { paramNameKey: "params_3", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_4", precision: 0, min: 1, default: 24 }
  ],
  CCI: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 20 }
  ],
  CR: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 26 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 10 },
    { paramNameKey: "params_3", precision: 0, min: 1, default: 20 },
    { paramNameKey: "params_4", precision: 0, min: 1, default: 40 },
    { paramNameKey: "params_5", precision: 0, min: 1, default: 60 }
  ],
  DMA: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 10 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 50 },
    { paramNameKey: "params_3", precision: 0, min: 1, default: 10 }
  ],
  DMI: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 14 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 }
  ],
  EMV: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 14 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 9 }
  ],
  EMA: [
    { paramNameKey: "EMA1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "EMA2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "EMA3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "EMA4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "EMA5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ],
  MTM: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 }
  ],
  MA: [
    { paramNameKey: "MA1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "MA2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "MA3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "MA4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "MA5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ],
  MACD: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 26 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 9 }
  ],
  OBV: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 30 }
  ],
  PVT: [],
  PSY: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 }
  ],
  ROC: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 }
  ],
  RSI: [
    { paramNameKey: "RSI1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "RSI2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "RSI3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "RSI4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "RSI5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ],
  SMA: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 2 }
  ],
  KDJ: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 9 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 3 },
    { paramNameKey: "params_3", precision: 0, min: 1, default: 3 }
  ],
  SAR: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 2 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 2 },
    { paramNameKey: "params_3", precision: 0, min: 1, default: 20 }
  ],
  TRIX: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 12 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 9 }
  ],
  VOL: [
    { paramNameKey: "MA1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "MA2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "MA3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "MA4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "MA5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ],
  VR: [
    { paramNameKey: "params_1", precision: 0, min: 1, default: 26 },
    { paramNameKey: "params_2", precision: 0, min: 1, default: 6 }
  ],
  WR: [
    { paramNameKey: "WR1", precision: 0, min: 1, styleKey: "lines[0].color" },
    { paramNameKey: "WR2", precision: 0, min: 1, styleKey: "lines[1].color" },
    { paramNameKey: "WR3", precision: 0, min: 1, styleKey: "lines[2].color" },
    { paramNameKey: "WR4", precision: 0, min: 1, styleKey: "lines[3].color" },
    { paramNameKey: "WR5", precision: 0, min: 1, styleKey: "lines[4].color" }
  ]
}, yE = /* @__PURE__ */ Je('<div class="klinecharts-pro-indicator-setting-modal-content">'), mE = /* @__PURE__ */ Je("<span>"), _E = (e) => {
  const [f, n] = Ae(Ie.utils.clone(e.params.calcParams)), y = (b) => gE[b];
  return je(us, {
    get title() {
      return e.params.indicatorName;
    },
    width: 360,
    get buttons() {
      return [{
        type: "confirm",
        children: U("confirm", e.locale),
        onClick: () => {
          const b = y(e.params.indicatorName), S = [];
          Ie.utils.clone(f()).forEach((T, M) => {
            !Ie.utils.isValid(T) || T === "" ? "default" in b[M] && S.push(b[M].default) : S.push(T);
          }), e.onConfirm(S), e.onClose();
        }
      }];
    },
    get onClose() {
      return e.onClose;
    },
    get children() {
      const b = yE();
      return qe(b, () => y(e.params.indicatorName).map((S, T) => [(() => {
        const M = mE();
        return qe(M, () => U(S.paramNameKey, e.locale)), M;
      })(), je(Xs, {
        style: {
          width: "200px"
        },
        get value() {
          return f()[T] ?? "";
        },
        get precision() {
          return S.precision;
        },
        get min() {
          return S.min;
        },
        onChange: (M) => {
          const z = Ie.utils.clone(f());
          z[T] = M, n(z);
        }
      })])), b;
    }
  });
}, xE = /* @__PURE__ */ Je('<svg viewBox="0 0 1024 1024"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z">'), bE = /* @__PURE__ */ Je('<img alt="symbol">'), CE = /* @__PURE__ */ Je("<li><div><span>"), SE = (e) => {
  const [f, n] = Ae(""), [y] = g5(f, e.datafeed.searchSymbols.bind(e.datafeed));
  return je(us, {
    get title() {
      return U("symbol_search", e.locale);
    },
    width: 460,
    get onClose() {
      return e.onClose;
    },
    get children() {
      return [je(Xs, {
        class: "klinecharts-pro-symbol-search-modal-input",
        get placeholder() {
          return U("symbol_code", e.locale);
        },
        get suffix() {
          return xE();
        },
        get value() {
          return f();
        },
        onChange: (b) => {
          const S = `${b}`;
          n(S);
        }
      }), je(Tu, {
        class: "klinecharts-pro-symbol-search-modal-list",
        get loading() {
          return y.loading;
        },
        get dataSource() {
          return y() ?? [];
        },
        renderItem: (b) => (() => {
          const S = CE(), T = S.firstChild, M = T.firstChild;
          return S.$$click = () => {
            e.onSymbolSelected(b), e.onClose();
          }, qe(T, je(An, {
            get when() {
              return b.logo;
            },
            get children() {
              const z = bE();
              return Bn(() => gi(z, "src", b.logo)), z;
            }
          }), M), qe(M, () => b.shortName ?? b.ticker, null), qe(M, () => `${b.name ? `(${b.name})` : ""}`, null), qe(S, () => b.exchange ?? "", null), Bn(() => gi(M, "title", b.name ?? "")), S;
        })()
      })];
    }
  });
};
yi(["click"]);
const wE = /* @__PURE__ */ Je("<span>No Opened Orders"), TE = /* @__PURE__ */ Je('<div class="tab_wrapper"><div class="tab_button_holder"><button>Running</button><button>Closed</button></div><div class="tab_content_wrapper">'), kE = /* @__PURE__ */ Je('<div class="klinecharts-pro-order-panel">'), PE = /* @__PURE__ */ Je('<li style="min-width:1400px"><div class="order-header"><span style="width:8%">Order Id</span><span style="width:8%">Session Id</span><span style="width:8%">Action Type</span><span style="width:8%">Entry Point</span><span style="width:8%">Take Profit</span><span style="width:8%">Stop Loss</span><span style="width:8%">Profit/Loss</span><span style="width:8%">Exit Point</span><span style="width:10%">Entry Time</span><span style="width:10%">Exit Time</span><span style="width:8%">Edit Order</span><span style="width:8%">Close Order'), IE = /* @__PURE__ */ Je("<li>"), EE = /* @__PURE__ */ Je('<li style="min-width:1400px"><div class="order-item"><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:8%"></span><span style="width:10%"></span><span style="width:10%"></span><span style="width:8%"></span><span style="width:8%">'), LE = (e) => {
  const [f, n] = Ae(!0), [y, b] = Ae([]), [S, T] = Ae(!0), M = (ee) => {
    if (Pu(!1), Sr(!1), ee) {
      Dl(ee);
      let oe = pn();
      oe.map((_e) => _e.orderId === ee.orderId ? ee : _e), b(oe);
    }
  }, z = (ee, oe) => {
    var ue;
    let _e = (ue = At()) == null ? void 0 : ue.getOverlayById(`orderline_${ee.orderId}`);
    if (_e) {
      if (oe == "edit") {
        Pu(!0), Sr(!0), e.orderController.launchOrderModal("modifyorder", M, {
          id: ee.orderId,
          stoploss: ee.stopLoss,
          takeprofit: ee.takeProfit,
          entrypoint: ee.action == "buy" || ee.action == "sell" ? void 0 : ee.entryPoint,
          lotsize: ee.action == "buy" || ee.action == "sell" ? void 0 : ee.lotSize,
          action: ee.action
        });
        return;
      }
      Te().closeOrder(_e, oe == "close" ? "manualclose" : "cancel");
    }
  }, H = (ee) => ee ? Number.isInteger(ee) ? ee.toString() : ee.toFixed(2) : null;
  return h1(() => {
    n(!0), (async (oe) => {
      const _e = oe ? pn().filter((ue) => ue.action == oe) : y();
      b(_e), n(!1);
    })();
  }), (() => {
    const ee = kE();
    return qe(ee, je(An, {
      get when() {
        return In(() => pn().length < 1)() && !f();
      },
      get children() {
        return wE();
      }
    }), null), qe(ee, je(An, {
      get when() {
        return pn().length > 0 || f();
      },
      get children() {
        const oe = TE(), _e = oe.firstChild, ue = _e.firstChild, ve = ue.nextSibling, le = _e.nextSibling;
        return ue.$$click = () => {
          T(!0);
        }, ve.$$click = () => {
          T(!1);
        }, qe(le, je(Tu, {
          class: "klinecharts-pro-order-pane-list",
          get loading() {
            return f();
          },
          get children() {
            return [In(() => In(() => !f())() ? PE() : IE()), In(() => pn().filter((re) => S() ? re.exitType == null : re.exitType != null).map((re) => (() => {
              const Ce = EE(), ke = Ce.firstChild, Ee = ke.firstChild, De = Ee.nextSibling, Qe = De.nextSibling, et = Qe.nextSibling, xt = et.nextSibling, at = xt.nextSibling, We = at.nextSibling, $e = We.nextSibling, gt = $e.nextSibling, Ue = gt.nextSibling, dt = Ue.nextSibling, ft = dt.nextSibling;
              return qe(Ee, () => re.orderId), qe(De, () => re.sessionId), qe(Qe, () => re.action), qe(et, () => re.entryPoint || "N/A"), qe(xt, () => re.takeProfit || "N/A"), qe(at, () => re.stopLoss || "N/A"), qe(We, () => H(re.pl) || "N/A"), qe($e, () => re.exitPoint || "N/A"), qe(gt, () => re.entryTime), qe(Ue, () => re.exitTime), qe(dt, je(r1, {
                get isDisabled() {
                  return !S();
                },
                type: "confirm",
                class: "edit-button",
                onClick: () => {
                  z(re, "edit");
                },
                children: "Edit"
              })), qe(ft, je(r1, {
                get isDisabled() {
                  return !S();
                },
                type: "cancel",
                class: "close-button",
                onClick: () => {
                  z(re, re.action == "buy" || re.action == "sell" ? "close" : "cancel");
                },
                get children() {
                  return re.action == "buy" || re.action == "sell" ? "Close" : "Cancel";
                }
              })), Ce;
            })()))];
          }
        })), Bn((re) => {
          const Ce = `${S() ? "selected" : ""}`, ke = `${S() ? "" : "selected"}`;
          return Ce !== re._v$ && qa(ue, re._v$ = Ce), ke !== re._v$2 && qa(ve, re._v$2 = ke), re;
        }, {
          _v$: void 0,
          _v$2: void 0
        }), oe;
      }
    }), null), ee;
  })();
};
yi(["click"]);
const AE = (e) => {
  const { font_size: f, font_family: n, font_weight: y, fill_stroke: b, solid_dashed: S, size: T, true_false: M } = Co(e), z = [
    {
      key: "activeBorderSize",
      text: U("active border size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "borderSize",
      text: U("Border size", e),
      component: "select",
      dataSource: T
    },
    {
      key: "color",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "activeColor",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "activeBorderColor",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "borderColor",
      text: U("Border color", e),
      component: "color"
    },
    {
      key: "activeRadius",
      text: U("Active radius", e),
      component: "input"
    },
    {
      key: "radius",
      text: U("Radius", e),
      component: "input"
    }
  ], H = [
    {
      key: "style",
      text: U("Style", e),
      component: "select",
      dataSource: b
    },
    {
      key: "size",
      text: U("Font size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "family",
      text: U("Font family", e),
      component: "select",
      dataSource: n
    },
    {
      key: "weight",
      text: U("Font weight", e),
      component: "select",
      dataSource: y
    },
    {
      key: "borderStyle",
      text: U("Border style", e),
      component: "select",
      dataSource: S
    },
    {
      key: "borderSize",
      text: U("Border size", e),
      component: "select",
      dataSource: T
    },
    {
      key: "color",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "backgroundColor",
      text: U("Background color", e),
      component: "color"
    },
    {
      key: "borderColor",
      text: U("Border color", e),
      component: "color"
    },
    {
      key: "borderDashedValue",
      text: U("Border dashed value", e),
      component: "input"
    },
    {
      key: "borderRadius",
      text: U("Border radius", e),
      component: "input"
    },
    {
      key: "paddingLeft",
      text: U("Padding left", e),
      component: "input"
    },
    {
      key: "paddingRight",
      text: U("Padding right", e),
      component: "input"
    },
    {
      key: "paddingBottom",
      text: U("Padding bottom", e),
      component: "input"
    },
    {
      key: "paddingTop",
      text: U("Padding top", e),
      component: "input"
    }
  ], ee = [
    {
      key: "style",
      text: U("Style", e),
      component: "select",
      dataSource: S
    },
    {
      key: "size",
      text: U("Size", e),
      component: "select",
      dataSource: T
    },
    {
      key: "color",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "dashedValue",
      text: U("Dashed Value", e),
      component: "input"
    }
  ], oe = [
    {
      key: "style",
      text: U("Style", e),
      component: "select",
      dataSource: b
    },
    {
      key: "color",
      text: U("Color", e),
      component: "color"
    },
    {
      key: "borderColor",
      text: U("Border color", e),
      component: "color"
    },
    {
      key: "borderSize",
      text: U("Active border size", e),
      component: "select",
      dataSource: f
    },
    {
      key: "borderStyle",
      text: U("Border style", e),
      component: "select",
      dataSource: S
    },
    {
      key: "borderDashedValue",
      text: U("Border dashed value", e),
      component: "input"
    }
  ], _e = ee;
  _e.push({
    key: "smooth",
    text: U("Smooth", e),
    component: "select",
    dataSource: M
  });
  const ue = oe;
  return ue.push({
    key: "borderRadius",
    text: U("Border radius", e),
    component: "input"
  }), {
    point: z,
    text: H,
    line: _e,
    rect: ue,
    polygon: oe,
    circle: oe,
    arc: ee
  };
}, ME = /* @__PURE__ */ Je('<div class="klinecharts-pro-overlay-setting-modal-content"><div class="content">'), Md = /* @__PURE__ */ Je("<div>"), DE = /* @__PURE__ */ Je('<div class="component"><span>'), FE = (e) => {
  var M, z;
  const f = AE(e.locale), n = (H, ee) => {
    var oe, _e, ue, ve, le, re;
    return ee ? (oe = Mn()) != null && oe.styles[ee][H] ? (_e = Mn()) == null ? void 0 : _e.styles[ee][H] : El[`${(ue = On()) == null ? void 0 : ue.overlayType}Style`]()[ee][H] : (ve = Mn()) != null && ve.styles[H] ? (le = Mn()) == null ? void 0 : le.styles[H] : El[`${(re = On()) == null ? void 0 : re.overlayType}Style`]()[H];
  }, y = (H, ee, oe) => {
    var re, Ce;
    const _e = localStorage.getItem(`chartstatedata_${(re = Ln()) == null ? void 0 : re.id}`);
    let ue;
    _e ? (ue = JSON.parse(_e), ue.orderStyles = ue.orderStyles ?? {}) : ue = {
      orderStyles: {}
    };
    const ve = (ke) => {
      var De, Qe, et;
      const Ee = mn.cloneDeep(ke);
      return oe ? mn.set(Ee, `${oe}.${H.key}`, ee) : mn.set(Ee, `${H.key}`, ee), (Qe = At()) == null || Qe.overrideOverlay({
        id: (De = Mn()) == null ? void 0 : De.id,
        styles: Ee
      }), Xl((xt) => {
        var at;
        return ((at = At()) == null ? void 0 : at.getOverlayById(xt == null ? void 0 : xt.id)) ?? xt;
      }), Mn() && Zc().syncObject(Mn()), (et = At()) == null || et.setStyles(ue.styleObj ?? {}), Ee;
    }, le = (Ce = On()) == null ? void 0 : Ce.overlayType;
    gd[`set${le}Style`] && gd[`set${le}Style`]((ke) => ve(ke));
  }, b = El[`${(M = On()) == null ? void 0 : M.overlayType}Style`] ? El[`${(z = On()) == null ? void 0 : z.overlayType}Style`]() : void 0;
  let S = [], T = [];
  return b && (S = Object.keys(f), T = Object.keys(b)), je(us, {
    get title() {
      return `Style ${P1()}`;
    },
    onClose: () => ap(!1),
    get children() {
      const H = ME(), ee = H.firstChild;
      return qe(ee, je(wu, {
        each: T,
        children: (oe) => {
          if (S.includes(oe))
            return [(() => {
              const _e = Md();
              return qe(_e, oe), _e;
            })(), je(wu, {
              get each() {
                return f[oe];
              },
              children: (_e) => {
                let ue;
                const ve = n(_e.key, oe);
                if (ve !== void 0) {
                  switch (_e.component) {
                    case "select": {
                      ue = je(ku, {
                        style: {
                          width: "120px"
                        },
                        get value() {
                          return U(ve, e.locale);
                        },
                        get dataSource() {
                          return _e.dataSource;
                        },
                        onSelected: (le) => {
                          const re = le.key;
                          y(_e, re, oe);
                        }
                      });
                      break;
                    }
                    case "input": {
                      ue = [je(An, {
                        get when() {
                          return mn.isArray(ve);
                        },
                        get children() {
                          const le = Md();
                          return le.style.setProperty("width", "120px"), le.style.setProperty("display", "flex"), le.style.setProperty("flex-direction", "row"), le.style.setProperty("align-items", "center"), le.style.setProperty("vertical-align", "middle"), qe(le, je(Xs, {
                            style: {
                              width: "50px",
                              "margin-right": "10px"
                            },
                            get value() {
                              return ve[0] ?? "4";
                            },
                            onChange: (re) => {
                              let Ce = n(_e.key, oe);
                              Ce[0] = Number(re), y(_e, Ce, oe);
                            }
                          }), null), qe(le, je(Xs, {
                            style: {
                              width: "50px",
                              "margin-left": "10px"
                            },
                            get value() {
                              return ve[1] ?? "4";
                            },
                            onChange: (re) => {
                              let Ce = n(_e.key, oe);
                              Ce[1] = Number(re), y(_e, Ce, oe);
                            }
                          }), null), le;
                        }
                      }), je(An, {
                        get when() {
                          return !mn.isArray(ve);
                        },
                        get children() {
                          return je(Xs, {
                            style: {
                              width: "120px"
                            },
                            value: ve ?? "4",
                            onChange: (le) => {
                              let re = Number(le);
                              y(_e, re, oe);
                            }
                          });
                        }
                      })];
                      break;
                    }
                    case "color": {
                      ue = je(Ec, {
                        style: {
                          width: "120px"
                        },
                        value: ve,
                        onChange: (le) => {
                          y(_e, le, oe);
                        }
                      });
                      break;
                    }
                  }
                  if (ue)
                    return (() => {
                      const le = DE(), re = le.firstChild;
                      return qe(re, () => _e.text), qe(le, ue, null), le;
                    })();
                }
              }
            })];
        }
      })), H;
    }
  });
}, $E = /* @__PURE__ */ Je('<div class="klinecharts-pro-position-setting-modal-content"><div class="content">'), RE = /* @__PURE__ */ Je("<div>"), Dd = /* @__PURE__ */ Je('<div class="component"><span>'), OE = (e) => {
  const {
    font_size: f,
    font_family: n,
    font_weight: y,
    fill_stroke: b,
    solid_dashed: S,
    size: T
  } = Co(e.locale), M = [{
    key: "style",
    text: U("Style", e.locale),
    component: "select",
    dataSource: b
  }, {
    key: "size",
    text: U("Font size", e.locale),
    component: "select",
    dataSource: f
  }, {
    key: "family",
    text: U("Font family", e.locale),
    component: "select",
    dataSource: n
  }, {
    key: "weight",
    text: U("Font weight", e.locale),
    component: "select",
    dataSource: y
  }, {
    key: "borderStyle",
    text: U("Border Style", e.locale),
    component: "select",
    dataSource: S
  }, {
    key: "borderSize",
    text: U("Border Size", e.locale),
    component: "select",
    dataSource: T
  }, {
    key: "color",
    text: U("Color", e.locale),
    component: "color"
  }, {
    key: "backgroundColor",
    text: U("Background color", e.locale),
    component: "color"
  }, {
    key: "borderColor",
    text: U("Border color", e.locale),
    component: "color"
  }], z = [{
    key: "style",
    text: U("Style", e.locale),
    component: "select",
    dataSource: S
  }, {
    key: "size",
    text: U("Size", e.locale),
    component: "select",
    dataSource: T
  }, {
    key: "color",
    text: U("Color", e.locale),
    component: "color"
  }, {
    key: "dashedValue",
    text: U("Dashed Value", e.locale),
    component: "input"
  }], [H, ee] = Ae(M), [oe, _e] = Ae(z), ue = (le, re) => {
    var ke;
    switch ((ke = On()) == null ? void 0 : ke.overlayType) {
      case "buy":
        return Gi()[re][le];
      case "buylimit":
        return ji()[re][le];
      case "buystop":
        return qi()[re][le];
      case "sell":
        return oi()[re][le];
      case "selllimit":
        return _o()[re][le];
      case "sellstop":
        return xo()[re][le];
      case "sl":
        return gn()[re][le];
      case "tp":
        return an()[re][le];
    }
  }, ve = (le, re, Ce) => {
    var Qe, et;
    const ke = localStorage.getItem(`chartstatedata_${(Qe = Ln()) == null ? void 0 : Qe.id}`);
    let Ee;
    ke ? (Ee = JSON.parse(ke), Ee.orderStyles = Ee.orderStyles ?? {}) : Ee = {
      orderStyles: {}
    };
    const De = (xt) => {
      var We, $e, gt;
      const at = mn.cloneDeep(xt);
      return mn.set(at, `${Ce}.${le.key}`, re), mn.set(Ee.orderStyles, `${(We = On()) == null ? void 0 : We.overlayType}Style.${Ce}.${le.key}`, re), localStorage.setItem(`chartstatedata_${($e = Ln()) == null ? void 0 : $e.id}`, JSON.stringify(Ee)), Vs(!0), (gt = At()) == null || gt.setStyles(Ee.styleObj ?? {}), at;
    };
    switch ((et = On()) == null ? void 0 : et.overlayType) {
      case "buy":
        Hf((xt) => De(xt));
        break;
      case "buylimit":
        Zf((xt) => De(xt));
        break;
      case "buystop":
        Uf((xt) => De(xt));
        break;
      case "sell":
        Kf((xt) => De(xt));
        break;
      case "selllimit":
        Gf((xt) => De(xt));
        break;
      case "sellstop":
        jf((xt) => De(xt));
        break;
      case "sl":
        Qf((xt) => De(xt));
        break;
      case "tp":
        qf((xt) => De(xt));
        break;
    }
  };
  return je(us, {
    get title() {
      return `Style ${P1()}`;
    },
    onClose: () => ip(!1),
    get children() {
      const le = $E(), re = le.firstChild;
      return qe(re, je(wu, {
        get each() {
          return oe();
        },
        children: (Ce) => {
          let ke;
          const Ee = ue(Ce.key, "lineStyle");
          switch (Ce.component) {
            case "select": {
              ke = je(ku, {
                style: {
                  width: "120px"
                },
                get value() {
                  return U(Ee, e.locale);
                },
                get dataSource() {
                  return Ce.dataSource;
                },
                onSelected: (De) => {
                  const Qe = De.key;
                  ve(Ce, Qe, "lineStyle");
                }
              });
              break;
            }
            case "input": {
              ke = (() => {
                const De = RE();
                return De.style.setProperty("width", "120px"), De.style.setProperty("display", "flex"), De.style.setProperty("flex-direction", "row"), De.style.setProperty("align-items", "center"), De.style.setProperty("vertical-align", "middle"), qe(De, je(Xs, {
                  style: {
                    width: "50px",
                    "margin-right": "10px"
                  },
                  get value() {
                    return Ee[0] ?? "4";
                  },
                  onChange: (Qe) => {
                    let et = ue(Ce.key, "lineStyle");
                    et[0] = Number(Qe), ve(Ce, et, "lineStyle");
                  }
                }), null), qe(De, je(Xs, {
                  style: {
                    width: "50px",
                    "margin-left": "10px"
                  },
                  get value() {
                    return Ee[1] ?? "4";
                  },
                  onChange: (Qe) => {
                    let et = ue(Ce.key, "lineStyle");
                    et[1] = Number(Qe), ve(Ce, et, "lineStyle");
                  }
                }), null), De;
              })();
              break;
            }
            case "color": {
              ke = je(Ec, {
                style: {
                  width: "120px"
                },
                value: Ee,
                onChange: (De) => {
                  ve(Ce, De, "lineStyle");
                }
              });
              break;
            }
          }
          return (() => {
            const De = Dd(), Qe = De.firstChild;
            return qe(Qe, () => Ce.text), qe(De, ke, null), De;
          })();
        }
      }), null), qe(re, je(wu, {
        get each() {
          return H();
        },
        children: (Ce) => {
          let ke;
          const Ee = ue(Ce.key, "labelStyle");
          switch (Ce.component) {
            case "select": {
              ke = je(ku, {
                style: {
                  width: "120px"
                },
                get value() {
                  return U(Ee, e.locale);
                },
                get dataSource() {
                  return Ce.dataSource;
                },
                onSelected: (De) => {
                  const Qe = De.key;
                  ve(Ce, Qe, "labelStyle");
                }
              });
              break;
            }
            case "switch": {
              const De = !!Ee;
              ke = je(Xf, {
                open: De,
                onChange: () => {
                  ve(Ce, !De, "labelStyle");
                }
              });
              break;
            }
            case "color": {
              ke = je(Ec, {
                style: {
                  width: "120px"
                },
                value: Ee,
                onChange: (De) => {
                  ve(Ce, De, "labelStyle");
                }
              });
              break;
            }
          }
          return (() => {
            const De = Dd(), Qe = De.firstChild;
            return qe(Qe, () => Ce.text), qe(De, ke, null), De;
          })();
        }
      }), null), le;
    }
  });
}, BE = /* @__PURE__ */ Je('<i class="icon-close klinecharts-pro-load-icon">'), NE = /* @__PURE__ */ Je('<div class="klinecharts-pro-content"><div class="klinecharts-pro-widget">'), {
  createIndicator: Fd,
  modifyIndicator: zE,
  popIndicator: VE,
  pushOverlay: WE,
  pushMainIndicator: YE,
  pushSubIndicator: XE,
  redrawOrders: HE,
  redraOverlaysIndiAndFigs: ZE
} = Zc(), [At, sp] = Ae(null), [Kr, Z0] = Ae(), [Ln, lp] = Ae(null), [Ac, UE] = Ae(null), [Ws, l1] = Ae(!1), [$d, KE] = Ae(!1), [Al, Mc] = Ae(""), [up, GE] = Ae(""), [fc, Rd] = Ae(!1), [mu, Dc] = Ae(!1), [_u, Fc] = Ae(!1), [xu, $c] = Ae(!1), [Ml, u1] = Ae(!1), [jE, c1] = Ae(!1), qE = (e) => {
  let f, n = null, y, b = !1, S;
  const [T, M] = Ae(e.styles), [z, H] = Ae(e.locale), [ee, oe] = Ae(e.period), [_e, ue] = Ae(!1), [ve, le] = Ae({
    key: e.timezone,
    text: Ld(e.timezone, e.locale)
  }), [re, Ce] = Ae(), [ke, Ee] = Ae(!1), [De, Qe] = Ae(!1), [et, xt] = Ae({
    visible: !1,
    indicatorName: "",
    paneId: "",
    calcParams: []
  });
  Z0(e.symbol), yd(e.theme), lp(e.chartSession), UE(e.chartSessionController), kc([...e.mainIndicators]), GE(e.rootElementId), Rd(e.drawingBarVisible), Dc(e.orderPanelVisible), oC(e.datafeed), e.ref({
    setTheme: yd,
    getTheme: () => a1(),
    setStyles: M,
    getStyles: () => n.getStyles(),
    setLocale: H,
    getLocale: () => z(),
    setTimezone: (We) => {
      le({
        key: We,
        text: Ld(e.timezone, z())
      });
    },
    getTimezone: () => ve().key,
    setSymbol: Z0,
    getSymbol: () => Kr(),
    setPeriod: oe,
    getPeriod: () => ee()
  });
  const at = (We, $e, gt) => {
    let Ue = $e, dt = Ue;
    switch (We.timespan) {
      case "minute": {
        Ue = Ue - Ue % (60 * 1e3), dt = Ue - gt * We.multiplier * 60 * 1e3;
        break;
      }
      case "hour": {
        Ue = Ue - Ue % (60 * 60 * 1e3), dt = Ue - gt * We.multiplier * 60 * 60 * 1e3;
        break;
      }
      case "day": {
        Ue = Ue - Ue % (60 * 60 * 1e3), dt = Ue - gt * We.multiplier * 24 * 60 * 60 * 1e3;
        break;
      }
      case "week": {
        const $t = new Date(Ue).getDay(), Le = $t === 0 ? 6 : $t - 1;
        Ue = Ue - Le * 60 * 60 * 24;
        const nt = new Date(Ue);
        Ue = (/* @__PURE__ */ new Date(`${nt.getFullYear()}-${nt.getMonth() + 1}-${nt.getDate()}`)).getTime(), dt = gt * We.multiplier * 7 * 24 * 60 * 60 * 1e3;
        break;
      }
      case "month": {
        const ft = new Date(Ue), $t = ft.getFullYear(), Le = ft.getMonth() + 1;
        Ue = (/* @__PURE__ */ new Date(`${$t}-${Le}-01`)).getTime(), dt = gt * We.multiplier * 30 * 24 * 60 * 60 * 1e3;
        const nt = new Date(dt);
        dt = (/* @__PURE__ */ new Date(`${nt.getFullYear()}-${nt.getMonth() + 1}-01`)).getTime();
        break;
      }
      case "year": {
        const $t = new Date(Ue).getFullYear();
        Ue = (/* @__PURE__ */ new Date(`${$t}-01-01`)).getTime(), dt = gt * We.multiplier * 365 * 24 * 60 * 60 * 1e3;
        const Le = new Date(dt);
        dt = (/* @__PURE__ */ new Date(`${Le.getFullYear()}-01-01`)).getTime();
        break;
      }
    }
    return [dt, Ue];
  };
  return h1(() => {
    if (document.addEventListener("contextmenu", function($e) {
      $e.preventDefault();
    }), document.addEventListener("keydown", dc().handleKeyDown), document.addEventListener("keyup", dc().handleKeyUp), QE(e.orderController), window.addEventListener("resize", yu), n = Ie.init(f, {
      customApi: {
        formatDate: ($e, gt, Ue, dt) => {
          switch (ee().timespan) {
            case "minute":
              return dt === Ie.FormatDateType.XAxis ? Ie.utils.formatDate($e, gt, "HH:mm") : Ie.utils.formatDate($e, gt, "YYYY-MM-DD HH:mm");
            case "hour":
              return dt === Ie.FormatDateType.XAxis ? Ie.utils.formatDate($e, gt, "MM-DD HH:mm") : Ie.utils.formatDate($e, gt, "YYYY-MM-DD HH:mm");
            case "day":
            case "week":
              return Ie.utils.formatDate($e, gt, "YYYY-MM-DD");
            case "month":
              return dt === Ie.FormatDateType.XAxis ? Ie.utils.formatDate($e, gt, "YYYY-MM") : Ie.utils.formatDate($e, gt, "YYYY-MM-DD");
            case "year":
              return dt === Ie.FormatDateType.XAxis ? Ie.utils.formatDate($e, gt, "YYYY") : Ie.utils.formatDate($e, gt, "YYYY-MM-DD");
          }
          return Ie.utils.formatDate($e, gt, "YYYY-MM-DD HH:mm");
        }
      }
    }), n) {
      sp(n), $k(f);
      const $e = n.getDom("candle_pane", Ie.DomPosition.Main);
      if ($e) {
        let Ue = document.createElement("div");
        if (Ue.className = "klinecharts-pro-watermark", Ie.utils.isString(e.watermark)) {
          const dt = e.watermark.replace(/(^\s*)|(\s*$)/g, "");
          Ue.innerHTML = dt;
        } else
          Ue.appendChild(e.watermark);
        $e.appendChild(Ue);
      }
      const gt = n.getDom("candle_pane", Ie.DomPosition.YAxis);
      y = document.createElement("span"), y.className = "klinecharts-pro-price-unit", gt == null || gt.appendChild(y);
    }
    Cu().forEach(($e) => {
      Fd(n, $e, !0, {
        id: "candle_pane"
      });
    });
    const We = {};
    e.subIndicators.forEach(($e) => {
      const gt = Fd(n, $e, !0);
      gt && (We[$e] = gt);
    }), Ic(We), n == null || n.loadMore(($e) => {
      b = !0, (async () => {
        const Ue = ee(), [dt] = at(Ue, $e, 1), [ft] = at(Ue, dt, 500), $t = await e.datafeed.getHistoryKLineData(Kr(), Ue, ft, dt);
        n == null || n.applyMoreData($t, $t.length > 0), b = !1;
      })();
    }), n == null || n.subscribeAction(Ie.ActionType.OnTooltipIconClick, ($e) => {
      if ($e.indicatorName)
        switch ($e.iconId) {
          case "visible": {
            n == null || n.overrideIndicator({
              name: $e.indicatorName,
              visible: !0
            }, $e.paneId);
            break;
          }
          case "invisible": {
            n == null || n.overrideIndicator({
              name: $e.indicatorName,
              visible: !1
            }, $e.paneId);
            break;
          }
          case "setting": {
            const gt = n == null ? void 0 : n.getIndicatorByPaneId($e.paneId, $e.indicatorName);
            xt({
              visible: !0,
              indicatorName: $e.indicatorName,
              paneId: $e.paneId,
              calcParams: gt.calcParams
            });
            break;
          }
          case "close": {
            if ($e.paneId === "candle_pane") {
              const gt = [...Cu()];
              n == null || n.removeIndicator("candle_pane", $e.indicatorName), gt.splice(gt.indexOf($e.indicatorName), 1), kc(gt);
            } else {
              const gt = {
                ...Pc()
              };
              n == null || n.removeIndicator($e.paneId, $e.indicatorName), delete gt[$e.indicatorName], Ic(gt);
            }
            VE($e.indicatorName, $e.paneId);
          }
        }
    });
  }), d1(() => {
    document.removeEventListener("contextmenu", function(We) {
      We.preventDefault();
    }), document.removeEventListener("keydown", dc().handleKeyDown), document.removeEventListener("keyup", dc().handleKeyUp), window.removeEventListener("resize", yu), clearInterval(S), Ie.dispose(f);
  }), Ga(() => {
    const We = Kr();
    We != null && We.priceCurrency ? (y.innerHTML = We == null ? void 0 : We.priceCurrency.toLocaleUpperCase(), y.style.display = "flex") : y.style.display = "none", n == null || n.setPriceVolumePrecision((We == null ? void 0 : We.pricePrecision) ?? 2, (We == null ? void 0 : We.volumePrecision) ?? 0);
  }), Ga((We) => {
    if (!b) {
      We && e.datafeed.unsubscribe(We.symbol, We.period);
      const $e = Kr(), gt = ee();
      return b = !0, Qe(!0), (async () => {
        const dt = e.dataTimestamp ?? (/* @__PURE__ */ new Date()).getTime(), [ft, $t] = at(gt, dt, 500), Le = await e.datafeed.getHistoryKLineData($e, gt, ft, $t);
        n == null || n.applyNewData(Le, Le.length > 0), Rh(Le[Le.length - 1]), e.datafeed.subscribe($e, gt, (nt, _n) => {
          Rh(nt), _n && k5(_n), n == null || n.updateData(nt);
          const Et = pn().filter((ct) => (ct.action == "buy" || ct.action == "sell") && !ct.exitType && !ct.exitPoint);
          if (Et && Kr() !== void 0) {
            let ct = 0, Tt = 0;
            for (; Tt < Et.length; )
              Et[Tt].pl !== null && Et[Tt].pips !== null && (ct += Et[Tt].pl), Tt++;
            JE(ct);
          }
        }), b = !1, Qe(!1);
      })(), {
        symbol: $e,
        period: gt
      };
    }
    return We;
  }), Ga(() => {
    const We = a1();
    n == null || n.setStyles(We);
    const $e = We === "dark" ? "#929AA5" : "#76808F";
    n == null || n.setStyles({
      indicator: {
        tooltip: {
          icons: [{
            id: "visible",
            position: Ie.TooltipIconPosition.Middle,
            marginLeft: 8,
            marginTop: 7,
            marginRight: 0,
            marginBottom: 0,
            paddingLeft: 0,
            paddingTop: 0,
            paddingRight: 0,
            paddingBottom: 0,
            icon: "",
            fontFamily: "icomoon",
            size: 14,
            color: $e,
            activeColor: $e,
            backgroundColor: "transparent",
            activeBackgroundColor: "rgba(22, 119, 255, 0.15)"
          }, {
            id: "invisible",
            position: Ie.TooltipIconPosition.Middle,
            marginLeft: 8,
            marginTop: 7,
            marginRight: 0,
            marginBottom: 0,
            paddingLeft: 0,
            paddingTop: 0,
            paddingRight: 0,
            paddingBottom: 0,
            icon: "",
            fontFamily: "icomoon",
            size: 14,
            color: $e,
            activeColor: $e,
            backgroundColor: "transparent",
            activeBackgroundColor: "rgba(22, 119, 255, 0.15)"
          }, {
            id: "setting",
            position: Ie.TooltipIconPosition.Middle,
            marginLeft: 6,
            marginTop: 7,
            marginBottom: 0,
            marginRight: 0,
            paddingLeft: 0,
            paddingTop: 0,
            paddingRight: 0,
            paddingBottom: 0,
            icon: "",
            fontFamily: "icomoon",
            size: 14,
            color: $e,
            activeColor: $e,
            backgroundColor: "transparent",
            activeBackgroundColor: "rgba(22, 119, 255, 0.15)"
          }, {
            id: "close",
            position: Ie.TooltipIconPosition.Middle,
            marginLeft: 6,
            marginTop: 7,
            marginRight: 0,
            marginBottom: 0,
            paddingLeft: 0,
            paddingTop: 0,
            paddingRight: 0,
            paddingBottom: 0,
            icon: "",
            fontFamily: "icomoon",
            size: 14,
            color: $e,
            activeColor: $e,
            backgroundColor: "transparent",
            activeBackgroundColor: "rgba(22, 119, 255, 0.15)"
          }]
        }
      }
    });
  }), Ga(() => {
    n == null || n.setLocale(z());
  }), Ga(() => {
    n == null || n.setTimezone(ve().key);
  }), Ga(() => {
    T() && (n == null || n.setStyles(T()), Ce(eb(n.getStyles()))), ZE(), HE();
  }), Ga(() => {
    S = setInterval(() => {
      const We = async () => {
        var ft, $t;
        const Ue = pn().filter((Le) => (Le.action == "buy" || Le.action == "sell") && !Le.exitType && !Le.exitPoint);
        let dt = 0;
        if (Ue && Kr() !== void 0)
          for (; dt < Ue.length; )
            await (($t = os()) == null ? void 0 : $t.modifyOrder({
              id: Ue[dt].orderId,
              //in a real application this should be calculated on backend
              exitpoint: (ft = vt()) == null ? void 0 : ft.close,
              exittype: "cancel"
            })), await new Promise((Le) => setTimeout(Le, 400)), dt++;
      }, $e = async () => {
        var $t;
        const Ue = pn().filter((Le) => (Le.action == "buy" || Le.action == "sell") && !Le.exitType && !Le.exitPoint);
        let dt = 0, ft = 0;
        if (Ue && Kr() !== void 0)
          for (; dt < Ue.length; )
            Ue[dt].pl !== null && Ue[dt].pips !== null && (await (($t = os()) == null ? void 0 : $t.modifyOrder({
              id: Ue[dt].orderId,
              //in a real application this should be calculated on backend
              pips: Ue[dt].pips,
              //in a real application this should be calculated on backend
              pl: Ue[dt].pips * Kr().dollarPerPip
            })), await new Promise((Le) => setTimeout(Le, 400))), ft += +(Ue[dt].pips * Kr().dollarPerPip), dt++;
        return ft;
      };
      (async () => {
        var $t, Le;
        let Ue = await $e(), dt = Ln();
        const ft = localStorage.getItem(`chartstatedata_${($t = Ln()) == null ? void 0 : $t.id}`);
        dt && (Ue += + +dt.current_bal, Ue <= 0 && (Ue = 0, await We()), (dt.chart_timestamp !== vc() || ft != null) && await ((Le = Ac()) == null ? void 0 : Le.updateSession({
          id: dt.id,
          current_bal: dt.current_bal,
          equity: Ue,
          chart_timestamp: vc(),
          chart: ft != null && tp() ? btoa(ft) : void 0
        })) && (dt.equity = Ue, dt.chart_timestamp = vc(), Vs(!1)));
      })();
    }, 2 * 60 * 1e3), Ok(S);
  }), [BE(), je(An, {
    get when() {
      return Yk();
    },
    get children() {
      return je(iP, {});
    }
  }), je(An, {
    get when() {
      return jE();
    },
    get children() {
      return je(fP, {});
    }
  }), je(An, {
    get when() {
      return Pl();
    },
    get children() {
      return je(OE, {
        get locale() {
          return e.locale;
        }
      });
    }
  }), je(An, {
    get when() {
      return Il();
    },
    get children() {
      return je(FE, {
        get locale() {
          return e.locale;
        }
      });
    }
  }), je(An, {
    get when() {
      return Ml();
    },
    get children() {
      return je(Dk, {
        get locale() {
          return e.locale;
        },
        get periods() {
          return e.periods;
        },
        onTimeframeSelected: oe
      });
    }
  }), je(An, {
    get when() {
      return ke();
    },
    get children() {
      return je(SE, {
        get locale() {
          return e.locale;
        },
        get datafeed() {
          return e.datafeed;
        },
        onSymbolSelected: (We) => {
          Z0(We);
        },
        onClose: () => {
          Ee(!1);
        }
      });
    }
  }), je(An, {
    get when() {
      return xu();
    },
    get children() {
      return je(eE, {
        get locale() {
          return e.locale;
        },
        get mainIndicators() {
          return Cu();
        },
        get subIndicators() {
          return Pc();
        },
        onClose: () => {
          Sr(!1), $c(!1);
        },
        onMainIndicatorChange: (We) => {
          YE(We);
        },
        onSubIndicatorChange: (We) => {
          XE(We);
        }
      });
    }
  }), je(An, {
    get when() {
      return _e();
    },
    get children() {
      return je(nE, {
        get locale() {
          return e.locale;
        },
        get timezone() {
          return ve();
        },
        onClose: () => {
          Sr(!1), ue(!1);
        },
        onConfirm: le
      });
    }
  }), je(An, {
    get when() {
      return _u();
    },
    get children() {
      return je(fE, {
        get locale() {
          return e.locale;
        },
        get currentStyles() {
          return Ie.utils.clone(n.getStyles());
        },
        onClose: () => {
          Sr(!1), Fc(!1);
        },
        onChange: (We) => {
          n == null || n.setStyles(We);
        },
        onRestoreDefault: (We) => {
          const $e = {};
          We.forEach((gt) => {
            const Ue = gt.key;
            gu($e, Ue, Ie.utils.formatValue(re(), Ue));
          }), n == null || n.setStyles($e);
        }
      });
    }
  }), je(An, {
    get when() {
      return Al().length > 0;
    },
    get children() {
      return je(vE, {
        get locale() {
          return e.locale;
        },
        get url() {
          return Al();
        },
        onClose: () => {
          Sr(!1), Mc("");
        }
      });
    }
  }), je(An, {
    get when() {
      return et().visible;
    },
    get children() {
      return je(_E, {
        get locale() {
          return e.locale;
        },
        get params() {
          return et();
        },
        onClose: () => {
          Sr(!1), xt({
            visible: !1,
            indicatorName: "",
            paneId: "",
            calcParams: []
          });
        },
        onConfirm: (We) => {
          const $e = et();
          zE($e, We);
        }
      });
    }
  }), je(bP, {
    get locale() {
      return e.locale;
    },
    get symbol() {
      return Kr();
    },
    get spread() {
      return fc();
    },
    get order_spread() {
      return mu();
    },
    get period() {
      return ee();
    },
    get periods() {
      return e.periods;
    },
    onMenuClick: async () => {
      try {
        await j0(() => Rd(!fc())), yu();
      } catch {
      }
    },
    onOrderMenuClick: async () => {
      try {
        await j0(() => Dc(!mu())), yu();
      } catch {
      }
    },
    onSymbolClick: () => {
      Ee(!ke());
    },
    onPeriodChange: oe,
    onIndicatorClick: () => {
      $c((We) => !We);
    },
    onTimezoneClick: () => {
      ue((We) => !We);
    },
    onSettingClick: () => {
      Fc((We) => !We);
    },
    onScreenshotClick: () => {
      if (n) {
        const We = n.getConvertPictureUrl(!0, "jpeg", e.theme === "dark" ? "#151517" : "#ffffff");
        Sr(!1), Mc(We);
      }
    },
    get orderController() {
      return e.orderController;
    },
    get datafeed() {
      return e.datafeed;
    },
    get rootEl() {
      return e.rootElementId;
    }
  }), (() => {
    const We = NE(), $e = We.firstChild;
    qe(We, je(An, {
      get when() {
        return De();
      },
      get children() {
        return je(Yf, {});
      }
    }), $e), qe(We, je(An, {
      get when() {
        return fc();
      },
      get children() {
        return je(JI, {
          get locale() {
            return e.locale;
          },
          onDrawingItemClick: (Ue) => {
            WE(Ue);
          },
          onModeChange: (Ue) => {
            n == null || n.overrideOverlay({
              mode: Ue
            });
          },
          onLockChange: (Ue) => {
            n == null || n.overrideOverlay({
              lock: Ue
            });
          },
          onVisibleChange: (Ue) => {
            n == null || n.overrideOverlay({
              visible: Ue
            });
          },
          onRemoveClick: (Ue) => {
            n == null || n.removeOverlay({
              groupId: Ue
            });
          }
        });
      }
    }), $e);
    const gt = f;
    return typeof gt == "function" ? f1(gt, $e) : f = $e, Bn((Ue) => {
      const dt = mu(), ft = fc();
      return dt !== Ue._v$ && gi(We, "data-orders-pane-visible", Ue._v$ = dt), ft !== Ue._v$2 && gi($e, "data-drawing-bar-visible", Ue._v$2 = ft), Ue;
    }, {
      _v$: void 0,
      _v$2: void 0
    }), We;
  })(), je(An, {
    get when() {
      return mu();
    },
    get children() {
      return je(LE, {
        context: "this is the order panel context",
        get orderController() {
          return e.orderController;
        }
      });
    }
  })];
};
Ae(null);
const [os, QE] = Ae(null), [pn, Ai] = Ae([]), [cA, JE] = Ae(0), Te = () => ({
  onOrderPlaced: (ue) => {
    if (Pu(!1), Sr(!1), ue) {
      Dl(ue);
      let ve = pn();
      ve.find((le) => le.orderId === (ue == null ? void 0 : ue.orderId)) || (ve.push(ue), Ai(ve));
    }
  },
  calcTarget: (ue, ve, le, re = !1, Ce = "buy") => {
    let ke = 10 ** (le - 1), Ee;
    return Ce === "buy" ? Ee = re ? ((ue - ve) * ke).toFixed(2) : (ue - ve).toFixed(le) : Ee = re ? ((ve - ue) * ke).toFixed(2) : (ve - ue).toFixed(le), Ee;
  },
  calcStopOrTarget: (ue, ve, le, re = !1, Ce = "buy") => {
    let ke = 10 ** (le - 1), Ee;
    return Ce === "sell" ? Ee = re ? ((ue - ve) * ke).toFixed(2) : (ue - ve).toFixed(le) : Ee = re ? ((ve - ue) * ke).toFixed(2) : (ve - ue).toFixed(le), Ee;
  },
  calcPL: (ue, ve, le = !1, re = "buy") => {
    let Ce = 10 ** (ve - 1), ke;
    return vt() ? re === "buy" ? ke = le ? ((vt().close - ue) * Ce).toFixed(2) : (vt().close - ue).toFixed(ve) : ke = le ? ((ue - vt().close) * Ce).toFixed(2) : (ue - vt().close).toFixed(ve) : ke = "", ke;
  },
  triggerPending: (ue, ve) => {
    (async () => {
      var ke, Ee;
      let re = ue.id, Ce = pn().find((De) => De.orderId === parseInt(re.replace("orderline_", ""))) ?? null;
      if (Ce) {
        Ce.action = ve, (ke = At()) == null || ke.removeOverlay({
          id: re,
          groupId: ue.groupId,
          name: ue.name
        });
        const De = await ((Ee = os()) == null ? void 0 : Ee.modifyOrder({
          id: Ce.orderId,
          action: Ce.action,
          entrypoint: Ce.entryPoint
        }));
        if (De) {
          const Qe = pn().map((et) => et.orderId === De.orderId ? De : et);
          Ai(Qe), Dl(De);
        }
      }
    })();
  },
  updateOrder: (ue) => {
    (async () => {
      var le;
      await ((le = os()) == null ? void 0 : le.modifyOrder(ue));
    })();
  },
  closeOrder: (ue, ve) => {
    (async () => {
      var ke, Ee, De;
      let re = ue.id, Ce;
      if (console.log(`got to close order: ${re}, exittype: ${ve}`), Ce = pn().find((Qe) => Qe.orderId === parseInt(re.replace("orderline_", ""))) ?? null) {
        (ke = At()) == null || ke.removeOverlay({
          //remove the overlay first to prevent flooding this backend with api calls
          id: ue.id,
          groupId: ue.groupId,
          name: ue.name
        });
        const Qe = await ((De = os()) == null ? void 0 : De.modifyOrder({
          id: Ce.orderId,
          exitpoint: (Ee = vt()) == null ? void 0 : Ee.close,
          exittype: ve,
          pips: ve == "cancel" ? void 0 : Ce.pips,
          //in a real application this should be calculated on backend
          pl: ve == "cancel" ? void 0 : Ce.pl
          //in a real application this should be calculated on backend
        }));
        if (console.log(Qe), Qe) {
          const et = Ln();
          et.current_bal = +(et == null ? void 0 : et.current_bal) + +Qe.pl, lp(et);
          const xt = pn().map((at) => at.orderId === (Qe == null ? void 0 : Qe.orderId) ? Qe : at);
          Ai(xt);
        } else
          Dl(Ce);
      }
    })();
  },
  removeStopOrTP: (ue, ve) => {
    (async () => {
      var ke, Ee;
      let re = ue.id, Ce = pn().find((De) => De.orderId === parseInt(re.replace("orderline_", ""))) ?? null;
      if (Ce && (Ce = await ((ke = os()) == null ? void 0 : ke.unsetSlOrTP(Ce.orderId, ve)), Ce)) {
        (Ee = At()) == null || Ee.removeOverlay({
          id: re,
          groupId: ue.groupId,
          name: ue.name
        });
        const De = pn().map((Qe) => Qe.orderId === (Ce == null ? void 0 : Ce.orderId) ? Ce : Qe);
        Ai(De), Dl(Ce);
      }
    })();
  },
  updatePipsAndPL: (ue, ve) => {
    var Ce;
    let le = ue.id, re;
    if (re = pn().find((ke) => ke.orderId === parseInt(le.replace("orderline_", ""))) ?? null) {
      re.pips = parseFloat(ve), re.pl = re.pips * re.lotSize * ((Ce = Kr()) == null ? void 0 : Ce.dollarPerPip);
      const ke = pn().map((Ee) => Ee.orderId === (re == null ? void 0 : re.orderId) ? re : Ee);
      Ai(ke);
    }
  },
  updateStopLossAndReturnValue: (ue, ve) => {
    var Ce, ke;
    let le = ue.overlay.id, re;
    if (re = pn().find((Ee) => Ee.orderId === parseInt(le.replace("orderline_", ""))) ?? null) {
      re.stopLoss = parseFloat((ke = ve[0].value) == null ? void 0 : ke.toFixed((Ce = At()) == null ? void 0 : Ce.getPriceVolumePrecision().price));
      const Ee = pn().map((De) => De.orderId === (re == null ? void 0 : re.orderId) ? re : De);
      return Ai(Ee), re == null ? void 0 : re.stopLoss;
    }
  },
  updateEntryPointAndReturnValue: (ue, ve) => {
    var Ce, ke;
    let le = ue.overlay.id, re;
    if (re = pn().find((Ee) => Ee.orderId === parseInt(le.replace("orderline_", ""))) ?? null) {
      re.entryPoint = parseFloat((ke = ve[0].value) == null ? void 0 : ke.toFixed((Ce = At()) == null ? void 0 : Ce.getPriceVolumePrecision().price));
      const Ee = pn().map((De) => De.orderId === (re == null ? void 0 : re.orderId) ? re : De);
      return Ai(Ee), re == null ? void 0 : re.entryPoint;
    }
  },
  updateTakeProfitAndReturnValue: (ue, ve) => {
    var Ce, ke;
    let le = ue.overlay.id, re;
    if (re = pn().find((Ee) => Ee.orderId === parseInt(le.replace("orderline_", ""))) ?? null) {
      re.takeProfit = parseFloat((ke = ve[0].value) == null ? void 0 : ke.toFixed((Ce = At()) == null ? void 0 : Ce.getPriceVolumePrecision().price));
      const Ee = pn().map((De) => De.orderId === (re == null ? void 0 : re.orderId) ? re : De);
      return Ai(Ee), re == null ? void 0 : re.takeProfit;
    }
  },
  updatePositionOrder: (ue) => {
    let ve = ue.overlay.id, le;
    (le = pn().find((re) => re.orderId === parseInt(ve.replace("orderline_", ""))) ?? null) && Te().updateOrder({
      id: le.orderId,
      stoploss: le.stopLoss,
      entrypoint: le.entryPoint,
      takeprofit: le.takeProfit
    });
  }
}), Dl = (e) => {
  var S, T, M;
  if (!e)
    return;
  let f = (S = At()) == null ? void 0 : S.getOverlayById(`orderline_${e.orderId}`);
  f && ((T = At()) == null || T.removeOverlay({
    //remove the overlay first to prevent flooding this backend with api calls
    id: f.id,
    groupId: f.groupId,
    name: f.name
  }));
  let n = "", y = !1;
  e.entryPoint = (e == null ? void 0 : e.entryPoint) - 1e-5 + 1e-5, e.stopLoss = (e == null ? void 0 : e.stopLoss) - 1e-5 + 1e-5, e.takeProfit = (e == null ? void 0 : e.takeProfit) - 1e-5 + 1e-5;
  let b = [
    { timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e == null ? void 0 : e.entryPoint }
  ];
  switch (e == null ? void 0 : e.action) {
    case "buy":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? (n = "buyLine", y = !0) : e.stopLoss && !e.takeProfit ? (n = "buyLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "buyProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "buyProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
    case "buystop":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? n = "buystopLine" : e.stopLoss && !e.takeProfit ? (n = "buystopLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "buystopProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "buystopProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
    case "buylimit":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? n = "buyLimitLine" : e.stopLoss && !e.takeProfit ? (n = "buyLimitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "buyLimitProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "buyLimitProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
    case "sell":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? (n = "sellLine", y = !0) : e.stopLoss && !e.takeProfit ? (n = "sellLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "sellProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "sellProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
    case "sellstop":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? n = "sellstopLine" : e.stopLoss && !e.takeProfit ? (n = "sellstopLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "sellstopProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "sellstopProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
    case "selllimit":
      !(e != null && e.stopLoss) && !(e != null && e.takeProfit) ? n = "sellLimitLine" : e.stopLoss && !e.takeProfit ? (n = "sellLimitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss })) : !e.stopLoss && e.takeProfit ? (n = "sellLimitProfitLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit })) : e.stopLoss && e.takeProfit && (n = "sellLimitProfitLossLine", b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.takeProfit }), b.push({ timestamp: Date.parse(e == null ? void 0 : e.entryTime), value: e.stopLoss }));
      break;
  }
  (M = At()) == null || M.createOverlay({
    name: n,
    id: `orderline_${e == null ? void 0 : e.orderId}`,
    groupId: "orderLine",
    points: b,
    lock: y
  });
};
Ae(0);
const Od = {
  style: "fill",
  color: "white",
  borderColor: "white",
  paddingTop: 5,
  paddingBottom: 5,
  paddingRight: 5,
  paddingLeft: 5,
  borderRadius: 5,
  size: 12,
  weight: 15
}, eL = {
  name: "positionBox",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  styles: {
    polygon: {
      color: "rgba(22, 119, 255, 0.15)"
    }
  },
  createPointFigures: ({ coordinates: e, precision: f, overlay: n }) => {
    const y = n.points;
    let b;
    const S = [];
    let T = 10 * f.price;
    if (e.length > 1 && (e[0].y > e[1].y ? e[0].y = e[1].y : S.push({
      type: "polygon",
      attrs: {
        coordinates: [
          e[0],
          { x: e[1].x, y: e[0].y },
          e[1],
          { x: e[0].x, y: e[1].y }
        ]
      },
      styles: { style: "stroke_fill" }
    }), e.length > 2)) {
      e[2].y < e[1].y ? e[2].y = e[1].y : S.push({
        type: "polygon",
        attrs: {
          coordinates: [
            e[1],
            { x: e[0].x, y: e[1].y },
            { x: e[0].x, y: e[2].y },
            { x: e[1].x, y: e[2].y }
          ]
        },
        styles: { style: "stroke_fill", color: "#dcc4de7b" }
      });
      let M = Te().calcTarget(y[0].value, y[1].value, f.price), z = Te().calcStopOrTarget(y[1].value, y[2].value, f.price);
      const H = [
        `Target: ${M} (NN%) ${(Number(M) * T).toFixed(0)}, Amount:`,
        `Open P&L: ${Te().calcPL(y[1].value, f.price)} ${vt().close - y[1].value}, Qty: qty, 
 Risk/Reward ratio: ${(Number(M) / Number(z)).toFixed(1)}`,
        `Stop: ${z} (NN%) ${(Number(z) * T).toFixed(0)}, Amount:`
      ];
      b = [e[0], e[1]].map((ee, oe) => ({
        x: e[0].x,
        y: ee.y - 10,
        baseline: "bottom",
        text: `${H[oe]}`
      })), S.push({
        type: "rectText",
        // ignoreEvent: true,
        attrs: b,
        styles: {
          backgroundColor: "green",
          ...Od
        }
      }), S.push({
        type: "rectText",
        // ignoreEvent: true,
        attrs: {
          x: e[0].x,
          y: e[2].y + 35,
          baseline: "bottom",
          text: `${H[2]}`
        },
        styles: {
          backgroundColor: "red",
          ...Od
        }
      });
    }
    return S;
  }
  // onRightClick: (event): boolean => {
  //   alert(`object ${event.overlay.name} was clicked`)
  //   return true;
  // }
}, tL = {
  name: "buyLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    let b = Te().calcPL(e.points[0].value, y.price, !0);
    return Te().updatePipsAndPL(e, b), [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: Gi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `buy | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: Gi().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: Gi().labelStyle };
  },
  onRightClick: (e) => (Un().singlePopup(e, "buy"), !0)
}, [nL, Bd] = Ae(!1);
function rL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buy | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const iL = {
  name: "buyLossLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[1].value >= ((S = vt()) == null ? void 0 : S.close) || !nL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().closeOrder(e, "stoploss");
    const b = rL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: Gi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Bd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && e.figureIndex == 1) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Bd(!1), !1),
  onRightClick: (e) => (Un().lossPopup(e, "buy"), !0)
}, [aL, Nd] = Ae(!1);
function oL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), n.id, Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buy | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const sL = {
  name: "buyProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[1].value <= ((S = vt()) == null ? void 0 : S.close) || !aL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().closeOrder(e, "takeprofit");
    const b = oL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: Gi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Nd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Nd(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "buy"), !0)
}, [zd, Vd] = Ae(!1);
function lL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buy | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (M.lines.push({ coordinates: [{ x: z, y: e[2].y }, { x: H, y: e[2].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0), M.recttexts.push({ x: H, y: e[2].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const uL = {
  name: "buyProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T, M, z;
    e.points[1].value <= ((S = vt()) == null ? void 0 : S.close) || !zd() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high) ? Te().closeOrder(e, "takeprofit") : (e.points[2].value >= ((M = vt()) == null ? void 0 : M.close) || !zd() && e.points[1].value >= ((z = vt()) == null ? void 0 : z.low)) && Te().closeOrder(e, "stoploss");
    const b = lL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: Gi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(H) && e.points[2].value !== void 0 && Ie.utils.formatPrecision(e.points[2].value, b.price), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: Gi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b, S;
    Vd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const T = Te().updateTakeProfitAndReturnValue(e, n);
      T && (e.overlay.points[1].value = T);
    } else if (n[0].value < ((S = vt()) == null ? void 0 : S.close) && e.figureIndex == 2) {
      const T = Te().updateStopLossAndReturnValue(e, n);
      T && (e.overlay.points[2].value = T);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Vd(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "buy"), !0)
}, cL = {
  name: "sellLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var M;
    let b = Te().calcPL(e.points[0].value, y.price, !0, "sell"), S = e.id, T;
    if (T = pn().find((z) => z.orderId === parseInt(S.replace("orderline_", ""))) ?? null) {
      T.pips = parseFloat(b), T.pl = T.pips * ((M = Kr()) == null ? void 0 : M.dollarPerPip);
      const z = pn().map((H) => H.orderId === (T == null ? void 0 : T.orderId) ? T : H);
      Ai(z);
    }
    return [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: oi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `sell | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: oi().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: oi().labelStyle };
  },
  onRightClick: (e) => (Un().singlePopup(e, "sell"), !0)
}, [hL, hA] = Ae(!1);
function dL(e, f, n, y) {
  const b = [], S = [], T = [];
  let M, z = { lines: b, texts: S, recttexts: T };
  const H = 0, ee = f.width;
  return e.length > 0 && (z.lines.push({ coordinates: [{ x: H, y: e[0].y }, { x: ee, y: e[0].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("sell "), y: e[0].y, text: "sell", baseline: "bottom" }), M = Te().calcPL(n.points[0].value, y.price, !0, "sell"), Te().updatePipsAndPL(n, M), z.recttexts.push({ x: ee, y: e[0].y, text: `sell | ${M}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (z.lines.push({ coordinates: [{ x: H, y: e[1].y }, { x: ee, y: e[1].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("sl "), y: e[1].y, text: "sl", baseline: "bottom" }), M = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0, "sell"), z.recttexts.push({ x: ee, y: e[1].y, text: `sl | ${M}` ?? "", align: "right", baseline: "middle" })), z;
}
const Wd = {
  name: "sellLossLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[1].value <= ((S = vt()) == null ? void 0 : S.close) || !hL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().closeOrder(e, "stoploss");
    const b = dL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: oi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && e.figureIndex == 1) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), !1),
  onRightClick: (e) => (Un().lossPopup(e, "sell"), !0)
}, [fL, Yd] = Ae(!1);
function pL(e, f, n, y) {
  const b = [], S = [], T = [];
  let M, z = { lines: b, texts: S, recttexts: T };
  const H = 0, ee = f.width;
  return e.length > 0 && (z.lines.push({ coordinates: [{ x: H, y: e[0].y }, { x: ee, y: e[0].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("sell "), y: e[0].y, text: "sell", baseline: "bottom" }), M = Te().calcPL(n.points[0].value, y.price, !0, "sell"), Te().updatePipsAndPL(n, M), z.recttexts.push({ x: ee, y: e[0].y, text: `sell | ${M}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (z.lines.push({ coordinates: [{ x: H, y: e[1].y }, { x: ee, y: e[1].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("tp "), y: e[1].y, text: "tp", baseline: "bottom" }), M = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0, "sell"), z.recttexts.push({ x: ee, y: e[1].y, text: `tp | ${M}` ?? "", align: "right", baseline: "middle" })), z;
}
const vL = {
  name: "sellProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[1].value >= ((S = vt()) == null ? void 0 : S.close) || !fL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().closeOrder(e, "takeprofit");
    const b = pL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: oi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Yd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Yd(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "sell"), !0)
}, [Xd, Hd] = Ae(!1);
function gL(e, f, n, y) {
  const b = [], S = [], T = [];
  let M, z = { lines: b, texts: S, recttexts: T };
  const H = 0, ee = f.width;
  return e.length > 0 && (z.lines.push({ coordinates: [{ x: H, y: e[0].y }, { x: ee, y: e[0].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("sell "), y: e[0].y, text: "sell", baseline: "bottom" }), M = Te().calcPL(n.points[0].value, y.price, !0, "sell"), Te().updatePipsAndPL(n, M), z.recttexts.push({ x: ee, y: e[0].y, text: `sell | ${M}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (z.lines.push({ coordinates: [{ x: H, y: e[1].y }, { x: ee, y: e[1].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("tp "), y: e[1].y, text: "tp", baseline: "bottom" }), M = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0, "sell"), z.recttexts.push({ x: ee, y: e[1].y, text: `tp | ${M}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (z.lines.push({ coordinates: [{ x: H, y: e[2].y }, { x: ee, y: e[2].y }] }), z.texts.push({ x: ee - Ie.utils.calcTextWidth("sl "), y: e[2].y, text: "sl", baseline: "bottom" }), M = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0, "sell"), z.recttexts.push({ x: ee, y: e[2].y, text: `sl | ${M}` ?? "", align: "right", baseline: "middle" })), z;
}
const yL = {
  name: "sellProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T, M, z;
    e.points[1].value >= ((S = vt()) == null ? void 0 : S.close) || !Xd() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.high) ? Te().closeOrder(e, "takeprofit") : (e.points[2].value <= ((M = vt()) == null ? void 0 : M.close) || !Xd() && e.points[1].value <= ((z = vt()) == null ? void 0 : z.low)) && Te().closeOrder(e, "stoploss");
    const b = gL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: oi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(H) && e.points[2].value !== void 0 && Ie.utils.formatPrecision(e.points[2].value, b.price), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: oi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b, S;
    Hd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const T = Te().updateTakeProfitAndReturnValue(e, n);
      T && (e.overlay.points[1].value = T);
    } else if (n[0].value > ((S = vt()) == null ? void 0 : S.close) && e.figureIndex == 2) {
      const T = Te().updateStopLossAndReturnValue(e, n);
      T && (e.overlay.points[2].value = T);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Hd(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "sell"), !0)
}, [mL, Zd] = Ae(!1), _L = {
  name: "buystopLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var M, z, H;
    (e.points[0].value <= ((M = vt()) == null ? void 0 : M.close) || !mL() && e.points[1].value <= ((z = vt()) == null ? void 0 : z.high)) && Te().triggerPending(e, "buy");
    let b = Te().calcPL(e.points[0].value, y.price, !0), S = e.id, T;
    if (T = pn().find((ee) => ee.orderId === parseInt(S.replace("orderline_", ""))) ?? null) {
      T.pips = parseFloat(b), T.pl = T.pips * ((H = Kr()) == null ? void 0 : H.dollarPerPip);
      const ee = pn().map((oe) => oe.orderId === (T == null ? void 0 : T.orderId) ? T : oe);
      Ai(ee);
    }
    return [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: qi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `buystop | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: qi().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: qi().labelStyle };
  },
  onPressedMoving: (e) => {
    var y, b;
    Zd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close)) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Zd(!1), !1),
  onRightClick: (e) => (Un().singlePopup(e, "buy"), !0)
}, [xL, Ud] = Ae(!1);
function bL(e, f, n, y) {
  var ee;
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  if (e.length > 0) {
    M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0);
    let oe = n.id, _e;
    if (_e = pn().find((ue) => ue.orderId === parseInt(oe.replace("orderline_", ""))) ?? null) {
      _e.pips = parseFloat(T), _e.pl = _e.pips * ((ee = Kr()) == null ? void 0 : ee.dollarPerPip);
      const ue = pn().map((ve) => ve.orderId === (_e == null ? void 0 : _e.orderId) ? _e : ve);
      Ai(ue);
    }
    M.recttexts.push({ x: H, y: e[0].y, text: `buystop | ${T}` ?? "", align: "right", baseline: "middle" });
  }
  return e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const CL = {
  name: "buystopProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !xL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "buy");
    const b = bL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: qi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Ud(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Ud(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "buy"), !0)
}, [SL, Kd] = Ae(!1), wL = {
  name: "buyLimitLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    let b = Te().calcPL(e.points[0].value, y.price, !0);
    return (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !SL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "buy"), [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: ji().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `buyLimit | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: ji().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: ji().labelStyle };
  },
  onPressedMoving: (e) => {
    var y, b;
    Kd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close)) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Kd(!1), !1),
  onRightClick: (e) => (Un().singlePopup(e, "buy"), !0)
}, [TL, Gd] = Ae(!1);
function kL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buyLimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const PL = {
  name: "buyLimitLossLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !TL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "buy");
    const b = kL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: ji().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Gd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Gd(!1), !1),
  onRightClick: (e) => (Un().lossPopup(e, "buy"), !0)
}, [IL, jd] = Ae(!1);
function EL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buyLimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const LL = {
  name: "buyLimitProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !IL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "buy");
    const b = EL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: ji().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    jd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), jd(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "buy"), !0)
}, [AL, qd] = Ae(!1);
function ML(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `buylimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (M.lines.push({ coordinates: [{ x: z, y: e[2].y }, { x: H, y: e[2].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0), M.recttexts.push({ x: H, y: e[2].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const DL = {
  name: "buyLimitProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !AL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "buy");
    const b = ML(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: ji().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H, ee;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(ee) && e.points[2].value !== void 0 && (ee = Ie.utils.formatPrecision(e.points[2].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: ji().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: ee ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    qd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[1].value && n[0].value > e.overlay.points[2].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 2) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[2].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), qd(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "buy"), !0)
}, [FL, Qd] = Ae(!1);
function $L(e, f, n, y) {
  var ee;
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  if (e.length > 0) {
    M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0);
    let oe = n.id, _e;
    if (_e = pn().find((ue) => ue.orderId === parseInt(oe.replace("orderline_", ""))) ?? null) {
      _e.pips = parseFloat(T), _e.pl = _e.pips * ((ee = Kr()) == null ? void 0 : ee.dollarPerPip);
      const ue = pn().map((ve) => ve.orderId === (_e == null ? void 0 : _e.orderId) ? _e : ve);
      Ai(ue);
    }
    M.recttexts.push({ x: H, y: e[0].y, text: `buystop | ${T}` ?? "", align: "right", baseline: "middle" });
  }
  return e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const RL = {
  name: "buystopLossLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !FL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "buy");
    const b = $L(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: qi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Qd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (e.overlay.id, n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Qd(!1), !1),
  onRightClick: (e) => (Un().lossPopup(e, "buy"), !0)
}, [OL, Jd] = Ae(!1);
function BL(e, f, n, y) {
  var ee;
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  if (e.length > 0) {
    M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0);
    let oe = n.id, _e;
    if (_e = pn().find((ue) => ue.orderId === parseInt(oe.replace("orderline_", ""))) ?? null) {
      _e.pips = parseFloat(T), _e.pl = _e.pips * ((ee = Kr()) == null ? void 0 : ee.dollarPerPip);
      const ue = pn().map((ve) => ve.orderId === (_e == null ? void 0 : _e.orderId) ? _e : ve);
      Ai(ue);
    }
    M.recttexts.push({ x: H, y: e[0].y, text: `buystop | ${T}` ?? "", align: "right", baseline: "middle" });
  }
  return e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (M.lines.push({ coordinates: [{ x: z, y: e[2].y }, { x: H, y: e[2].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0), M.recttexts.push({ x: H, y: e[2].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const NL = {
  name: "buystopProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !OL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "buy");
    const b = BL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: qi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H, ee;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(ee) && e.points[2].value !== void 0 && (ee = Ie.utils.formatPrecision(e.points[2].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: qi().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: ee ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    Jd(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (e.overlay.id, n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[1].value && n[0].value > e.overlay.points[2].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 2) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[2].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), Jd(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "buy"), !0)
}, [zL, ef] = Ae(!1), VL = {
  name: "sellstopLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !zL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "sell");
    let b = Te().calcPL(e.points[0].value, y.price, !0, "sell");
    return [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: xo().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `sellstop | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: xo().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: xo().labelStyle };
  },
  onPressedMoving: (e) => {
    var y, b;
    ef(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close)) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), ef(!1), !1),
  onRightClick: (e) => (Un().singlePopup(e, "sell"), !0)
}, [WL, tf] = Ae(!1);
function YL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0, "sell"), M.recttexts.push({ x: H, y: e[0].y, text: `sellstop | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0, "sell"), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const XL = {
  name: "sellstopProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !WL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "sell");
    const b = YL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: xo().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: xo().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: xo().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    tf(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), tf(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "sell"), !0)
}, [HL, nf] = Ae(!1);
function ZL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0, "sell"), M.recttexts.push({ x: H, y: e[0].y, text: `sellstop | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0, "sell"), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (M.lines.push({ coordinates: [{ x: z, y: e[2].y }, { x: H, y: e[2].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0, "sell"), M.recttexts.push({ x: H, y: e[2].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const UL = {
  name: "sellstopProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value >= ((S = vt()) == null ? void 0 : S.close) || !HL() && e.points[1].value >= ((T = vt()) == null ? void 0 : T.low)) && Te().triggerPending(e, "sell");
    const b = ZL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: xo().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: xo().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H, ee;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(ee) && e.points[2].value !== void 0 && (ee = Ie.utils.formatPrecision(e.points[2].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: xo().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: ee ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    nf(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value < ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && n[0].value < e.overlay.points[2].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 2) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[2].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), nf(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "sell"), !0)
}, [KL, rf] = Ae(!1), GL = {
  name: "sellLimitLine",
  totalStep: 2,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    let b = Te().calcPL(e.points[0].value, y.price, !0);
    return (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !KL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "sell"), [
      {
        type: "line",
        attrs: { coordinates: [{ x: 0, y: f[0].y }, { x: n.width, y: f[0].y }] },
        styles: oi().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: { x: n.width, y: f[0].y, text: `sellLimit | ${b}` ?? "", align: "right", baseline: "middle" },
        styles: oi().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z;
    return Ie.utils.isValid(e.extendData) && (Ie.utils.isFunction(e.extendData) ? z = e.extendData(e) : z = e.extendData ?? ""), !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), { type: "text", attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" }, styles: oi().labelStyle };
  },
  onPressedMoving: (e) => {
    var y, b;
    rf(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close)) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (rf(!1), Te().updatePositionOrder(e), !1),
  onRightClick: (e) => (Un().singlePopup(e, "sell"), !0)
}, [jL, af] = Ae(!1);
function qL(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `sellLimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const QL = {
  name: "sellLimitLossLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !jL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "sell");
    const b = qL(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: _o().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    af(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value < e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), af(!1), !1),
  onRightClick: (e) => (Un().lossPopup(e, "sell"), !0)
}, [JL, of] = Ae(!1);
function eA(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `sellLimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const tA = {
  name: "sellLimitProfitLine",
  totalStep: 3,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !JL() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "sell");
    const b = eA(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: _o().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    of(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), of(!1), !1),
  onRightClick: (e) => (Un().profitPopup(e, "sell"), !0)
}, [nA, sf] = Ae(!1);
function rA(e, f, n, y) {
  const b = [], S = [];
  let T, M = { lines: b, recttexts: S };
  const z = 0, H = f.width;
  return e.length > 0 && (M.lines.push({ coordinates: [{ x: z, y: e[0].y }, { x: H, y: e[0].y }] }), T = Te().calcPL(n.points[0].value, y.price, !0), Te().updatePipsAndPL(n, T), M.recttexts.push({ x: H, y: e[0].y, text: `sellLimit | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 1 && (M.lines.push({ coordinates: [{ x: z, y: e[1].y }, { x: H, y: e[1].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[1].value, y.price, !0), M.recttexts.push({ x: H, y: e[1].y, text: `tp | ${T}` ?? "", align: "right", baseline: "middle" })), e.length > 2 && (M.lines.push({ coordinates: [{ x: z, y: e[2].y }, { x: H, y: e[2].y }] }), T = Te().calcStopOrTarget(n.points[0].value, n.points[2].value, y.price, !0), M.recttexts.push({ x: H, y: e[2].y, text: `sl | ${T}` ?? "", align: "right", baseline: "middle" })), M;
}
const iA = {
  name: "sellLimitProfitLossLine",
  totalStep: 4,
  needDefaultPointFigure: !0,
  needDefaultXAxisFigure: !0,
  needDefaultYAxisFigure: !0,
  createPointFigures: ({ overlay: e, coordinates: f, bounding: n, precision: y }) => {
    var S, T;
    (e.points[0].value <= ((S = vt()) == null ? void 0 : S.close) || !nA() && e.points[1].value <= ((T = vt()) == null ? void 0 : T.high)) && Te().triggerPending(e, "sell");
    const b = rA(f, n, e, y);
    return [
      {
        type: "line",
        attrs: b.lines[0],
        styles: _o().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[1],
        styles: an().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "line",
        attrs: b.lines[2],
        styles: gn().lineStyle,
        ignoreEvent: !0
      },
      {
        type: "text",
        attrs: b.recttexts[0],
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[1],
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: b.recttexts[2],
        styles: gn().labelStyle
      }
    ];
  },
  createYAxisFigures: ({ overlay: e, coordinates: f, bounding: n, yAxis: y, precision: b }) => {
    const S = (y == null ? void 0 : y.isFromZero()) ?? !1;
    let T, M;
    S ? (T = "left", M = 0) : (T = "right", M = n.width);
    let z, H, ee;
    return !Ie.utils.isValid(z) && e.points[0].value !== void 0 && (z = Ie.utils.formatPrecision(e.points[0].value, b.price)), !Ie.utils.isValid(H) && e.points[1].value !== void 0 && (H = Ie.utils.formatPrecision(e.points[1].value, b.price)), !Ie.utils.isValid(ee) && e.points[2].value !== void 0 && (ee = Ie.utils.formatPrecision(e.points[2].value, b.price)), [
      {
        type: "text",
        attrs: { x: M, y: f[0].y, text: z ?? "", align: T, baseline: "middle" },
        styles: _o().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[1].y, text: H ?? "", align: T, baseline: "middle" },
        styles: an().labelStyle
      },
      {
        type: "text",
        attrs: { x: M, y: f[2].y, text: ee ?? "", align: T, baseline: "middle" },
        styles: gn().labelStyle
      }
    ];
  },
  onPressedMoving: (e) => {
    var y, b;
    sf(!0);
    let f = [
      { x: e.x, y: e.y }
    ];
    const n = (y = At()) == null ? void 0 : y.convertFromPixel(f, {
      paneId: e.overlay.paneId
    });
    if (n[0].value > ((b = vt()) == null ? void 0 : b.close) && n[0].value > e.overlay.points[1].value && n[0].value < e.overlay.points[2].value && e.figureIndex == 0) {
      const S = Te().updateEntryPointAndReturnValue(e, n);
      S && (e.overlay.points[0].value = S);
    } else if (n[0].value < e.overlay.points[0].value && e.figureIndex == 1) {
      const S = Te().updateTakeProfitAndReturnValue(e, n);
      S && (e.overlay.points[1].value = S);
    } else if (n[0].value > e.overlay.points[0].value && e.figureIndex == 2) {
      const S = Te().updateStopLossAndReturnValue(e, n);
      S && (e.overlay.points[2].value = S);
    }
    return !0;
  },
  onPressedMoveEnd: (e) => (Te().updatePositionOrder(e), sf(!1), !1),
  onRightClick: (e) => (Un().profitLossPopup(e, "sell"), !0)
}, aA = [
  j9,
  q9,
  Q9,
  e5,
  J9,
  f5,
  t5,
  n5,
  r5,
  i5,
  a5,
  o5,
  s5,
  l5,
  u5,
  c5,
  h5,
  d5,
  eL,
  tL,
  iL,
  sL,
  uL,
  _L,
  CL,
  RL,
  NL,
  wL,
  PL,
  LL,
  DL,
  cL,
  Wd,
  vL,
  yL,
  VL,
  XL,
  Wd,
  UL,
  GL,
  QL,
  tA,
  iA
];
class dA {
  constructor(f) {
    yo(this, "_apiKey");
    yo(this, "_prevSymbolMarket");
    yo(this, "_ws");
    this._apiKey = f;
  }
  async searchSymbols(f) {
    return await ((await (await fetch(`https://api.polygon.io/v3/reference/tickers?apiKey=${this._apiKey}&active=true&search=${f ?? ""}`)).json()).results || []).map((b) => ({
      ticker: b.ticker,
      name: b.name,
      shortName: b.ticker,
      market: b.market,
      exchange: b.primary_exchange,
      priceCurrency: b.currency_name,
      type: b.type,
      logo: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAA66SURBVHic7Z17cFTVGcB/527AiKGgRA0ShGhKoQjFMb4qUMCMPIrWqdbHSEdlHDGgI9V2aq2d1hmKtVbRsSTGEcQRp4pStaZQlNYUwYLiSKU0SCMBDRCmoQSJGGF3T/84d2VZk+w9d899hf3NMBnl3ns+5vtyHt/5HoIehpQIaijDYjiSciRlwCCgBCgG+gNFQCGCAvUScaADaAfagFagBdiFoAlBI0m2UkWTEMgA/lmeIYIWIFdkLQNJMBbBJUjOA8agFOwF7cAmBO8hWUeMtWIWezwayxciZwByGb1pZTyCaUguA0YGLNIWBK8jWUExa8Q1HA5YHi0iYQByGTH2UYnkBmA6cHLQMnXBfqAOwXMMYLW4hkTQAmUj1AYgqzkLuAXBTUgGBi2PFoI9SJYAT4nZbA9anK4IpQHIhUzE4i4k04OWxQiCOpI8IubwZtCiZBIqA5A1TEdyH3Bh0LJ4xAYE80QVdUELkiIUBiCf4FIk85FcELQsviB4B8G94jb+GrwoASKfZBgJHkUyNUg5AkOwkhhzxa1sC06EAJALKUJwL3A30DsIGULEYeBhJPPFHNr9Htx3A5A1TECyGCjze+yQ04Rgpqii3s9BfTMAWUsfksxD8iO/xowkggVY3Cdmccif4XxAPskw4rwCjPBjvB5AAwVc6cfewPJ6AFnNzcTZSF75OowgzkZZzc1eD+SZAUiJkNX8FlgM9PVqnB5MX2CxrOa3Uno3U3vyYVlLPxIshR7iyQueOmLMELM4YPrDxg1A1jKQJKuQjDL97eMawWYsJpu+fjZqAPL3DMFiNVBu8rt5vqSRJJXidnaa+qAxA5CPU0aMvwFDTX0zT6fsIMEkcQdNJj5mxADs3/x68sr3ix0kmWBiJsjZAOyQrDXkp32/aSTG+Fz3BDkZgKylH0neym/4AkJtDMflcjpw7QeQEkGCpXnlB4hkFAmW5uIncO8IquFB8uf8MDDd1oUrXFmO7aJc7HbQPJ4wU8zmad2XtA3AvtjZSN69GzYOUkCF7gWSlgHIWvqQyF/shJgGYlToXCXr7QGSzCOv/DAzwtaRYxzPAHYkT+jCmvN0gmCi08giRwZgx/B9QD6MKyo0IRntJMbQ2RKgAjjzyo8OZbbOspJ1BrB3/ZvJR+9GjcMUMCrbqSD7DJDgUfLKjyK9bd11S7czgHyCS0my2pxMIaHvUCgshl5FUFQKQtWJ4FALHGmHz5rhizY43BaomEawqOwuA6mg25cl840L5DexQiithNMvhNMvglMr4IT+zt5t3QS762H332FXfTQNQumwy1zLLmcAO1HzNU+E8oNTK+AbN8KwGc4V3h3JODS9Av98GPauz/17fiK4vKuE1K4NoJr1RDFLd+BY+PYCOK3CuzH2rof3fg07Q5Pkm40NYjYXdfYXnRqAXMhEBH/zVibDFBbDRQ/AiFv8G3PbUlhTpfYNYUcyqbP6BJ2fAizu8lwgkwwcC9c3+Kt8UMvLtZuhZKy/47qhC51+ZQawy7J85LlApjhjAkx7Te3ogyIZhz9PhebQH5jOzixX09kM4POvUQ6cdTVc/kawygewCmDKy2omCjdf0e0xM4BdjeuTSBRk6jtUTb9BKz+djlZ4eRy0bQ1aks4R7GEAg9Orlx07A6hSbOFXPsCkp8OlfFAb0UnaQTn+IRnIPirT/1dBxgM3+CqQW0beptZ+NyTj0LIW9m6A//0L2puP/l1RKXytHAZ9RzmNYoX63z/9IrU53LbUnXxeo3S8KvWfXy4BdgXOFsJbhFFhFcAPP4E+JXrvJeOw+TH44NFjld4VfUrg3Htg5Cx9QzjUAn8YEVbP4X6KKUlVND26BLQynrArH9TGT1f5h1pg+fnw9o+dKT/1zrq58MeL4UCj3nh9StQsFU5OtnUNpBuAYFog4ugy5Lt6z3/RBq9OVH59N7RuUu93tOq9N3KWu/H8IE3XRw1AFV4OP2dO0Xt+4/2578o/a1YePx36DoXiMbmN6xVpurbAzu8Lvup2dgqL1R+nHGmHLU+YGfujl/RnkUGV2Z8JhpG2zu0ZIEHoPRgA9NPMP21eDYkOc+M3LNJ7/rTzzI1tGlvnygAElwQqjFPc7MZNouvq1TVYP7F1rgxAddrIkw3dvYTOcuU3ts4L7B47Id2tZHBwh97zXvwGNr4AfU539uyhvebHN8cYKREiUrd/sUK49XPnzyfj8FyZ87P/8cfZFhbDg5bCMYkOdSRzilUAFz/knTxRx2K4hYxYaZcdmmFY5ddBxa88ESXySMotu69edNi+XP+d838Jlz4bvtvDoJGUWaimitFhz1p3a/qwGXBdg/qZJ8UgC9VRMzokOuDdX7h7t6hUzQTX2fGDbq57exYlQlbzb6KY83/1uyr2PxeOtKtY/w+fUQkgybgJyaJEg5DV7IaIRAGlc8o58P1/mFvXj7SrOP+df4aP/6J/+xdN9ghZzadEtd7PmVNg6mvquGeSZFzNCB8th8bnwxrYYYKDQlZzGOgVtCSuGXELjK8xbwQpEh3KCLbURi8lLDtHhKwhiYcNCXzhzClw2YveH/N218O796ufPQGB7BkGANB/OEx9Wf30mubV8NYd4Q3/dopAWkh6xta3bSssO1clbZqMAeiM0kq45n3lYfRq6fEDSTzam8Cu6FcOYx/XDx9zw+56eON687EH/nDQAv+7VXrOgUaVq/fyOHXO9/J8f8YE+N6b4Q7+6Jr26DqCdOhXDufcrgpGmCgW0RmHWuCVcfoh5MHSIGQ1a4BxQUviC7FCtSycdRUMmW7eGNq2wkvnR6NegOItIatZBvwgaEl8xypQ03f5tcooTio1892ddbDicjPf8p4XC4BdQUsRCMm4Os6lAj1PrYCzr1bLhG7mUTpDpsM3boIPl5iQ0mt2WQgz3aciz383wvp74NnBsOoH7jOJAC5ZAL092muYRNBkIYjUrsVzknHY/hK8eK77490J/WH0XPOymUbQaJEk4u4sD2l8Hl4YBZ+syv5sJqPmhN9JlGSrRRVN9ERfgCk6WmHlldCyTu+9wmL3NQz8oZ0qmiwhkEAOC95xQKIDVl2tf7wbPNkbecywSQikmqME7yFDnB/Yq0jVBXDK5y0qqMMkh1rgg8fgvJ87fyes2cGgdE6qRIxkHXBnkPJ0i27tnb3rzRsAKLeyjgGE2T2sdG7nBsZYG6gw2dD15Zty6mTy3416z+fiT/AaW+cWgN1/dkugAnXHZ816629RqXeJmTqZSeGNOt6S6jmcXiLm9cDEcYLuJcsQj5qanhji32qnpOk6vUTMikCEcYru9DvMg4p3/cr1zvY6s4WfpOn6qAEUswbYH4Q8jtB1xpRWmp8Fvq6ZVfTpDrPjm2G/rWsgzQDsunHhLYD/8V9UxS8dxj1ubiN2UimMuVvvnX2hdK/UpWoEQmapWMFzvovjlCPt+jV6+g5V0Tp9h+Y2dp8SuMJFUeqPXbiQvSZDx8cawABWI9TuMJS8/xv9jJ3+w1VR6dFz3fnmB09RGUi60cZftIWvfLwqFn2MUMcYgLiGBJIlvgqlQ0crvP0T/fd6Fakr2hv3qJ+Dp3R/TDzlHPjmbXDVuzB9pbsZpGGR99HJukiWpFcKh6g2jJhWp18xtDMOtSglpa58+5QcbSeXC+3N6hYxfCllX2kY0XnPoBpeQ+LRQdoAJ5Wq7OCwetpWXB6+hlKCOlHFV2LVOu8ZlOQRzwXKhc+aVf3eMMbiNywKn/KhS51Gu21c/+Fqlx+WmWD7cnjjujDWGeiybVzXvYMF8zwTxxRtW1Usfi7xe6b48JmwKr9bXXbfO7iGDUguMC+RYawCuGAefOtu/8OwjrSrjOF//s7fcZ0ieEdUdT2Td9893GEP+sBJxlVE7/Mj1J29XzS9qnb7YVU+ZNVh1rRwWcMKJFPNSeQDp5yjHD/l15qvGZDoUEbWsCh8jp5MBCtFVfeNQLIbwJMMI85moLcxwfwilQo2eLJq5uQ2ROuLNnUbuX05/CcyJWMOU8AocSvbunvIUWEIWc184GdGxAqSXkWqzWvxGCgcoJw+J2Y4flI3eAd3qq5i+zZFLeEzxQNidvYl3JkBLKQIwQcQsaqixy9NSEaLOdnD/bvfBNqIObQjmJm7XHl8QTDTifLBoQEAiCrqESxwL1UeXxAsEFXUO33csQHYT98HNGiKlMc/GmwdOUa7Oph9KthIT6srFH0OUkBFtl1/JnozAGAPEN4kkuOXO3WVDy4MAEDM5mkg34ojPDxk60Qb1wUi7WZTf4IQxw0cH9RRxRV2kq82rmYAACGQxJiBYLPbb+TJEcFmYsxwq3zIwQAAxCwOYDEZ8lVGAqARi8liFgdy+UhOBgB2XmGSSmBHrt/K45gdJKlM5fflQs4GACBuZycJJpE3Aj/YQYJJ4nZ2mviYEQMAEHfQRJIJ5JcDL2kkyQRxh7nKbsbLxMtaBpJkFZJRpr99XCPYbK/5RhN3jM0AKcQs9mAxjjDnGUaPOizGmVY+eDADpLD9BA8CLlJ58qTxEFX8NJejXnd43ilEVnMz8Bj5uwNdDgJ3uvXwOcWXVjH2BdIr9PSy9OZooIAr3fj2dTG+B+gMcSvbiFGRjydwgGABMf1bPffD+YysYQKSxeTDyzJpQjBTJ5jDBL7MAOmIKuqRjAYegKOVKo5jDgMPIBntt/IhgBkgHfkkw0jwaOTyDkwhWEmMuX5N952LEALkE1yKZH4k0tBMIHgHwb3iNv4avCghQtYwHcl9hD0r2T0bEMwTVeFxkoXKAFLIhUzE4q5QF6nQQVBHkkfEHN4MWpRMQmkAKexyNbcguAkZsRb3gj12vaWnMsuyhIlQG0AKuYwY+6hEcgMqBO3koGXqgv1AHYLnGMDqzIJMYSQSBpCOXEZvWhmPYBqSy4CRAYu0BcHrSFZQzJr0IoxRIHIGkImsZSAJxiK4BMl5wBjAqz7y7cAmu8HGOmKs9eKGzk8ibwCZ2LeQZVgMR1KOpAwYBJQAxUB/lIEUIr5smBEHOlAKbgNagRZgF4ImBI0k2UoVTV7dygXF/wF+fTz59Jc5ygAAAABJRU5ErkJggg=="
    }));
  }
  async getHistoryKLineData(f, n, y, b) {
    return await ((await (await fetch(`https://api.polygon.io/v2/aggs/ticker/${f.ticker}/range/${n.multiplier}/${n.timespan}/${y}/${b}?apiKey=${this._apiKey}`)).json()).results || []).map((M) => ({
      timestamp: M.t,
      open: M.o,
      high: M.h,
      low: M.l,
      close: M.c,
      volume: M.v,
      turnover: M.vw
    }));
  }
  subscribe(f, n, y) {
    var b, S;
    this._prevSymbolMarket !== f.market ? ((b = this._ws) == null || b.close(), this._ws = new WebSocket(`wss://delayed.polygon.io/${f.market}`), this._ws.onopen = () => {
      var T;
      (T = this._ws) == null || T.send(JSON.stringify({ action: "auth", params: this._apiKey }));
    }, this._ws.onmessage = (T) => {
      var z;
      const M = JSON.parse(T.data);
      M[0].ev === "status" ? M[0].status === "auth_success" && ((z = this._ws) == null || z.send(JSON.stringify({ action: "subscribe", params: `T.${f.ticker}` }))) : "sym" in M && y({
        timestamp: M.s,
        open: M.o,
        high: M.h,
        low: M.l,
        close: M.c,
        volume: M.v,
        turnover: M.vw
      });
    }) : (S = this._ws) == null || S.send(JSON.stringify({ action: "subscribe", params: `T.${f.ticker}` })), this._prevSymbolMarket = f.market;
  }
  unsubscribe(f, n, y) {
  }
}
const oA = /* @__PURE__ */ Je('<svg class="logo" viewBox="0 0 80 92">'), sA = oA();
class fA {
  constructor(f) {
    yo(this, "_chartApi", null);
    if (Ie.utils.isString(f.container)) {
      if (this._container = document.getElementById(f.container), !this._container)
        throw new Error("Container is null");
    } else
      this._container = f.container;
    this._container.classList.add("klinecharts-pro"), this._container.setAttribute("data-theme", f.theme ?? "light");
    const n = this;
    I5(() => je(qE, {
      ref: (y) => {
        n._chartApi = y;
      },
      get styles() {
        return f.styles ?? {};
      },
      get watermark() {
        return f.watermark ?? sA;
      },
      get theme() {
        return f.theme ?? "light";
      },
      get locale() {
        return f.locale ?? "zh-CN";
      },
      get drawingBarVisible() {
        return f.drawingBarVisible ?? !0;
      },
      get orderPanelVisible() {
        return f.orderPanelVisible ?? !1;
      },
      get symbol() {
        return f.symbol;
      },
      get period() {
        return f.period;
      },
      get periods() {
        return f.periods ?? [{
          multiplier: 1,
          timespan: "minute",
          text: "1m"
        }, {
          multiplier: 5,
          timespan: "minute",
          text: "5m"
        }, {
          multiplier: 15,
          timespan: "minute",
          text: "15m"
        }, {
          multiplier: 30,
          timespan: "minute",
          text: "30m"
        }, {
          multiplier: 1,
          timespan: "hour",
          text: "1H"
        }, {
          multiplier: 2,
          timespan: "hour",
          text: "2H"
        }, {
          multiplier: 4,
          timespan: "hour",
          text: "4H"
        }, {
          multiplier: 1,
          timespan: "day",
          text: "D"
        }, {
          multiplier: 1,
          timespan: "week",
          text: "W"
        }, {
          multiplier: 1,
          timespan: "month",
          text: "M"
        }, {
          multiplier: 1,
          timespan: "year",
          text: "Y"
        }];
      },
      get timezone() {
        return f.timezone ?? "Asia/Shanghai";
      },
      get mainIndicators() {
        return f.mainIndicators ?? [];
      },
      get subIndicators() {
        return f.subIndicators ?? [];
      },
      get datafeed() {
        return f.datafeed;
      },
      get chartSession() {
        return f.chartSession;
      },
      get dataTimestamp() {
        return f.dataTimestamp;
      },
      get orderController() {
        return f.orderController;
      },
      get chartSessionController() {
        return f.chartSessionController;
      },
      get rootElementId() {
        return f.rootElementId;
      }
    }), this._container);
  }
  destroy() {
    this._container = null, this._chartApi = null;
  }
  setTheme(f) {
    var n;
    (n = this._container) == null || n.setAttribute("data-theme", f), this._chartApi.setTheme(f);
  }
  getTheme() {
    return this._chartApi.getTheme();
  }
  setStyles(f) {
    this._chartApi.setStyles(f);
  }
  getStyles() {
    return this._chartApi.getStyles();
  }
  setLocale(f) {
    this._chartApi.setLocale(f);
  }
  getLocale() {
    return this._chartApi.getLocale();
  }
  setTimezone(f) {
    this._chartApi.setTimezone(f);
  }
  getTimezone() {
    return this._chartApi.getTimezone();
  }
  setSymbol(f) {
    this._chartApi.setSymbol(f);
  }
  getSymbol() {
    return this._chartApi.getSymbol();
  }
  setPeriod(f) {
    this._chartApi.setPeriod(f);
  }
  getPeriod() {
    return this._chartApi.getPeriod();
  }
}
class pA {
  constructor(f, n, y) {
    yo(this, "apikey");
    yo(this, "apiurl");
    yo(this, "testsesson_id");
    this.apiurl = f, this.apikey = n, this.testsesson_id = y;
  }
  async retrieveOrder(f) {
    const n = await this.makeFetchWithAuthAndBody("GET", `${this.apiurl}/positions/${f}`), y = await (n == null ? void 0 : n.json());
    return {
      entryPoint: y.data.entrypoint,
      stopLoss: y.data.stoploss,
      takeProfit: y.data.takeprofit,
      lotSize: y.data.lotsize,
      pl: y.data.pl,
      sessionId: y.data.test_session_id,
      orderId: y.data.id,
      entryTime: y.data.entrytime,
      exitTime: y.data.exittime,
      exitPoint: y.data.exitpoint,
      action: y.data.action
    };
  }
  async retrieveOrders(f, n) {
    try {
      return ((await (await this.makeFetchWithAuthAndBody("GET", `${this.apiurl}/positions`)).json()).data || []).map((S) => ({
        entryPoint: S.entrypoint,
        stopLoss: S.stoploss,
        takeProfit: S.takeprofit,
        lotSize: S.lotsize,
        pl: S.pl,
        sessionId: S.test_session_id,
        orderId: S.id,
        entryTime: S.entrytime,
        exitTime: S.exittime,
        exitPoint: S.exitpoint,
        action: S.action
      }));
    } catch {
      return [];
    }
  }
  async openOrder(f, n, y, b, S) {
    const T = await this.makeFetchWithAuthAndBody("POST", `${this.apiurl}/positions`, {
      test_session_id: this.testsesson_id,
      action: f,
      entrypoint: y,
      stoploss: b,
      takeprofit: S
    }), M = await (T == null ? void 0 : T.json());
    return {
      orderId: M.id,
      sessionId: M.test_session_id,
      action: M.action,
      entryPoint: M.entrypoint,
      exitPoint: M.exitpoint,
      stopLoss: M.stoploss,
      takeProfit: M.takeprofit,
      lotSize: M.lotsize,
      pips: M.pips,
      pl: M.pl,
      entryTime: M.entrytime,
      exitTime: M.exittime,
      exitType: M.exittype,
      partials: M.partials
    };
  }
  async closeOrder(f, n) {
    try {
      const y = await this.makeFetchWithAuthAndBody("PUT", `${this.apiurl}/positions/${f}`);
      return await (y == null ? void 0 : y.json());
    } catch {
      return null;
    }
  }
  async modifyOrder(f) {
    const n = await this.makeFetchWithAuthAndBody("PUT", `${this.apiurl}/positions/${f.id}`, f), y = await (n == null ? void 0 : n.json());
    return {
      orderId: y.id,
      sessionId: y.test_session_id,
      action: y.action,
      entryPoint: y.entrypoint,
      exitPoint: y.exitpoint,
      stopLoss: y.stoploss,
      takeProfit: y.takeprofit,
      lotSize: y.lotsize,
      pips: y.pips,
      pl: y.pl,
      entryTime: y.entrytime,
      exitTime: y.exittime,
      exitType: y.exittype,
      partials: y.partials
    };
  }
  async unsetSlOrTP(f, n) {
    const y = await this.makeFetchWithAuthAndBody("PUT", `${this.apiurl}/positions/${f}/unset/${n}`), b = await (y == null ? void 0 : y.json());
    return {
      orderId: b.id,
      sessionId: b.test_session_id,
      action: b.action,
      entryPoint: b.entrypoint,
      exitPoint: b.exitpoint,
      stopLoss: b.stoploss,
      takeProfit: b.takeprofit,
      lotSize: b.lotsize,
      pips: b.pips,
      pl: b.pl,
      entryTime: b.entrytime,
      exitTime: b.exittime,
      exitType: b.exittype,
      partials: b.partials
    };
  }
  launchOrderModal(f, n, y) {
  }
  async makeFetchWithAuthAndBody(f, n, y) {
    const b = {
      method: f,
      credentials: "include",
      headers: {
        Accept: "application/json",
        "Content-Type": "application/json",
        authorization: `Bearer ${this.apikey}`
      },
      body: y ? JSON.stringify(y) : null
    };
    try {
      return await fetch(`${n}`, b);
    } catch (S) {
      return alert(S.message ?? "An error occured"), null;
    }
  }
}
class vA {
  constructor(f, n) {
    yo(this, "apikey");
    yo(this, "apiurl");
    this.apiurl = f, this.apikey = n;
  }
  async retrieveSession(f) {
    const n = await this.makeFetchWithAuthAndBody("GET", `${this.apiurl}/test-sessions/${f}`), y = await (n == null ? void 0 : n.json());
    return {
      id: y.data.id,
      starting_bal: y.data.starting_bal,
      current_bal: y.data.current_bal,
      equity: y.data.equity,
      strategy_id: y.data.strategy_id,
      user_id: y.data.user_id,
      pair: y.data.pair,
      chart: y.data.chart,
      chart_timestamp: y.data.chart_timestamp,
      start_date: y.data.start_date,
      end_date: y.data.end_date
    };
  }
  isNotGuest() {
    return !1;
  }
  async updateSession(f) {
    const n = await this.makeFetchWithAuthAndBody("PUT", `${this.apiurl}/test-sessions/${f.id}`, f), y = await (n == null ? void 0 : n.json());
    return {
      id: y.id,
      starting_bal: y.starting_bal,
      current_bal: y.current_bal,
      equity: y.equity,
      strategy_id: y.strategy_id,
      user_id: y.user_id,
      pair: y.pair,
      chart: y.chart,
      chart_timestamp: y.chart_timestamp,
      start_date: y.start_date,
      end_date: y.end_date
    };
  }
  // async retrieveChartState(id: number): Promise<ChartObjType | null> {
  //   const response = await this.makeFetchWithAuthAndBody('GET', `${this.apiurl}/test-sessions/${id}`)
  //   const resp = await response?.json()
  //   return resp.data
  // }
  // async syncState(id: number, chart_state: ChartObjType): Promise<boolean> {
  //   const response = await this.makeFetchWithAuthAndBody('PUT', `${this.apiurl}/test-sessions/${id}`, chart_state)
  // }
  async makeFetchWithAuthAndBody(f, n, y) {
    const b = {
      method: f,
      credentials: "include",
      headers: {
        Accept: "application/json",
        "Content-Type": "application/json",
        authorization: `Bearer ${this.apikey}`
      },
      body: y ? JSON.stringify(y) : null
    };
    try {
      return await fetch(`${n}`, b);
    } catch (S) {
      return alert(S.message ?? "An error occured"), null;
    }
  }
}
aA.forEach((e) => {
  Ie.registerOverlay(e);
});
export {
  dA as DefaultDatafeed,
  pA as DefaultOrderController,
  vA as DefaultSessionController,
  fA as KLineChartPro,
  uA as loadLocales
};
//# sourceMappingURL=klinecharts-ui.js.map
